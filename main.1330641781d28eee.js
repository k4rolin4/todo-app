"use strict";(self.webpackChunktodo_app=self.webpackChunktodo_app||[]).push([[179],{2011:(lt,Se,k)=>{k.d(Se,{hO:()=>ze,xv:()=>le,Dh:()=>he,GT:()=>ge,cc:()=>Ae,on:()=>$,pX:()=>X});var p=k(5e3),Y=k(127),N=k(5813);lt=k.hmd(lt);const ue=["ngOnDestroy"],X=(be,rt,Ye,Ie={})=>new Proxy(be,{get:(ve,we)=>Ye.runOutsideAngular(()=>{var qe;if(be[we])return(null===(qe=null==Ie?void 0:Ie.spy)||void 0===qe?void 0:qe.get)&&Ie.spy.get(we,be[we]),be[we];if(ue.indexOf(we)>-1)return()=>{};const He=rt.toPromise().then(ne=>{const K=ne&&ne[we];return"function"==typeof K?K.bind(ne):K&&K.then?K.then(ie=>Ye.run(()=>ie)):Ye.run(()=>K)});return new Proxy(()=>{},{get:(ne,K)=>He[K],apply:(ne,K,ie)=>He.then(me=>{var se;const Re=me&&me(...ie);return(null===(se=null==Ie?void 0:Ie.spy)||void 0===se?void 0:se.apply)&&Ie.spy.apply(we,ie,Re),Re})})})}),ge=(be,rt)=>{rt.forEach(Ye=>{Object.getOwnPropertyNames(Ye.prototype||Ye).forEach(Ie=>{Object.defineProperty(be.prototype,Ie,Object.getOwnPropertyDescriptor(Ye.prototype||Ye,Ie))})})};class re{constructor(rt){return rt}}const he=new p.OlP("angularfire2.app.options"),le=new p.OlP("angularfire2.app.name");function $(be,rt,Ye){const ve="object"==typeof Ye&&Ye||{};ve.name=ve.name||"string"==typeof Ye&&Ye||"[DEFAULT]";const qe=Y.Z.apps.filter(He=>He&&He.name===ve.name)[0]||rt.runOutsideAngular(()=>Y.Z.initializeApp(be,ve));try{JSON.stringify(be)!==JSON.stringify(qe.options)&&H("error",`${qe.name} Firebase App already initialized with different options${lt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(He){}return new re(qe)}const H=(be,...rt)=>{(0,p.X6Q)()&&"undefined"!=typeof console&&console[be](...rt)},J={provide:re,useFactory:$,deps:[he,p.R0b,[new p.FiY,le]]};let ze=(()=>{class be{constructor(Ye){Y.Z.registerVersion("angularfire",N.q4.full,"core"),Y.Z.registerVersion("angularfire",N.q4.full,"app-compat"),Y.Z.registerVersion("angular",p.q4F.full,Ye.toString())}static initializeApp(Ye,Ie){return{ngModule:be,providers:[{provide:he,useValue:Ye},{provide:le,useValue:Ie}]}}}return be.\u0275fac=function(Ye){return new(Ye||be)(p.LFG(p.Lbi))},be.\u0275mod=p.oAB({type:be}),be.\u0275inj=p.cJS({providers:[J]}),be})();function Ae(be,rt,Ye,Ie,ve){const[,we,qe]=globalThis.\u0275AngularfireInstanceCache.find(He=>He[0]===be)||[];if(we)return function Oe(be,rt){try{return be.toString()===rt.toString()}catch(Ye){return be===rt}}(ve,qe)||(fe("error",`${rt} was already initialized on the ${Ye} Firebase App with different settings.${Le?" You may need to reload as Firebase is not HMR aware.":""}`),fe("warn",{is:ve,was:qe})),we;{const He=Ie();return globalThis.\u0275AngularfireInstanceCache.push([be,He,ve]),He}}const Le=!!lt.hot,fe=(be,...rt)=>{(0,p.X6Q)()&&"undefined"!=typeof console&&console[be](...rt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(lt,Se,k)=>{k.d(Se,{q4:()=>cd,iC:()=>zl,HU:()=>_t,vb:()=>fd,JM:()=>Xo});var p=k(5e3),Y=k(5867),N=k(5861),ue=k(9681),X=k(2090),ge=k(4859),re=k(1877);const he="@firebase/installations",H="w:0.5.8",J="FIS_v2",be=new X.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function rt(C){return C instanceof X.ZR&&C.code.includes("request-failed")}function Ye({projectId:C}){return`https://firebaseinstallations.googleapis.com/v1/projects/${C}/installations`}function Ie(C){return{token:C.token,requestStatus:2,expiresIn:ie(C.expiresIn),creationTime:Date.now()}}function ve(C,I){return we.apply(this,arguments)}function we(){return(we=(0,N.Z)(function*(C,I){const L=(yield I.json()).error;return be.create("request-failed",{requestName:C,serverCode:L.code,serverMessage:L.message,serverStatus:L.status})})).apply(this,arguments)}function qe({apiKey:C}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C})}function He(C,{refreshToken:I}){const R=qe(C);return R.append("Authorization",function me(C){return`${J} ${C}`}(I)),R}function ne(C){return K.apply(this,arguments)}function K(){return(K=(0,N.Z)(function*(C){const I=yield C();return I.status>=500&&I.status<600?C():I})).apply(this,arguments)}function ie(C){return Number(C.replace("s","000"))}function se(C,I){return Re.apply(this,arguments)}function Re(){return(Re=(0,N.Z)(function*({appConfig:C,heartbeatServiceProvider:I},{fid:R}){const L=Ye(C),W=qe(C),ee=I.getImmediate({optional:!0});if(ee){const Ct=yield ee.getHeartbeatsHeader();Ct&&W.append("x-firebase-client",Ct)}const Je={method:"POST",headers:W,body:JSON.stringify({fid:R,authVersion:J,appId:C.appId,sdkVersion:H})},st=yield ne(()=>fetch(L,Je));if(st.ok){const Ct=yield st.json();return{fid:Ct.fid||R,registrationStatus:2,refreshToken:Ct.refreshToken,authToken:Ie(Ct.authToken)}}throw yield ve("Create Installation",st)})).apply(this,arguments)}function ae(C){return new Promise(I=>{setTimeout(I,C)})}const Xt=/^[cdef][\w-]{21}$/;function ct(){try{const C=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(C),C[0]=112+C[0]%16;const R=function wt(C){return function St(C){return btoa(String.fromCharCode(...C)).replace(/\+/g,"-").replace(/\//g,"_")}(C).substr(0,22)}(C);return Xt.test(R)?R:""}catch(C){return""}}function dn(C){return`${C.appName}!${C.appId}`}const hn=new Map;function Ii(C,I){const R=dn(C);en(R,I),function Wt(C,I){const R=function li(){return!fr&&"BroadcastChannel"in self&&(fr=new BroadcastChannel("[Firebase] FID Change"),fr.onmessage=C=>{en(C.data.key,C.data.fid)}),fr}();R&&R.postMessage({key:C,fid:I}),function xs(){0===hn.size&&fr&&(fr.close(),fr=null)}()}(R,I)}function en(C,I){const R=hn.get(C);if(R)for(const L of R)L(I)}let fr=null;const Ur="firebase-installations-store";let Yi=null;function Qi(){return Yi||(Yi=(0,X.X3)("firebase-installations-database",1,(C,I)=>{0===I&&C.createObjectStore(Ur)})),Yi}function dt(C,I){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,N.Z)(function*(C,I){const R=dn(C),W=(yield Qi()).transaction(Ur,"readwrite"),ee=W.objectStore(Ur),xe=yield ee.get(R);return yield ee.put(I,R),yield W.complete,(!xe||xe.fid!==I.fid)&&Ii(C,I.fid),I})).apply(this,arguments)}function rr(C){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,N.Z)(function*(C){const I=dn(C),L=(yield Qi()).transaction(Ur,"readwrite");yield L.objectStore(Ur).delete(I),yield L.complete})).apply(this,arguments)}function ci(C,I){return io.apply(this,arguments)}function io(){return(io=(0,N.Z)(function*(C,I){const R=dn(C),W=(yield Qi()).transaction(Ur,"readwrite"),ee=W.objectStore(Ur),xe=yield ee.get(R),Je=I(xe);return void 0===Je?yield ee.delete(R):yield ee.put(Je,R),yield W.complete,Je&&(!xe||xe.fid!==Je.fid)&&Ii(C,Je.fid),Je})).apply(this,arguments)}function En(C){return ir.apply(this,arguments)}function ir(){return(ir=(0,N.Z)(function*(C){let I;const R=yield ci(C.appConfig,L=>{const W=Rs(L),ee=ma(C,W);return I=ee.registrationPromise,ee.installationEntry});return""===R.fid?{installationEntry:yield I}:{installationEntry:R,registrationPromise:I}})).apply(this,arguments)}function Rs(C){return zt(C||{fid:ct(),registrationStatus:0})}function ma(C,I){if(0===I.registrationStatus){if(!navigator.onLine)return{installationEntry:I,registrationPromise:Promise.reject(be.create("app-offline"))};const R={fid:I.fid,registrationStatus:1,registrationTime:Date.now()},L=function Kt(C,I){return at.apply(this,arguments)}(C,R);return{installationEntry:R,registrationPromise:L}}return 1===I.registrationStatus?{installationEntry:I,registrationPromise:Dt(C)}:{installationEntry:I}}function at(){return(at=(0,N.Z)(function*(C,I){try{const R=yield se(C,I);return dt(C.appConfig,R)}catch(R){throw rt(R)&&409===R.customData.serverCode?yield rr(C.appConfig):yield dt(C.appConfig,{fid:I.fid,registrationStatus:0}),R}})).apply(this,arguments)}function Dt(C){return pr.apply(this,arguments)}function pr(){return(pr=(0,N.Z)(function*(C){let I=yield Li(C.appConfig);for(;1===I.registrationStatus;)yield ae(100),I=yield Li(C.appConfig);if(0===I.registrationStatus){const{installationEntry:R,registrationPromise:L}=yield En(C);return L||R}return I})).apply(this,arguments)}function Li(C){return ci(C,I=>{if(!I)throw be.create("installation-not-found");return zt(I)})}function zt(C){return function so(C){return 1===C.registrationStatus&&C.registrationTime+1e4<Date.now()}(C)?{fid:C.fid,registrationStatus:0}:C}function Ir(C,I){return gr.apply(this,arguments)}function gr(){return(gr=(0,N.Z)(function*({appConfig:C,heartbeatServiceProvider:I},R){const L=ht(C,R),W=He(C,R),ee=I.getImmediate({optional:!0});if(ee){const Ct=yield ee.getHeartbeatsHeader();Ct&&W.append("x-firebase-client",Ct)}const Je={method:"POST",headers:W,body:JSON.stringify({installation:{sdkVersion:H,appId:C.appId}})},st=yield ne(()=>fetch(L,Je));if(st.ok)return Ie(yield st.json());throw yield ve("Generate Auth Token",st)})).apply(this,arguments)}function ht(C,{fid:I}){return`${Ye(C)}/${I}/authTokens:generate`}function Tr(C){return jt.apply(this,arguments)}function jt(){return(jt=(0,N.Z)(function*(C,I=!1){let R;const L=yield ci(C.appConfig,ee=>{if(!Lt(ee))throw be.create("not-registered");const xe=ee.authToken;if(!I&&j(xe))return ee;if(1===xe.requestStatus)return R=Qe(C,I),ee;{if(!navigator.onLine)throw be.create("app-offline");const Je=q(ee);return R=ft(C,Je),Je}});return R?yield R:L.authToken})).apply(this,arguments)}function Qe(C,I){return Te.apply(this,arguments)}function Te(){return(Te=(0,N.Z)(function*(C,I){let R=yield nt(C.appConfig);for(;1===R.authToken.requestStatus;)yield ae(100),R=yield nt(C.appConfig);const L=R.authToken;return 0===L.requestStatus?Tr(C,I):L})).apply(this,arguments)}function nt(C){return ci(C,I=>{if(!Lt(I))throw be.create("not-registered");return function de(C){return 1===C.requestStatus&&C.requestTime+1e4<Date.now()}(I.authToken)?Object.assign(Object.assign({},I),{authToken:{requestStatus:0}}):I})}function ft(C,I){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,N.Z)(function*(C,I){try{const R=yield Ir(C,I),L=Object.assign(Object.assign({},I),{authToken:R});return yield dt(C.appConfig,L),R}catch(R){if(!rt(R)||401!==R.customData.serverCode&&404!==R.customData.serverCode){const L=Object.assign(Object.assign({},I),{authToken:{requestStatus:0}});yield dt(C.appConfig,L)}else yield rr(C.appConfig);throw R}})).apply(this,arguments)}function Lt(C){return void 0!==C&&2===C.registrationStatus}function j(C){return 2===C.requestStatus&&!function V(C){const I=Date.now();return I<C.creationTime||C.creationTime+C.expiresIn<I+36e5}(C)}function q(C){const I={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},C),{authToken:I})}function Be(){return(Be=(0,N.Z)(function*(C){const I=C,{installationEntry:R,registrationPromise:L}=yield En(I);return L?L.catch(console.error):Tr(I).catch(console.error),R.fid})).apply(this,arguments)}function Qt(){return(Qt=(0,N.Z)(function*(C,I=!1){const R=C;return yield Sr(R),(yield Tr(R,I)).token})).apply(this,arguments)}function Sr(C){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,N.Z)(function*(C){const{registrationPromise:I}=yield En(C);I&&(yield I)})).apply(this,arguments)}function Zn(C){return be.create("missing-app-config-values",{valueName:C})}const _a="installations",Ne=C=>{const I=C.getProvider("app").getImmediate(),R=function Ji(C){if(!C||!C.options)throw Zn("App Configuration");if(!C.name)throw Zn("App Name");const I=["projectId","apiKey","appId"];for(const R of I)if(!C.options[R])throw Zn(R);return{appName:C.name,projectId:C.options.projectId,apiKey:C.options.apiKey,appId:C.options.appId}}(I);return{app:I,appConfig:R,heartbeatServiceProvider:(0,ue._getProvider)(I,"heartbeat"),_delete:()=>Promise.resolve()}},Ft=C=>{const I=C.getProvider("app").getImmediate(),R=(0,ue._getProvider)(I,_a).getImmediate();return{getId:()=>function Q(C){return Be.apply(this,arguments)}(R),getToken:W=>function Et(C){return Qt.apply(this,arguments)}(R,W)}};(function mn(){(0,ue._registerComponent)(new ge.wA(_a,Ne,"PUBLIC")),(0,ue._registerComponent)(new ge.wA("installations-internal",Ft,"PRIVATE"))})(),(0,ue.registerVersion)(he,"0.5.8"),(0,ue.registerVersion)(he,"0.5.8","esm2017");const mr="@firebase/remote-config",kn=new X.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class zh{constructor(I,R,L,W){this.client=I,this.storage=R,this.storageCache=L,this.logger=W}isCachedDataFresh(I,R){if(!R)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const L=Date.now()-R,W=L<=I;return this.logger.debug(`Config fetch cache check. Cache age millis: ${L}. Cache max age millis (minimumFetchIntervalMillis setting): ${I}. Is cache hit: ${W}.`),W}fetch(I){var R=this;return(0,N.Z)(function*(){const[L,W]=yield Promise.all([R.storage.getLastSuccessfulFetchTimestampMillis(),R.storage.getLastSuccessfulFetchResponse()]);if(W&&R.isCachedDataFresh(I.cacheMaxAgeMillis,L))return W;I.eTag=W&&W.eTag;const ee=yield R.client.fetch(I),xe=[R.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ee.status&&xe.push(R.storage.setLastSuccessfulFetchResponse(ee)),yield Promise.all(xe),ee})()}}function Gc(C=navigator){return C.languages&&C.languages[0]||C.language}class uu{constructor(I,R,L,W,ee,xe){this.firebaseInstallations=I,this.sdkVersion=R,this.namespace=L,this.projectId=W,this.apiKey=ee,this.appId=xe}fetch(I){var R=this;return(0,N.Z)(function*(){const[L,W]=yield Promise.all([R.firebaseInstallations.getId(),R.firebaseInstallations.getToken()]),xe=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${R.projectId}/namespaces/${R.namespace}:fetch?key=${R.apiKey}`,Je={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":I.eTag||"*"},st={sdk_version:R.sdkVersion,app_instance_id:L,app_instance_id_token:W,app_id:R.appId,language_code:Gc()},Ct={method:"POST",headers:Je,body:JSON.stringify(st)},Bt=fetch(xe,Ct),Mt=new Promise((_i,Zs)=>{I.signal.addEventListener(()=>{const Ys=new Error("The operation was aborted.");Ys.name="AbortError",Zs(Ys)})});let Ot;try{yield Promise.race([Bt,Mt]),Ot=yield Bt}catch(_i){let Zs="fetch-client-network";throw"AbortError"===_i.name&&(Zs="fetch-timeout"),kn.create(Zs,{originalErrorMessage:_i.message})}let Mn=Ot.status;const Ks=Ot.headers.get("ETag")||void 0;let ta,yi;if(200===Ot.status){let _i;try{_i=yield Ot.json()}catch(Zs){throw kn.create("fetch-client-parse",{originalErrorMessage:Zs.message})}ta=_i.entries,yi=_i.state}if("INSTANCE_STATE_UNSPECIFIED"===yi?Mn=500:"NO_CHANGE"===yi?Mn=304:("NO_TEMPLATE"===yi||"EMPTY_CONFIG"===yi)&&(ta={}),304!==Mn&&200!==Mn)throw kn.create("fetch-status",{httpStatus:Mn});return{status:Mn,eTag:Ks,config:ta}})()}}class Xp{constructor(I,R){this.client=I,this.storage=R}fetch(I){var R=this;return(0,N.Z)(function*(){const L=(yield R.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return R.attemptFetch(I,L)})()}attemptFetch(I,{throttleEndTimeMillis:R,backoffCount:L}){var W=this;return(0,N.Z)(function*(){yield function jn(C,I){return new Promise((R,L)=>{const W=Math.max(I-Date.now(),0),ee=setTimeout(R,W);C.addEventListener(()=>{clearTimeout(ee),L(kn.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}(I.signal,R);try{const ee=yield W.client.fetch(I);return yield W.storage.deleteThrottleMetadata(),ee}catch(ee){if(!function qc(C){if(!(C instanceof X.ZR&&C.customData))return!1;const I=Number(C.customData.httpStatus);return 429===I||500===I||503===I||504===I}(ee))throw ee;const xe={throttleEndTimeMillis:Date.now()+(0,X.$s)(L),backoffCount:L+1};return yield W.storage.setThrottleMetadata(xe),W.attemptFetch(I,xe)}})()}}class lu{constructor(I,R,L,W,ee){this.app=I,this._client=R,this._storageCache=L,this._storage=W,this._logger=ee,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function El(C,I){const R=C.target.error||void 0;return kn.create(I,{originalErrorMessage:R&&R.message})}const Fs="app_namespace_store";class Wh{constructor(I,R,L,W=function ng(){return new Promise((C,I)=>{try{const R=indexedDB.open("firebase_remote_config",1);R.onerror=L=>{I(El(L,"storage-open"))},R.onsuccess=L=>{C(L.target.result)},R.onupgradeneeded=L=>{0===L.oldVersion&&L.target.result.createObjectStore(Fs,{keyPath:"compositeKey"})}}catch(R){I(kn.create("storage-open",{originalErrorMessage:R}))}})}()){this.appId=I,this.appName=R,this.namespace=L,this.openDbPromise=W}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(I){return this.set("last_fetch_status",I)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(I){return this.set("last_successful_fetch_timestamp_millis",I)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(I){return this.set("last_successful_fetch_response",I)}getActiveConfig(){return this.get("active_config")}setActiveConfig(I){return this.set("active_config",I)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(I){return this.set("active_config_etag",I)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(I){return this.set("throttle_metadata",I)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(I){var R=this;return(0,N.Z)(function*(){const L=yield R.openDbPromise;return new Promise((W,ee)=>{const Je=L.transaction([Fs],"readonly").objectStore(Fs),st=R.createCompositeKey(I);try{const Ct=Je.get(st);Ct.onerror=Bt=>{ee(El(Bt,"storage-get"))},Ct.onsuccess=Bt=>{const Mt=Bt.target.result;W(Mt?Mt.value:void 0)}}catch(Ct){ee(kn.create("storage-get",{originalErrorMessage:Ct&&Ct.message}))}})})()}set(I,R){var L=this;return(0,N.Z)(function*(){const W=yield L.openDbPromise;return new Promise((ee,xe)=>{const st=W.transaction([Fs],"readwrite").objectStore(Fs),Ct=L.createCompositeKey(I);try{const Bt=st.put({compositeKey:Ct,value:R});Bt.onerror=Mt=>{xe(El(Mt,"storage-set"))},Bt.onsuccess=()=>{ee()}}catch(Bt){xe(kn.create("storage-set",{originalErrorMessage:Bt&&Bt.message}))}})})()}delete(I){var R=this;return(0,N.Z)(function*(){const L=yield R.openDbPromise;return new Promise((W,ee)=>{const Je=L.transaction([Fs],"readwrite").objectStore(Fs),st=R.createCompositeKey(I);try{const Ct=Je.delete(st);Ct.onerror=Bt=>{ee(El(Bt,"storage-delete"))},Ct.onsuccess=()=>{W()}}catch(Ct){ee(kn.create("storage-delete",{originalErrorMessage:Ct&&Ct.message}))}})})()}createCompositeKey(I){return[this.appId,this.appName,this.namespace,I].join()}}class Wc{constructor(I){this.storage=I}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var I=this;return(0,N.Z)(function*(){const R=I.storage.getLastFetchStatus(),L=I.storage.getLastSuccessfulFetchTimestampMillis(),W=I.storage.getActiveConfig(),ee=yield R;ee&&(I.lastFetchStatus=ee);const xe=yield L;xe&&(I.lastSuccessfulFetchTimestampMillis=xe);const Je=yield W;Je&&(I.activeConfig=Je)})()}setLastFetchStatus(I){return this.lastFetchStatus=I,this.storage.setLastFetchStatus(I)}setLastSuccessfulFetchTimestampMillis(I){return this.lastSuccessfulFetchTimestampMillis=I,this.storage.setLastSuccessfulFetchTimestampMillis(I)}setActiveConfig(I){return this.activeConfig=I,this.storage.setActiveConfig(I)}}function ao(){return Kh.apply(this,arguments)}function Kh(){return(Kh=(0,N.Z)(function*(){if(!(0,X.hl)())return!1;try{return yield(0,X.eu)()}catch(C){return!1}})).apply(this,arguments)}!function Uo(){(0,ue._registerComponent)(new ge.wA("remote-config",function C(I,{instanceIdentifier:R}){const L=I.getProvider("app").getImmediate(),W=I.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw kn.create("registration-window");if(!(0,X.hl)())throw kn.create("indexed-db-unavailable");const{projectId:ee,apiKey:xe,appId:Je}=L.options;if(!ee)throw kn.create("registration-project-id");if(!xe)throw kn.create("registration-api-key");if(!Je)throw kn.create("registration-app-id");const st=new Wh(Je,L.name,R=R||"firebase"),Ct=new Wc(st),Bt=new re.Yd(mr);Bt.logLevel=re.in.ERROR;const Mt=new uu(W,ue.SDK_VERSION,R,ee,xe,Je),Ot=new Xp(Mt,st),Mn=new zh(Ot,st,Ct,Bt),Ks=new lu(L,Mn,Ct,st,Bt);return function hi(C){const I=(0,X.m9)(C);I._initializePromise||(I._initializePromise=I._storageCache.loadFromStorage().then(()=>{I._isInitializationComplete=!0}))}(Ks),Ks},"PUBLIC").setMultipleInstances(!0)),(0,ue.registerVersion)(mr,"0.3.7"),(0,ue.registerVersion)(mr,"0.3.7","esm2017")}();const bl="/firebase-messaging-sw.js",Ls="/firebase-cloud-messaging-push-scope",Yr="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",uo="google.c.a.c_id",wa="google.c.a.c_l",Kc="google.c.a.ts",rg="google.c.a.e";var Vs=(()=>{return(C=Vs||(Vs={})).PUSH_RECEIVED="push-received",C.NOTIFICATION_CLICKED="notification-clicked",Vs;var C})();function pi(C){const I=new Uint8Array(C);return btoa(String.fromCharCode(...I)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function du(C){const R=(C+"=".repeat((4-C.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),L=atob(R),W=new Uint8Array(L.length);for(let ee=0;ee<L.length;++ee)W[ee]=L.charCodeAt(ee);return W}const hu="fcm_token_details_db",_r="fcm_token_object_Store";function Zh(C){return fu.apply(this,arguments)}function fu(){return fu=(0,N.Z)(function*(C){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ee=>ee.name).includes(hu))return null;let I=null;return(yield(0,X.X3)(hu,5,function(){var L=(0,N.Z)(function*(W,ee,xe,Je){var st;if(ee<2||!W.objectStoreNames.contains(_r))return;const Ct=Je.objectStore(_r),Bt=yield Ct.index("fcmSenderId").get(C);if(yield Ct.clear(),Bt)if(2===ee){const Mt=Bt;if(!Mt.auth||!Mt.p256dh||!Mt.endpoint)return;I={token:Mt.fcmToken,createTime:null!==(st=Mt.createTime)&&void 0!==st?st:Date.now(),subscriptionOptions:{auth:Mt.auth,p256dh:Mt.p256dh,endpoint:Mt.endpoint,swScope:Mt.swScope,vapidKey:"string"==typeof Mt.vapidKey?Mt.vapidKey:pi(Mt.vapidKey)}}}else if(3===ee){const Mt=Bt;I={token:Mt.fcmToken,createTime:Mt.createTime,subscriptionOptions:{auth:pi(Mt.auth),p256dh:pi(Mt.p256dh),endpoint:Mt.endpoint,swScope:Mt.swScope,vapidKey:pi(Mt.vapidKey)}}}else if(4===ee){const Mt=Bt;I={token:Mt.fcmToken,createTime:Mt.createTime,subscriptionOptions:{auth:pi(Mt.auth),p256dh:pi(Mt.p256dh),endpoint:Mt.endpoint,swScope:Mt.swScope,vapidKey:pi(Mt.vapidKey)}}}});return function(W,ee,xe,Je){return L.apply(this,arguments)}}())).close(),yield(0,X.Lj)(hu),yield(0,X.Lj)("fcm_vapid_details_db"),yield(0,X.Lj)("undefined"),Zc(I)?I:null}),fu.apply(this,arguments)}function Zc(C){if(!C||!C.subscriptionOptions)return!1;const{subscriptionOptions:I}=C;return"number"==typeof C.createTime&&C.createTime>0&&"string"==typeof C.token&&C.token.length>0&&"string"==typeof I.auth&&I.auth.length>0&&"string"==typeof I.p256dh&&I.p256dh.length>0&&"string"==typeof I.endpoint&&I.endpoint.length>0&&"string"==typeof I.swScope&&I.swScope.length>0&&"string"==typeof I.vapidKey&&I.vapidKey.length>0}const rs="firebase-messaging-store";let Ea=null;function Dl(){return Ea||(Ea=(0,X.X3)("firebase-messaging-database",1,(C,I)=>{0===I&&C.createObjectStore(rs)})),Ea}function _n(C){return $o.apply(this,arguments)}function $o(){return($o=(0,N.Z)(function*(C){const I=co(C),L=yield(yield Dl()).transaction(rs).objectStore(rs).get(I);if(L)return L;{const W=yield Zh(C.appConfig.senderId);if(W)return yield Bs(C,W),W}})).apply(this,arguments)}function Bs(C,I){return un.apply(this,arguments)}function un(){return(un=(0,N.Z)(function*(C,I){const R=co(C),W=(yield Dl()).transaction(rs,"readwrite");return yield W.objectStore(rs).put(I,R),yield W.complete,I})).apply(this,arguments)}function Yc(C){return lo.apply(this,arguments)}function lo(){return(lo=(0,N.Z)(function*(C){const I=co(C),L=(yield Dl()).transaction(rs,"readwrite");yield L.objectStore(rs).delete(I),yield L.complete})).apply(this,arguments)}function co({appConfig:C}){return C.appId}const Pn=new X.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function ba(C,I){return Si.apply(this,arguments)}function Si(){return(Si=(0,N.Z)(function*(C,I){const R=yield js(C),L=pt(I),W={method:"POST",headers:R,body:JSON.stringify(L)};let ee;try{ee=yield(yield fetch(Qr(C.appConfig),W)).json()}catch(xe){throw Pn.create("token-subscribe-failed",{errorInfo:xe})}if(ee.error)throw Pn.create("token-subscribe-failed",{errorInfo:ee.error.message});if(!ee.token)throw Pn.create("token-subscribe-no-token");return ee.token})).apply(this,arguments)}function xr(C,I){return Us.apply(this,arguments)}function Us(){return(Us=(0,N.Z)(function*(C,I){const R=yield js(C),L=pt(I.subscriptionOptions),W={method:"PATCH",headers:R,body:JSON.stringify(L)};let ee;try{ee=yield(yield fetch(`${Qr(C.appConfig)}/${I.token}`,W)).json()}catch(xe){throw Pn.create("token-update-failed",{errorInfo:xe})}if(ee.error)throw Pn.create("token-update-failed",{errorInfo:ee.error.message});if(!ee.token)throw Pn.create("token-update-no-token");return ee.token})).apply(this,arguments)}function is(C,I){return mu.apply(this,arguments)}function mu(){return(mu=(0,N.Z)(function*(C,I){const L={method:"DELETE",headers:yield js(C)};try{const ee=yield(yield fetch(`${Qr(C.appConfig)}/${I}`,L)).json();if(ee.error)throw Pn.create("token-unsubscribe-failed",{errorInfo:ee.error.message})}catch(W){throw Pn.create("token-unsubscribe-failed",{errorInfo:W})}})).apply(this,arguments)}function Qr({projectId:C}){return`https://fcmregistrations.googleapis.com/v1/projects/${C}/registrations`}function js(C){return $s.apply(this,arguments)}function $s(){return($s=(0,N.Z)(function*({appConfig:C,installations:I}){const R=yield I.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C.apiKey,"x-goog-firebase-installations-auth":`FIS ${R}`})})).apply(this,arguments)}function pt({p256dh:C,auth:I,endpoint:R,vapidKey:L}){const W={web:{endpoint:R,auth:I,p256dh:C}};return L!==Yr&&(W.web.applicationPubKey=L),W}const yu=6048e5;function Da(C){return _u.apply(this,arguments)}function _u(){return(_u=(0,N.Z)(function*(C){const I=yield Tl(C.swRegistration,C.vapidKey),R={vapidKey:C.vapidKey,swScope:C.swRegistration.scope,endpoint:I.endpoint,auth:pi(I.getKey("auth")),p256dh:pi(I.getKey("p256dh"))},L=yield _n(C.firebaseDependencies);if(L){if(Ho(L.subscriptionOptions,R))return Date.now()>=L.createTime+yu?Cl(C,{token:L.token,createTime:Date.now(),subscriptionOptions:R}):L.token;try{yield is(C.firebaseDependencies,L.token)}catch(W){console.warn(W)}return De(C.firebaseDependencies,R)}return De(C.firebaseDependencies,R)})).apply(this,arguments)}function vu(C){return wu.apply(this,arguments)}function wu(){return(wu=(0,N.Z)(function*(C){const I=yield _n(C.firebaseDependencies);I&&(yield is(C.firebaseDependencies,I.token),yield Yc(C.firebaseDependencies));const R=yield C.swRegistration.pushManager.getSubscription();return!R||R.unsubscribe()})).apply(this,arguments)}function Cl(C,I){return Il.apply(this,arguments)}function Il(){return(Il=(0,N.Z)(function*(C,I){try{const R=yield xr(C.firebaseDependencies,I),L=Object.assign(Object.assign({},I),{token:R,createTime:Date.now()});return yield Bs(C.firebaseDependencies,L),R}catch(R){throw yield vu(C),R}})).apply(this,arguments)}function De(C,I){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,N.Z)(function*(C,I){const L={token:yield ba(C,I),createTime:Date.now(),subscriptionOptions:I};return yield Bs(C,L),L.token})).apply(this,arguments)}function Tl(C,I){return bn.apply(this,arguments)}function bn(){return(bn=(0,N.Z)(function*(C,I){return(yield C.pushManager.getSubscription())||C.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:du(I)})})).apply(this,arguments)}function Ho(C,I){return I.vapidKey===C.vapidKey&&I.endpoint===C.endpoint&&I.auth===C.auth&&I.p256dh===C.p256dh}function Go(C){const I={from:C.from,collapseKey:C.collapse_key,messageId:C.fcmMessageId};return function Jr(C,I){if(!I.notification)return;C.notification={};const R=I.notification.title;R&&(C.notification.title=R);const L=I.notification.body;L&&(C.notification.body=L);const W=I.notification.image;W&&(C.notification.image=W)}(I,C),function Sl(C,I){!I.data||(C.data=I.data)}(I,C),function Al(C,I){if(!I.fcmOptions)return;C.fcmOptions={};const R=I.fcmOptions.link;R&&(C.fcmOptions.link=R);const L=I.fcmOptions.analytics_label;L&&(C.fcmOptions.analyticsLabel=L)}(I,C),I}function Qc(C){return"object"==typeof C&&!!C&&uo in C}function Ml(C,I){const R=[];for(let L=0;L<C.length;L++)R.push(C.charAt(L)),L<I.length&&R.push(I.charAt(L));return R.join("")}function Hs(C){return Pn.create("missing-app-config-values",{valueName:C})}Ml("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Ml("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class vr{constructor(I,R,L){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const W=function Eu(C){if(!C||!C.options)throw Hs("App Configuration Object");if(!C.name)throw Hs("App Name");const I=["projectId","apiKey","appId","messagingSenderId"],{options:R}=C;for(const L of I)if(!R[L])throw Hs(L);return{appName:C.name,projectId:R.projectId,apiKey:R.apiKey,appId:R.appId,senderId:R.messagingSenderId}}(I);this.firebaseDependencies={app:I,appConfig:W,installations:R,analyticsProvider:L}}_delete(){return Promise.resolve()}}function gi(C){return bu.apply(this,arguments)}function bu(){return(bu=(0,N.Z)(function*(C){try{C.swRegistration=yield navigator.serviceWorker.register(bl,{scope:Ls}),C.swRegistration.update().catch(()=>{})}catch(I){throw Pn.create("failed-service-worker-registration",{browserErrorMessage:I.message})}})).apply(this,arguments)}function Gs(C,I){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,N.Z)(function*(C,I){if(!I&&!C.swRegistration&&(yield gi(C)),I||!C.swRegistration){if(!(I instanceof ServiceWorkerRegistration))throw Pn.create("invalid-sw-registration");C.swRegistration=I}})).apply(this,arguments)}function xl(C,I){return Du.apply(this,arguments)}function Du(){return(Du=(0,N.Z)(function*(C,I){I?C.vapidKey=I:C.vapidKey||(C.vapidKey=Yr)})).apply(this,arguments)}function Rl(){return(Rl=(0,N.Z)(function*(C,I){if(!navigator)throw Pn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Pn.create("permission-blocked");return yield xl(C,null==I?void 0:I.vapidKey),yield Gs(C,null==I?void 0:I.serviceWorkerRegistration),Da(C)})).apply(this,arguments)}function Ca(C,I,R){return qo.apply(this,arguments)}function qo(){return(qo=(0,N.Z)(function*(C,I,R){const L=Ol(I);(yield C.firebaseDependencies.analyticsProvider.get()).logEvent(L,{message_id:R[uo],message_name:R[wa],message_time:R[Kc],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Ol(C){switch(C){case Vs.NOTIFICATION_CLICKED:return"notification_open";case Vs.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Jc(){return(Jc=(0,N.Z)(function*(C,I){const R=I.data;if(!R.isFirebaseMessaging)return;C.onMessageHandler&&R.messageType===Vs.PUSH_RECEIVED&&("function"==typeof C.onMessageHandler?C.onMessageHandler(Go(R)):C.onMessageHandler.next(Go(R)));const L=R.data;Qc(L)&&"1"===L[rg]&&(yield Ca(C,R.messageType,L))})).apply(this,arguments)}const kl="@firebase/messaging",Xc=C=>{const I=new vr(C.getProvider("app").getImmediate(),C.getProvider("installations-internal").getImmediate(),C.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",R=>function Nl(C,I){return Jc.apply(this,arguments)}(I,R)),I},fo=C=>{const I=C.getProvider("messaging").getImmediate();return{getToken:L=>function Cu(C,I){return Rl.apply(this,arguments)}(I,L)}};function td(){return po.apply(this,arguments)}function po(){return(po=(0,N.Z)(function*(){try{yield(0,X.eu)()}catch(C){return!1}return"undefined"!=typeof window&&(0,X.hl)()&&(0,X.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function ed(){(0,ue._registerComponent)(new ge.wA("messaging",Xc,"PUBLIC")),(0,ue._registerComponent)(new ge.wA("messaging-internal",fo,"PRIVATE")),(0,ue.registerVersion)(kl,"0.9.12"),(0,ue.registerVersion)(kl,"0.9.12","esm2017")}();const Fl="analytics",Vy="firebase_id",Ia="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Iu="https://www.googletagmanager.com/gtag/js",$n=new re.Yd("@firebase/analytics");function nd(C){return Promise.all(C.map(I=>I.catch(R=>R)))}function ig(C,I){const R=document.createElement("script");R.src=`${Iu}?l=${C}&id=${I}`,R.async=!0,document.head.appendChild(R)}function zo(C,I,R,L,W,ee){return rd.apply(this,arguments)}function rd(){return(rd=(0,N.Z)(function*(C,I,R,L,W,ee){const xe=L[W];try{if(xe)yield I[xe];else{const st=(yield nd(R)).find(Ct=>Ct.measurementId===W);st&&(yield I[st.appId])}}catch(Je){$n.error(Je)}C("config",W,ee)})).apply(this,arguments)}function Vl(C,I,R,L,W){return go.apply(this,arguments)}function go(){return(go=(0,N.Z)(function*(C,I,R,L,W){try{let ee=[];if(W&&W.send_to){let xe=W.send_to;Array.isArray(xe)||(xe=[xe]);const Je=yield nd(R);for(const st of xe){const Ct=Je.find(Mt=>Mt.measurementId===st),Bt=Ct&&I[Ct.appId];if(!Bt){ee=[];break}ee.push(Bt)}}0===ee.length&&(ee=Object.values(I)),yield Promise.all(ee),C("event",L,W||{})}catch(ee){$n.error(ee)}})).apply(this,arguments)}function sg(){const C=window.document.getElementsByTagName("script");for(const I of Object.values(C))if(I.src&&I.src.includes(Iu))return I;return null}const Or=new X.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Su=new class Tu{constructor(I={},R=1e3){this.throttleMetadata=I,this.intervalMillis=R}getThrottleMetadata(I){return this.throttleMetadata[I]}setThrottleMetadata(I,R){this.throttleMetadata[I]=R}deleteThrottleMetadata(I){delete this.throttleMetadata[I]}};function Wo(C){return new Headers({Accept:"application/json","x-goog-api-key":C})}function sd(C){return yn.apply(this,arguments)}function yn(){return(yn=(0,N.Z)(function*(C){var I;const{appId:R,apiKey:L}=C,W={method:"GET",headers:Wo(L)},ee=Ia.replace("{app-id}",R),xe=yield fetch(ee,W);if(200!==xe.status&&304!==xe.status){let Je="";try{const st=yield xe.json();(null===(I=st.error)||void 0===I?void 0:I.message)&&(Je=st.error.message)}catch(st){}throw Or.create("config-fetch-failed",{httpStatus:xe.status,responseMessage:Je})}return xe.json()})).apply(this,arguments)}function Dn(C){return ls.apply(this,arguments)}function ls(){return(ls=(0,N.Z)(function*(C,I=Su,R){const{appId:L,apiKey:W,measurementId:ee}=C.options;if(!L)throw Or.create("no-app-id");if(!W){if(ee)return{measurementId:ee,appId:L};throw Or.create("no-api-key")}const xe=I.getThrottleMetadata(L)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Je=new od;return setTimeout((0,N.Z)(function*(){Je.abort()}),void 0!==R?R:6e4),Ul({appId:L,apiKey:W,measurementId:ee},xe,Je,I)})).apply(this,arguments)}function Ul(C,I,R){return mo.apply(this,arguments)}function mo(){return(mo=(0,N.Z)(function*(C,{throttleEndTimeMillis:I,backoffCount:R},L,W=Su){const{appId:ee,measurementId:xe}=C;try{yield By(L,I)}catch(Je){if(xe)return $n.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${xe} provided in the "measurementId" field in the local Firebase config. [${Je.message}]`),{appId:ee,measurementId:xe};throw Je}try{const Je=yield sd(C);return W.deleteThrottleMetadata(ee),Je}catch(Je){if(!Jh(Je)){if(W.deleteThrottleMetadata(ee),xe)return $n.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${xe} provided in the "measurementId" field in the local Firebase config. [${Je.message}]`),{appId:ee,measurementId:xe};throw Je}const st=503===Number(Je.customData.httpStatus)?(0,X.$s)(R,W.intervalMillis,30):(0,X.$s)(R,W.intervalMillis),Ct={throttleEndTimeMillis:Date.now()+st,backoffCount:R+1};return W.setThrottleMetadata(ee,Ct),$n.debug(`Calling attemptFetch again in ${st} millis`),Ul(C,Ct,L,W)}})).apply(this,arguments)}function By(C,I){return new Promise((R,L)=>{const W=Math.max(I-Date.now(),0),ee=setTimeout(R,W);C.addEventListener(()=>{clearTimeout(ee),L(Or.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}function Jh(C){if(!(C instanceof X.ZR&&C.customData))return!1;const I=Number(C.customData.httpStatus);return 429===I||500===I||503===I||504===I}class od{constructor(){this.listeners=[]}addEventListener(I){this.listeners.push(I)}abort(){this.listeners.forEach(I=>I())}}function og(){return Ta.apply(this,arguments)}function Ta(){return(Ta=(0,N.Z)(function*(){if(!(0,X.hl)())return $n.warn(Or.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,X.eu)()}catch(C){return $n.warn(Or.create("indexeddb-unavailable",{errorInfo:C}).message),!1}return!0})).apply(this,arguments)}function Ws(){return(Ws=(0,N.Z)(function*(C,I,R,L,W,ee,xe){var Je;const st=Dn(C);st.then(Mn=>{R[Mn.measurementId]=Mn.appId,C.options.measurementId&&Mn.measurementId!==C.options.measurementId&&$n.warn(`The measurement ID in the local Firebase config (${C.options.measurementId}) does not match the measurement ID fetched from the server (${Mn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Mn=>$n.error(Mn)),I.push(st);const Ct=og().then(Mn=>{if(Mn)return L.getId()}),[Bt,Mt]=yield Promise.all([st,Ct]);sg()||ig(ee,Bt.measurementId),W("js",new Date);const Ot=null!==(Je=null==xe?void 0:xe.config)&&void 0!==Je?Je:{};return Ot.origin="firebase",Ot.update=!0,null!=Mt&&(Ot[Vy]=Mt),W("config",Bt.measurementId,Ot),Bt.measurementId})).apply(this,arguments)}class Aa{constructor(I){this.app=I}_delete(){return delete Nr[this.app.options.appId],Promise.resolve()}}let Nr={},Hn=[];const Ma={};let Zo,yo,Ko="dataLayer",_o=!1;function cs(C,I,R){!function ad(){const C=[];if((0,X.ru)()&&C.push("This is a browser extension environment."),(0,X.zI)()||C.push("Cookies are not available."),C.length>0){const I=C.map((L,W)=>`(${W+1}) ${L}`).join(" "),R=Or.create("invalid-analytics-context",{errorInfo:I});$n.warn(R.message)}}();const L=C.options.appId;if(!L)throw Or.create("no-app-id");if(!C.options.apiKey){if(!C.options.measurementId)throw Or.create("no-api-key");$n.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${C.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Nr[L])throw Or.create("already-exists",{id:L});if(!_o){!function os(C){let I=[];Array.isArray(window[C])?I=window[C]:window[C]=I}(Ko);const{wrappedGtag:ee,gtagCore:xe}=function Qh(C,I,R,L,W){let ee=function(...xe){window[L].push(arguments)};return window[W]&&"function"==typeof window[W]&&(ee=window[W]),window[W]=function id(C,I,R,L){function ee(){return(ee=(0,N.Z)(function*(xe,Je,st){try{"event"===xe?yield Vl(C,I,R,Je,st):"config"===xe?yield zo(C,I,R,L,Je,st):C("set",Je)}catch(Ct){$n.error(Ct)}})).apply(this,arguments)}return function W(xe,Je,st){return ee.apply(this,arguments)}}(ee,C,I,R),{gtagCore:ee,wrappedGtag:window[W]}}(Nr,Hn,Ma,Ko,"gtag");yo=ee,Zo=xe,_o=!0}return Nr[L]=function Sa(C,I,R,L,W,ee,xe){return Ws.apply(this,arguments)}(C,Hn,Ma,I,Zo,Ko,R),new Aa(C)}function xa(){return(xa=(0,N.Z)(function*(C,I,R,L,W){if(W&&W.global)C("event",R,L);else{const ee=yield I;C("event",R,Object.assign(Object.assign({},L),{send_to:ee}))}})).apply(this,arguments)}function Jo(){return Au.apply(this,arguments)}function Au(){return(Au=(0,N.Z)(function*(){if((0,X.ru)()||!(0,X.zI)()||!(0,X.hl)())return!1;try{return yield(0,X.eu)()}catch(C){return!1}})).apply(this,arguments)}const ld="@firebase/analytics";!function dg(){(0,ue._registerComponent)(new ge.wA(Fl,(I,{options:R})=>cs(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),R),"PUBLIC")),(0,ue._registerComponent)(new ge.wA("analytics-internal",function C(I){try{const R=I.getProvider(Fl).getImmediate();return{logEvent:(L,W,ee)=>function tf(C,I,R,L){C=(0,X.m9)(C),function Xh(C,I,R,L,W){return xa.apply(this,arguments)}(yo,Nr[C.app.options.appId],I,R,L).catch(W=>$n.error(W))}(R,L,W,ee)}}catch(R){throw Or.create("interop-component-reg-failed",{reason:R})}},"PRIVATE")),(0,ue.registerVersion)(ld,"0.7.8"),(0,ue.registerVersion)(ld,"0.7.8","esm2017")}();var rf=k(4408),hg=k(7565);const Mu=new class An extends hg.v{}(class vo extends rf.o{constructor(I,R){super(I,R),this.scheduler=I,this.work=R}schedule(I,R=0){return R>0?super.schedule(I,R):(this.delay=R,this.state=I,this.scheduler.flush(this),this)}execute(I,R){return R>0||this.closed?super.execute(I,R):this._execute(I,R)}requestAsyncId(I,R,L=0){return null!=L&&L>0||null==L&&this.delay>0?super.requestAsyncId(I,R,L):I.flush(this)}});var sf=k(4986),wo=k(8505),Cn=k(9468),ln=k(5363);const cd=new p.GfV("7.3.0"),ar="__angularfire_symbol__analyticsIsSupportedValue",yt="__angularfire_symbol__analyticsIsSupported",Bi="__angularfire_symbol__remoteConfigIsSupportedValue",Na="__angularfire_symbol__remoteConfigIsSupported",ka="__angularfire_symbol__messagingIsSupportedValue",dd="__angularfire_symbol__messagingIsSupported";function Xo(C,I,R){if(I){if(1===I.length)return I[0];const ee=I.filter(xe=>xe.app===R);if(1===ee.length)return ee[0]}return R.container.getProvider(C).getImmediate({optional:!0})}globalThis[yt]||(globalThis[yt]=Jo().then(C=>globalThis[ar]=C).catch(()=>globalThis[ar]=!1)),globalThis[dd]||(globalThis[dd]=td().then(C=>globalThis[ka]=C).catch(()=>globalThis[ka]=!1)),globalThis[Na]||(globalThis[Na]=ao().then(C=>globalThis[Bi]=C).catch(()=>globalThis[Bi]=!1));const fd=(C,I)=>{const R=I?[I]:(0,Y.C6)(),L=[];return R.forEach(W=>{W.container.getProvider(C).instances.forEach(xe=>{L.includes(xe)||L.push(xe)})}),L};function Eo(){}class fs{constructor(I,R=Mu){this.zone=I,this.delegate=R}now(){return this.delegate.now()}schedule(I,R,L){const W=this.zone;return this.delegate.schedule(function(xe){W.runGuarded(()=>{I.apply(this,[xe])})},R,L)}}class In{constructor(I){this.zone=I,this.task=null}call(I,R){const L=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Eo,{},Eo,Eo)),R.pipe((0,wo.b)({next:L,complete:L,error:L})).subscribe(I).add(L)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let _t=(()=>{class C{constructor(R){this.ngZone=R,this.outsideAngular=R.runOutsideAngular(()=>new fs(Zone.current)),this.insideAngular=R.run(()=>new fs(Zone.current,sf.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return C.\u0275fac=function(R){return new(R||C)(p.LFG(p.R0b))},C.\u0275prov=p.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})();function ps(){const C=globalThis.\u0275AngularFireScheduler;if(!C)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return C}function zl(C){return ps(),function bo(C){return function(R){return(R=R.lift(new In(C.ngZone))).pipe((0,Cn.R)(C.outsideAngular),(0,ln.Q)(C.insideAngular))}}(ps())(C)}},2090:(lt,Se,k)=>{k.d(Se,{BH:()=>Ae,LL:()=>St,ZR:()=>ae,zI:()=>me,US:()=>re,tV:()=>$,L:()=>le,$s:()=>so,r3:()=>en,Sg:()=>Oe,ne:()=>dt,vZ:()=>xs,ZB:()=>J,Lj:()=>Gt,pd:()=>Yi,m9:()=>ht,z$:()=>Le,jU:()=>rt,ru:()=>Ye,d:()=>ve,xb:()=>fr,w1:()=>we,hl:()=>K,uI:()=>fe,UG:()=>be,b$:()=>Ie,G6:()=>ne,Mn:()=>qe,X3:()=>ft,xO:()=>Fi,zd:()=>Ur,eu:()=>ie});var p=k(5861);const X=function(j){const V=[];let q=0;for(let de=0;de<j.length;de++){let Q=j.charCodeAt(de);Q<128?V[q++]=Q:Q<2048?(V[q++]=Q>>6|192,V[q++]=63&Q|128):55296==(64512&Q)&&de+1<j.length&&56320==(64512&j.charCodeAt(de+1))?(Q=65536+((1023&Q)<<10)+(1023&j.charCodeAt(++de)),V[q++]=Q>>18|240,V[q++]=Q>>12&63|128,V[q++]=Q>>6&63|128,V[q++]=63&Q|128):(V[q++]=Q>>12|224,V[q++]=Q>>6&63|128,V[q++]=63&Q|128)}return V},re={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(j,V){if(!Array.isArray(j))throw Error("encodeByteArray takes an array as a parameter");this.init_();const q=V?this.byteToCharMapWebSafe_:this.byteToCharMap_,de=[];for(let Q=0;Q<j.length;Q+=3){const Be=j[Q],Et=Q+1<j.length,Qt=Et?j[Q+1]:0,Sr=Q+2<j.length,Zt=Sr?j[Q+2]:0;let gn=(15&Qt)<<2|Zt>>6,sr=63&Zt;Sr||(sr=64,Et||(gn=64)),de.push(q[Be>>2],q[(3&Be)<<4|Qt>>4],q[gn],q[sr])}return de.join("")},encodeString(j,V){return this.HAS_NATIVE_SUPPORT&&!V?btoa(j):this.encodeByteArray(X(j),V)},decodeString(j,V){return this.HAS_NATIVE_SUPPORT&&!V?atob(j):function(j){const V=[];let q=0,de=0;for(;q<j.length;){const Q=j[q++];if(Q<128)V[de++]=String.fromCharCode(Q);else if(Q>191&&Q<224){const Be=j[q++];V[de++]=String.fromCharCode((31&Q)<<6|63&Be)}else if(Q>239&&Q<365){const Sr=((7&Q)<<18|(63&j[q++])<<12|(63&j[q++])<<6|63&j[q++])-65536;V[de++]=String.fromCharCode(55296+(Sr>>10)),V[de++]=String.fromCharCode(56320+(1023&Sr))}else{const Be=j[q++],Et=j[q++];V[de++]=String.fromCharCode((15&Q)<<12|(63&Be)<<6|63&Et)}}return V.join("")}(this.decodeStringToByteArray(j,V))},decodeStringToByteArray(j,V){this.init_();const q=V?this.charToByteMapWebSafe_:this.charToByteMap_,de=[];for(let Q=0;Q<j.length;){const Be=q[j.charAt(Q++)],Qt=Q<j.length?q[j.charAt(Q)]:0;++Q;const Zt=Q<j.length?q[j.charAt(Q)]:64;++Q;const kt=Q<j.length?q[j.charAt(Q)]:64;if(++Q,null==Be||null==Qt||null==Zt||null==kt)throw Error();de.push(Be<<2|Qt>>4),64!==Zt&&(de.push(Qt<<4&240|Zt>>2),64!==kt&&de.push(Zt<<6&192|kt))}return de},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let j=0;j<this.ENCODED_VALS.length;j++)this.byteToCharMap_[j]=this.ENCODED_VALS.charAt(j),this.charToByteMap_[this.byteToCharMap_[j]]=j,this.byteToCharMapWebSafe_[j]=this.ENCODED_VALS_WEBSAFE.charAt(j),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[j]]=j,j>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(j)]=j,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(j)]=j)}}},le=function(j){return function(j){const V=X(j);return re.encodeByteArray(V,!0)}(j).replace(/\./g,"")},$=function(j){try{return re.decodeString(j,!0)}catch(V){console.error("base64Decode failed: ",V)}return null};function J(j,V){if(!(V instanceof Object))return V;switch(V.constructor){case Date:return new Date(V.getTime());case Object:void 0===j&&(j={});break;case Array:j=[];break;default:return V}for(const q in V)!V.hasOwnProperty(q)||!ze(q)||(j[q]=J(j[q],V[q]));return j}function ze(j){return"__proto__"!==j}class Ae{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((V,q)=>{this.resolve=V,this.reject=q})}wrapCallback(V){return(q,de)=>{q?this.reject(q):this.resolve(de),"function"==typeof V&&(this.promise.catch(()=>{}),1===V.length?V(q):V(q,de))}}}function Oe(j,V){if(j.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const de=V||"demo-project",Q=j.iat||0,Be=j.sub||j.user_id;if(!Be)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Et=Object.assign({iss:`https://securetoken.google.com/${de}`,aud:de,iat:Q,exp:Q+3600,auth_time:Q,sub:Be,user_id:Be,firebase:{sign_in_provider:"custom",identities:{}}},j);return[le(JSON.stringify({alg:"none",type:"JWT"})),le(JSON.stringify(Et)),""].join(".")}function Le(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function fe(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Le())}function be(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(j){return!1}}function rt(){return"object"==typeof self&&self.self===self}function Ye(){const j="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof j&&void 0!==j.id}function Ie(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ve(){return Le().indexOf("Electron/")>=0}function we(){const j=Le();return j.indexOf("MSIE ")>=0||j.indexOf("Trident/")>=0}function qe(){return Le().indexOf("MSAppHost/")>=0}function ne(){return!be()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function K(){return"object"==typeof indexedDB}function ie(){return new Promise((j,V)=>{try{let q=!0;const de="validate-browser-context-for-indexeddb-analytics-module",Q=self.indexedDB.open(de);Q.onsuccess=()=>{Q.result.close(),q||self.indexedDB.deleteDatabase(de),j(!0)},Q.onupgradeneeded=()=>{q=!1},Q.onerror=()=>{var Be;V((null===(Be=Q.error)||void 0===Be?void 0:Be.message)||"")}}catch(q){V(q)}})}function me(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class ae extends Error{constructor(V,q,de){super(q),this.code=V,this.customData=de,this.name="FirebaseError",Object.setPrototypeOf(this,ae.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,St.prototype.create)}}class St{constructor(V,q,de){this.service=V,this.serviceName=q,this.errors=de}create(V,...q){const de=q[0]||{},Q=`${this.service}/${V}`,Be=this.errors[V],Et=Be?function Xt(j,V){return j.replace(Nn,(q,de)=>{const Q=V[de];return null!=Q?String(Q):`<${de}?>`})}(Be,de):"Error";return new ae(Q,`${this.serviceName}: ${Et} (${Q}).`,de)}}const Nn=/\{\$([^}]+)}/g;function en(j,V){return Object.prototype.hasOwnProperty.call(j,V)}function fr(j){for(const V in j)if(Object.prototype.hasOwnProperty.call(j,V))return!1;return!0}function xs(j,V){if(j===V)return!0;const q=Object.keys(j),de=Object.keys(V);for(const Q of q){if(!de.includes(Q))return!1;const Be=j[Q],Et=V[Q];if(Br(Be)&&Br(Et)){if(!xs(Be,Et))return!1}else if(Be!==Et)return!1}for(const Q of de)if(!q.includes(Q))return!1;return!0}function Br(j){return null!==j&&"object"==typeof j}function Fi(j){const V=[];for(const[q,de]of Object.entries(j))Array.isArray(de)?de.forEach(Q=>{V.push(encodeURIComponent(q)+"="+encodeURIComponent(Q))}):V.push(encodeURIComponent(q)+"="+encodeURIComponent(de));return V.length?"&"+V.join("&"):""}function Ur(j){const V={};return j.replace(/^\?/,"").split("&").forEach(de=>{if(de){const[Q,Be]=de.split("=");V[decodeURIComponent(Q)]=decodeURIComponent(Be)}}),V}function Yi(j){const V=j.indexOf("?");if(!V)return"";const q=j.indexOf("#",V);return j.substring(V,q>0?q:void 0)}function dt(j,V){const q=new Kr(j,V);return q.subscribe.bind(q)}class Kr{constructor(V,q){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=q,this.task.then(()=>{V(this)}).catch(de=>{this.error(de)})}next(V){this.forEachObserver(q=>{q.next(V)})}error(V){this.forEachObserver(q=>{q.error(V)}),this.close(V)}complete(){this.forEachObserver(V=>{V.complete()}),this.close()}subscribe(V,q,de){let Q;if(void 0===V&&void 0===q&&void 0===de)throw new Error("Missing Observer.");Q=function Kn(j,V){if("object"!=typeof j||null===j)return!1;for(const q of V)if(q in j&&"function"==typeof j[q])return!0;return!1}(V,["next","error","complete"])?V:{next:V,error:q,complete:de},void 0===Q.next&&(Q.next=ci),void 0===Q.error&&(Q.error=ci),void 0===Q.complete&&(Q.complete=ci);const Be=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Q.error(this.finalError):Q.complete()}catch(Et){}}),this.observers.push(Q),Be}unsubscribeOne(V){void 0===this.observers||void 0===this.observers[V]||(delete this.observers[V],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(V){if(!this.finalized)for(let q=0;q<this.observers.length;q++)this.sendOne(q,V)}sendOne(V,q){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[V])try{q(this.observers[V])}catch(de){"undefined"!=typeof console&&console.error&&console.error(de)}})}close(V){this.finalized||(this.finalized=!0,void 0!==V&&(this.finalError=V),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ci(){}function so(j,V=1e3,q=2){const de=V*Math.pow(q,j),Q=Math.round(.5*de*(Math.random()-.5)*2);return Math.min(144e5,de+Q)}function ht(j){return j&&j._delegate?j._delegate:j}function Tr(j,V){return new Promise((q,de)=>{j.onsuccess=Q=>{q(Q.target.result)},j.onerror=Q=>{var Be;de(`${V}: ${null===(Be=Q.target.error)||void 0===Be?void 0:Be.message}`)}})}class jt{constructor(V){this._db=V,this.objectStoreNames=this._db.objectStoreNames}transaction(V,q="readonly"){return new Qe(this._db.transaction.call(this._db,V,q))}createObjectStore(V,q){return new Te(this._db.createObjectStore(V,q))}close(){this._db.close()}}class Qe{constructor(V){this._transaction=V,this.complete=new Promise((q,de)=>{this._transaction.oncomplete=function(){q()},this._transaction.onerror=()=>{de(this._transaction.error)},this._transaction.onabort=()=>{de(this._transaction.error)}})}objectStore(V){return new Te(this._transaction.objectStore(V))}}class Te{constructor(V){this._store=V}index(V){return new nt(this._store.index(V))}createIndex(V,q,de){return new nt(this._store.createIndex(V,q,de))}get(V){return Tr(this._store.get(V),"Error reading from IndexedDB")}put(V,q){return Tr(this._store.put(V,q),"Error writing to IndexedDB")}delete(V){return Tr(this._store.delete(V),"Error deleting from IndexedDB")}clear(){return Tr(this._store.clear(),"Error clearing IndexedDB object store")}}class nt{constructor(V){this._index=V}get(V){return Tr(this._index.get(V),"Error reading from IndexedDB")}}function ft(j,V,q){return new Promise((de,Q)=>{try{const Be=indexedDB.open(j,V);Be.onsuccess=Et=>{de(new jt(Et.target.result))},Be.onerror=Et=>{var Qt;Q(`Error opening indexedDB: ${null===(Qt=Et.target.error)||void 0===Qt?void 0:Qt.message}`)},Be.onupgradeneeded=Et=>{q(new jt(Be.result),Et.oldVersion,Et.newVersion,new Qe(Be.transaction))}}catch(Be){Q(`Error opening indexedDB: ${Be.message}`)}})}function Gt(j){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,p.Z)(function*(j){return new Promise((V,q)=>{try{const de=indexedDB.deleteDatabase(j);de.onsuccess=()=>{V()},de.onerror=Q=>{var Be;q(`Error deleting indexedDB database "${j}": ${null===(Be=Q.target.error)||void 0===Be?void 0:Be.message}`)}}catch(de){q(`Error deleting indexedDB database "${j}": ${de.message}`)}})})).apply(this,arguments)}},5155:(lt,Se,k)=>{var p=k(5e3);let Y=null;function N(){return Y}const re=new p.OlP("DocumentToken");let he=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=p.Yz7({token:n,factory:function(){return function le(){return(0,p.LFG)(H)}()},providedIn:"platform"}),n})();const $=new p.OlP("Location Initialized");let H=(()=>{class n extends he{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return N().getBaseHref(this._doc)}onPopState(t){const r=N().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=N().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){J()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){J()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(re))},n.\u0275prov=p.Yz7({token:n,factory:function(){return function ze(){return new H((0,p.LFG)(re))}()},providedIn:"platform"}),n})();function J(){return!!window.history.pushState}function Ae(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Oe(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Le(n){return n&&"?"!==n[0]?"?"+n:n}let fe=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=p.Yz7({token:n,factory:function(){return function be(n){const e=(0,p.LFG)(re).location;return new Ye((0,p.LFG)(he),e&&e.origin||"")}()},providedIn:"root"}),n})();const rt=new p.OlP("appBaseHref");let Ye=(()=>{class n extends fe{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Ae(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Le(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,u){const c=this.prepareExternalUrl(i+Le(u));this._platformLocation.pushState(t,r,c)}replaceState(t,r,i,u){const c=this.prepareExternalUrl(i+Le(u));this._platformLocation.replaceState(t,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(he),p.LFG(rt,8))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})(),Ie=(()=>{class n extends fe{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Ae(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,u){let c=this.prepareExternalUrl(i+Le(u));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.pushState(t,r,c)}replaceState(t,r,i,u){let c=this.prepareExternalUrl(i+Le(u));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(he),p.LFG(rt,8))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})(),ve=(()=>{class n{constructor(t,r){this._subject=new p.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const i=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=Oe(He(i)),this._platformStrategy.onPopState(u=>{this._subject.emit({url:this.path(!0),pop:!0,state:u.state,type:u.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Le(r))}normalize(t){return n.stripTrailingSlash(function qe(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,He(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._platformStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Le(r)),i)}replaceState(t,r="",i=null){this._platformStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Le(r)),i)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformStrategy).historyGo)||void 0===i||i.call(r,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=Le,n.joinWithSlash=Ae,n.stripTrailingSlash=Oe,n.\u0275fac=function(t){return new(t||n)(p.LFG(fe),p.LFG(he))},n.\u0275prov=p.Yz7({token:n,factory:function(){return function we(){return new ve((0,p.LFG)(fe),(0,p.LFG)(he))}()},providedIn:"root"}),n})();function He(n){return n.replace(/\/index.html$/,"")}var me=(()=>((me=me||{})[me.Format=0]="Format",me[me.Standalone=1]="Standalone",me))(),se=(()=>((se=se||{})[se.Narrow=0]="Narrow",se[se.Abbreviated=1]="Abbreviated",se[se.Wide=2]="Wide",se[se.Short=3]="Short",se))(),Re=(()=>((Re=Re||{})[Re.Short=0]="Short",Re[Re.Medium=1]="Medium",Re[Re.Long=2]="Long",Re[Re.Full=3]="Full",Re))(),ae=(()=>((ae=ae||{})[ae.Decimal=0]="Decimal",ae[ae.Group=1]="Group",ae[ae.List=2]="List",ae[ae.PercentSign=3]="PercentSign",ae[ae.PlusSign=4]="PlusSign",ae[ae.MinusSign=5]="MinusSign",ae[ae.Exponential=6]="Exponential",ae[ae.SuperscriptingExponent=7]="SuperscriptingExponent",ae[ae.PerMille=8]="PerMille",ae[ae.Infinity=9]="Infinity",ae[ae.NaN=10]="NaN",ae[ae.TimeSeparator=11]="TimeSeparator",ae[ae.CurrencyDecimal=12]="CurrencyDecimal",ae[ae.CurrencyGroup=13]="CurrencyGroup",ae))();function sn(n,e){return rr((0,p.cg1)(n)[p.wAp.DateFormat],e)}function Zi(n,e){return rr((0,p.cg1)(n)[p.wAp.TimeFormat],e)}function en(n,e){return rr((0,p.cg1)(n)[p.wAp.DateTimeFormat],e)}function Wt(n,e){const t=(0,p.cg1)(n),r=t[p.wAp.NumberSymbols][e];if(void 0===r){if(e===ae.CurrencyDecimal)return t[p.wAp.NumberSymbols][ae.Decimal];if(e===ae.CurrencyGroup)return t[p.wAp.NumberSymbols][ae.Group]}return r}function Yi(n){if(!n[p.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[p.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function rr(n,e){for(let t=e;t>-1;t--)if(void 0!==n[t])return n[t];throw new Error("Locale data API: locale data undefined")}function Kn(n){const[e,t]=n.split(":");return{hours:+e,minutes:+t}}const ir=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Rs={},ma=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Kt=(()=>((Kt=Kt||{})[Kt.Short=0]="Short",Kt[Kt.ShortGMT=1]="ShortGMT",Kt[Kt.Long=2]="Long",Kt[Kt.Extended=3]="Extended",Kt))(),at=(()=>((at=at||{})[at.FullYear=0]="FullYear",at[at.Month=1]="Month",at[at.Date=2]="Date",at[at.Hours=3]="Hours",at[at.Minutes=4]="Minutes",at[at.Seconds=5]="Seconds",at[at.FractionalSeconds=6]="FractionalSeconds",at[at.Day=7]="Day",at))(),Dt=(()=>((Dt=Dt||{})[Dt.DayPeriods=0]="DayPeriods",Dt[Dt.Days=1]="Days",Dt[Dt.Months=2]="Months",Dt[Dt.Eras=3]="Eras",Dt))();function pr(n,e,t,r){let i=function Qt(n){if(Zt(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[i,u=1,c=1]=n.split("-").map(f=>+f);return Li(i,u-1,c)}const t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(ir))return function Sr(n){const e=new Date(0);let t=0,r=0;const i=n[8]?e.setUTCFullYear:e.setFullYear,u=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));const c=Number(n[4]||0)-t,f=Number(n[5]||0)-r,y=Number(n[6]||0),b=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return u.call(e,c,f,y,b),e}(r)}const e=new Date(n);if(!Zt(e))throw new Error(`Unable to convert "${n}" into a date`);return e}(n);e=zt(t,e)||e;let f,c=[];for(;e;){if(f=ma.exec(e),!f){c.push(e);break}{c=c.concat(f.slice(1));const A=c.pop();if(!A)break;e=A}}let y=i.getTimezoneOffset();r&&(y=Q(r,y),i=function Et(n,e,t){const r=t?-1:1,i=n.getTimezoneOffset();return function Be(n,e){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+e),n}(n,r*(Q(e,i)-i))}(i,r,!0));let b="";return c.forEach(A=>{const M=function de(n){if(q[n])return q[n];let e;switch(n){case"G":case"GG":case"GGG":e=jt(Dt.Eras,se.Abbreviated);break;case"GGGG":e=jt(Dt.Eras,se.Wide);break;case"GGGGG":e=jt(Dt.Eras,se.Narrow);break;case"y":e=ht(at.FullYear,1,0,!1,!0);break;case"yy":e=ht(at.FullYear,2,0,!0,!0);break;case"yyy":e=ht(at.FullYear,3,0,!1,!0);break;case"yyyy":e=ht(at.FullYear,4,0,!1,!0);break;case"Y":e=V(1);break;case"YY":e=V(2,!0);break;case"YYY":e=V(3);break;case"YYYY":e=V(4);break;case"M":case"L":e=ht(at.Month,1,1);break;case"MM":case"LL":e=ht(at.Month,2,1);break;case"MMM":e=jt(Dt.Months,se.Abbreviated);break;case"MMMM":e=jt(Dt.Months,se.Wide);break;case"MMMMM":e=jt(Dt.Months,se.Narrow);break;case"LLL":e=jt(Dt.Months,se.Abbreviated,me.Standalone);break;case"LLLL":e=jt(Dt.Months,se.Wide,me.Standalone);break;case"LLLLL":e=jt(Dt.Months,se.Narrow,me.Standalone);break;case"w":e=j(1);break;case"ww":e=j(2);break;case"W":e=j(1,!0);break;case"d":e=ht(at.Date,1);break;case"dd":e=ht(at.Date,2);break;case"c":case"cc":e=ht(at.Day,1);break;case"ccc":e=jt(Dt.Days,se.Abbreviated,me.Standalone);break;case"cccc":e=jt(Dt.Days,se.Wide,me.Standalone);break;case"ccccc":e=jt(Dt.Days,se.Narrow,me.Standalone);break;case"cccccc":e=jt(Dt.Days,se.Short,me.Standalone);break;case"E":case"EE":case"EEE":e=jt(Dt.Days,se.Abbreviated);break;case"EEEE":e=jt(Dt.Days,se.Wide);break;case"EEEEE":e=jt(Dt.Days,se.Narrow);break;case"EEEEEE":e=jt(Dt.Days,se.Short);break;case"a":case"aa":case"aaa":e=jt(Dt.DayPeriods,se.Abbreviated);break;case"aaaa":e=jt(Dt.DayPeriods,se.Wide);break;case"aaaaa":e=jt(Dt.DayPeriods,se.Narrow);break;case"b":case"bb":case"bbb":e=jt(Dt.DayPeriods,se.Abbreviated,me.Standalone,!0);break;case"bbbb":e=jt(Dt.DayPeriods,se.Wide,me.Standalone,!0);break;case"bbbbb":e=jt(Dt.DayPeriods,se.Narrow,me.Standalone,!0);break;case"B":case"BB":case"BBB":e=jt(Dt.DayPeriods,se.Abbreviated,me.Format,!0);break;case"BBBB":e=jt(Dt.DayPeriods,se.Wide,me.Format,!0);break;case"BBBBB":e=jt(Dt.DayPeriods,se.Narrow,me.Format,!0);break;case"h":e=ht(at.Hours,1,-12);break;case"hh":e=ht(at.Hours,2,-12);break;case"H":e=ht(at.Hours,1);break;case"HH":e=ht(at.Hours,2);break;case"m":e=ht(at.Minutes,1);break;case"mm":e=ht(at.Minutes,2);break;case"s":e=ht(at.Seconds,1);break;case"ss":e=ht(at.Seconds,2);break;case"S":e=ht(at.FractionalSeconds,1);break;case"SS":e=ht(at.FractionalSeconds,2);break;case"SSS":e=ht(at.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=Te(Kt.Short);break;case"ZZZZZ":e=Te(Kt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Te(Kt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=Te(Kt.Long);break;default:return null}return q[n]=e,e}(A);b+=M?M(i,t,y):"''"===A?"'":A.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),b}function Li(n,e,t){const r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function zt(n,e){const t=function Xt(n){return(0,p.cg1)(n)[p.wAp.LocaleId]}(n);if(Rs[t]=Rs[t]||{},Rs[t][e])return Rs[t][e];let r="";switch(e){case"shortDate":r=sn(n,Re.Short);break;case"mediumDate":r=sn(n,Re.Medium);break;case"longDate":r=sn(n,Re.Long);break;case"fullDate":r=sn(n,Re.Full);break;case"shortTime":r=Zi(n,Re.Short);break;case"mediumTime":r=Zi(n,Re.Medium);break;case"longTime":r=Zi(n,Re.Long);break;case"fullTime":r=Zi(n,Re.Full);break;case"short":const i=zt(n,"shortTime"),u=zt(n,"shortDate");r=so(en(n,Re.Short),[i,u]);break;case"medium":const c=zt(n,"mediumTime"),f=zt(n,"mediumDate");r=so(en(n,Re.Medium),[c,f]);break;case"long":const y=zt(n,"longTime"),b=zt(n,"longDate");r=so(en(n,Re.Long),[y,b]);break;case"full":const A=zt(n,"fullTime"),M=zt(n,"fullDate");r=so(en(n,Re.Full),[A,M])}return r&&(Rs[t][e]=r),r}function so(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return null!=e&&r in e?e[r]:t})),n}function Ir(n,e,t="-",r,i){let u="";(n<0||i&&n<=0)&&(i?n=1-n:(n=-n,u=t));let c=String(n);for(;c.length<e;)c="0"+c;return r&&(c=c.substr(c.length-e)),u+c}function ht(n,e,t=0,r=!1,i=!1){return function(u,c){let f=function Tr(n,e){switch(n){case at.FullYear:return e.getFullYear();case at.Month:return e.getMonth();case at.Date:return e.getDate();case at.Hours:return e.getHours();case at.Minutes:return e.getMinutes();case at.Seconds:return e.getSeconds();case at.FractionalSeconds:return e.getMilliseconds();case at.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,u);if((t>0||f>-t)&&(f+=t),n===at.Hours)0===f&&-12===t&&(f=12);else if(n===at.FractionalSeconds)return function gr(n,e){return Ir(n,3).substr(0,e)}(f,e);const y=Wt(c,ae.MinusSign);return Ir(f,e,y,r,i)}}function jt(n,e,t=me.Format,r=!1){return function(i,u){return function Qe(n,e,t,r,i,u){switch(t){case Dt.Months:return function wt(n,e,t){const r=(0,p.cg1)(n),u=rr([r[p.wAp.MonthsFormat],r[p.wAp.MonthsStandalone]],e);return rr(u,t)}(e,i,r)[n.getMonth()];case Dt.Days:return function ct(n,e,t){const r=(0,p.cg1)(n),u=rr([r[p.wAp.DaysFormat],r[p.wAp.DaysStandalone]],e);return rr(u,t)}(e,i,r)[n.getDay()];case Dt.DayPeriods:const c=n.getHours(),f=n.getMinutes();if(u){const b=function Qi(n){const e=(0,p.cg1)(n);return Yi(e),(e[p.wAp.ExtraData][2]||[]).map(r=>"string"==typeof r?Kn(r):[Kn(r[0]),Kn(r[1])])}(e),A=function dt(n,e,t){const r=(0,p.cg1)(n);Yi(r);const u=rr([r[p.wAp.ExtraData][0],r[p.wAp.ExtraData][1]],e)||[];return rr(u,t)||[]}(e,i,r),M=b.findIndex(F=>{if(Array.isArray(F)){const[B,G]=F,te=c>=B.hours&&f>=B.minutes,Ee=c<G.hours||c===G.hours&&f<G.minutes;if(B.hours<G.hours){if(te&&Ee)return!0}else if(te||Ee)return!0}else if(F.hours===c&&F.minutes===f)return!0;return!1});if(-1!==M)return A[M]}return function Nn(n,e,t){const r=(0,p.cg1)(n),u=rr([r[p.wAp.DayPeriodsFormat],r[p.wAp.DayPeriodsStandalone]],e);return rr(u,t)}(e,i,r)[c<12?0:1];case Dt.Eras:return function dn(n,e){return rr((0,p.cg1)(n)[p.wAp.Eras],e)}(e,r)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(i,u,n,e,t,r)}}function Te(n){return function(e,t,r){const i=-1*r,u=Wt(t,ae.MinusSign),c=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case Kt.Short:return(i>=0?"+":"")+Ir(c,2,u)+Ir(Math.abs(i%60),2,u);case Kt.ShortGMT:return"GMT"+(i>=0?"+":"")+Ir(c,1,u);case Kt.Long:return"GMT"+(i>=0?"+":"")+Ir(c,2,u)+":"+Ir(Math.abs(i%60),2,u);case Kt.Extended:return 0===r?"Z":(i>=0?"+":"")+Ir(c,2,u)+":"+Ir(Math.abs(i%60),2,u);default:throw new Error(`Unknown zone width "${n}"`)}}}function Lt(n){return Li(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function j(n,e=!1){return function(t,r){let i;if(e){const u=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,c=t.getDate();i=1+Math.floor((c+u)/7)}else{const u=Lt(t),c=function Gt(n){const e=Li(n,0,1).getDay();return Li(n,0,1+(e<=4?4:11)-e)}(u.getFullYear()),f=u.getTime()-c.getTime();i=1+Math.round(f/6048e5)}return Ir(i,n,Wt(r,ae.MinusSign))}}function V(n,e=!1){return function(t,r){return Ir(Lt(t).getFullYear(),n,Wt(r,ae.MinusSign),e)}}const q={};function Q(n,e){n=n.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function Zt(n){return n instanceof Date&&!isNaN(n.valueOf())}let Xi=(()=>{class n{constructor(t,r,i,u){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=u,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&((0,p.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,p.AaK)(r.item)}`);this._toggleClass(r.item,!0)}),t.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!0)):Object.keys(t).forEach(r=>this._toggleClass(r,!!t[r])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!1)):Object.keys(t).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(t,r){(t=t.trim())&&t.split(/\s+/g).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(t){return new(t||n)(p.Y36(p.ZZ4),p.Y36(p.aQg),p.Y36(p.SBq),p.Y36(p.Qsj))},n.\u0275dir=p.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class ks{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let or=(()=>{class n{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,u,c)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new ks(i.item,this._ngForOf,-1,-1),null===c?void 0:c);else if(null==c)r.remove(null===u?void 0:u);else if(null!==u){const f=r.get(u);r.move(f,c),es(f,i)}});for(let i=0,u=r.length;i<u;i++){const f=r.get(i).context;f.index=i,f.count=u,f.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{es(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(p.Y36(p.s_b),p.Y36(p.Rgc),p.Y36(p.ZZ4))},n.\u0275dir=p.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function es(n,e){n.context.$implicit=e.item}let hi=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new an,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){su("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){su("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(p.Y36(p.s_b),p.Y36(p.Rgc))},n.\u0275dir=p.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class an{constructor(){this.$implicit=null,this.ngIf=null}}function su(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,p.AaK)(e)}'.`)}function jn(n,e){return new p.vHH(2100,"")}class qc{createSubscription(e,t){return e.subscribe({next:t,error:r=>{throw r}})}dispose(e){e.unsubscribe()}onDestroy(e){e.unsubscribe()}}class Xp{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}onDestroy(e){}}const ns=new Xp,eg=new qc;let lu=(()=>{class n{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if((0,p.QGY)(t))return ns;if((0,p.F4k)(t))return eg;throw jn()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(p.Y36(p.sBO,16))},n.\u0275pipe=p.Yjl({name:"async",type:n,pure:!1}),n})();const ng=new p.OlP("DATE_PIPE_DEFAULT_TIMEZONE");let Wh=(()=>{class n{constructor(t,r){this.locale=t,this.defaultTimezone=r}transform(t,r="mediumDate",i,u){var c;if(null==t||""===t||t!=t)return null;try{return pr(t,r,u||this.locale,null!==(c=null!=i?i:this.defaultTimezone)&&void 0!==c?c:void 0)}catch(f){throw jn()}}}return n.\u0275fac=function(t){return new(t||n)(p.Y36(p.soG,16),p.Y36(ng,24))},n.\u0275pipe=p.Yjl({name:"date",type:n,pure:!0}),n})(),yr=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=p.oAB({type:n}),n.\u0275inj=p.cJS({}),n})();const Vs="browser";function Ar(n){return n===Vs}function _r(n){return"server"===n}let pu=(()=>{class n{}return n.\u0275prov=(0,p.Yz7)({token:n,providedIn:"root",factory:()=>new gu((0,p.LFG)(re),window)}),n})();class gu{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Ea(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const u=i.shadowRoot;if(u){const c=u.getElementById(e)||u.querySelector(`[name="${e}"]`);if(c)return c}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,u=this.offset();this.window.scrollTo(r-u[0],i-u[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=rs(this.window.history)||rs(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function rs(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Bs extends class $o extends class ge{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function X(n){Y||(Y=n)}(new Bs)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Yc(){return un=un||document.querySelector("base"),un?un.getAttribute("href"):null}();return null==t?null:function co(n){lo=lo||document.createElement("a"),lo.setAttribute("href",n);const e=lo.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){un=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function Bo(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,u]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(u)}return null}(document.cookie,e)}}let lo,un=null;const Mr=new p.OlP("TRANSITION_ID"),ba=[{provide:p.ip1,useFactory:function Pn(n,e,t){return()=>{t.get(p.CZH).donePromise.then(()=>{const r=N(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let u=0;u<i.length;u++)r.remove(i[u])})}},deps:[Mr,re,p.zs3],multi:!0}];class Si{static init(){(0,p.VLi)(new Si)}addToWindow(e){p.dqk.getAngularTestability=(r,i=!0)=>{const u=e.findTestabilityInTree(r,i);if(null==u)throw new Error("Could not find testability for element.");return u},p.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),p.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),p.dqk.frameworkStabilizers||(p.dqk.frameworkStabilizers=[]),p.dqk.frameworkStabilizers.push(r=>{const i=p.dqk.getAllAngularTestabilities();let u=i.length,c=!1;const f=function(y){c=c||y,u--,0==u&&r(c)};i.forEach(function(y){y.whenStable(f)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const i=e.getTestability(t);return null!=i?i:r?N().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let xr=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})();const Us=new p.OlP("EventManagerPlugins");let is=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let u=0;u<i.length;u++){const c=i[u];if(c.supports(t))return this._eventNameToPlugin.set(t,c),c}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(Us),p.LFG(p.R0b))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})();class mu{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=N().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let Qr=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})(),js=(()=>{class n extends Qr{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(u=>{const c=this._doc.createElement("style");c.textContent=u,i.push(r.appendChild(c))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach($s),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach($s))}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(re))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})();function $s(n){N().remove(n)}const pt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},yu=/%COMP%/g;function De(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?De(n,i,t):(i=i.replace(yu,n),t.push(i))}return t}function Vt(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let bn=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new Ho(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case p.ifc.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new Sl(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case p.ifc.ShadowDom:return new Al(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=De(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(is),p.LFG(js),p.LFG(p.AFp))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})();class Ho{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(pt[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const u=pt[i];u?e.setAttributeNS(u,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=pt[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(p.JOm.DashCase|p.JOm.Important)?e.style.setProperty(t,r,i&p.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&p.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Vt(r)):this.eventManager.addEventListener(e,t,Vt(r))}}class Sl extends Ho{constructor(e,t,r,i){super(e),this.component=r;const u=De(i+"-"+r.id,r.styles,[]);t.addStyles(u),this.contentAttr=function Cl(n){return"_ngcontent-%COMP%".replace(yu,n)}(i+"-"+r.id),this.hostAttr=function Il(n){return"_nghost-%COMP%".replace(yu,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class Al extends Ho{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=De(i.id,i.styles,[]);for(let c=0;c<u.length;c++){const f=document.createElement("style");f.textContent=u[c],this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Qc=(()=>{class n extends mu{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(re))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})();const Ml=["alt","control","meta","shift"],Hs={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},vr={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},gi={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let bu=(()=>{class n extends mu{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const u=n.parseEventName(r),c=n.eventCallback(u.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>N().onAndCancel(t,u.domEventName,c))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const u=n._normalizeKey(r.pop());let c="";if(Ml.forEach(y=>{const b=r.indexOf(y);b>-1&&(r.splice(b,1),c+=y+".")}),c+=u,0!=r.length||0===u.length)return null;const f={};return f.domEventName=i,f.fullKey=c,f}static getEventFullKey(t){let r="",i=function Gs(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&vr.hasOwnProperty(e)&&(e=vr[e]))}return Hs[e]||e}(t);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Ml.forEach(u=>{u!=i&&gi[u](t)&&(r+=u+".")}),r+=i,r}static eventCallback(t,r,i){return u=>{n.getEventFullKey(u)===t&&i.runGuarded(()=>r(u))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(re))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})();const Rl=(0,p.eFA)(p._c5,"browser",[{provide:p.Lbi,useValue:Vs},{provide:p.g9A,useValue:function Ai(){Bs.makeCurrent(),Si.init()},multi:!0},{provide:re,useFactory:function Du(){return(0,p.RDi)(document),document},deps:[]}]),Ca=[{provide:p.zSh,useValue:"root"},{provide:p.qLn,useFactory:function xl(){return new p.qLn},deps:[]},{provide:Us,useClass:Qc,multi:!0,deps:[re,p.R0b,p.Lbi]},{provide:Us,useClass:bu,multi:!0,deps:[re]},{provide:bn,useClass:bn,deps:[is,js,p.AFp]},{provide:p.FYo,useExisting:bn},{provide:Qr,useExisting:js},{provide:js,useClass:js,deps:[re]},{provide:p.dDg,useClass:p.dDg,deps:[p.R0b]},{provide:is,useClass:is,deps:[Us,p.R0b]},{provide:class _n{},useClass:xr,deps:[]}];let qo=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:p.AFp,useValue:t.appId},{provide:Mr,useExisting:p.AFp},ba]}}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(n,12))},n.\u0275mod=p.oAB({type:n}),n.\u0275inj=p.cJS({providers:Ca,imports:[yr,p.hGG]}),n})();"undefined"!=typeof window&&window;var as=k(2011);let Or=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=p.oAB({type:n}),n.\u0275inj=p.cJS({providers:[],imports:[[yr]]}),n})();class Bl{constructor(e,t){this.open=e,this.close=t||e}isManual(){return"manual"===this.open||"manual"===this.close}}const us={hover:["mouseover","mouseout"],focus:["focusin","focusout"]};const Dn="undefined"!=typeof window&&window||{};var Nr=(()=>{return(n=Nr||(Nr={})).isBs3="bs3",n.isBs4="bs4",n.isBs5="bs5",Nr;var n})();let Hn;function Ma(){if(void 0===Dn.document)return"bs4";const n=Dn.document.createElement("span");n.innerText="testing bs version",n.classList.add("d-none"),n.classList.add("pl-1"),Dn.document.head.appendChild(n);const e=n.getBoundingClientRect(),t=Dn.getComputedStyle(n).paddingLeft;return!e||e&&0!==e.top?(Dn.document.head.removeChild(n),"bs3"):t&&parseFloat(t)?(Dn.document.head.removeChild(n),"bs4"):(Dn.document.head.removeChild(n),"bs5")}function Mi(){return void 0===Dn||(void 0===Dn.__theme?(Hn||(Hn=Ma()),"bs3"===Hn):"bs3"===Dn.__theme)}function Zo(){return!Mi()&&(Hn||(Hn=Ma()),"bs4"===Hn)}function _o(){return{isBs3:Mi(),isBs4:Zo(),isBs5:!Mi()&&!Zo()&&(Hn||(Hn=Ma()),"bs5"===Hn)}}"undefined"==typeof console||console;var Ra=k(5698);let Qo,Yo=(()=>{class n{constructor(){this._focusTrapStack=[]}register(t){this._focusTrapStack=this._focusTrapStack.filter(i=>i!==t);let r=this._focusTrapStack;r.length&&r[r.length-1]._disable(),r.push(t),t._enable()}deregister(t){t._disable();const r=this._focusTrapStack,i=r.indexOf(t);-1!==i&&(r.splice(i,1),r.length&&r[r.length-1]._enable())}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();try{Qo="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){Qo=!1}let hs=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?Ar(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Qo)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(p.Lbi))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),mi=(()=>{class n{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function jl(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const r=function ef(n){try{return n.frameElement}catch(e){return null}}(function dg(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(t));if(r&&(-1===tf(r)||!this.isVisible(r)))return!1;let i=t.nodeName.toLowerCase(),u=tf(t);return t.hasAttribute("contenteditable")?-1!==u:!("iframe"===i||"object"===i||this._platform.WEBKIT&&this._platform.IOS&&!function ld(n){let e=n.nodeName.toLowerCase(),t="input"===e&&n.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===i?!!t.hasAttribute("controls")&&-1!==u:"video"===i?-1!==u&&(null!==u||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,r){return function nf(n){return!function Au(n){return function Fn(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function Jo(n){let e=n.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(n)||function ug(n){return function lg(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||cg(n))}(t)&&!this.isDisabled(t)&&((null==r?void 0:r.ignoreVisibility)||this.isVisible(t))}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(hs))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function cg(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let e=n.getAttribute("tabindex");return"-32768"!=e&&!(!e||isNaN(parseInt(e,10)))}function tf(n){if(!cg(n))return null;const e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}function rf(n){return null!=n&&"false"!=`${n}`}class vo{constructor(e,t,r,i,u=!1){this._element=e,this._checker=t,this._ngZone=r,this._document=i,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,u||this.attachAnchors()}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.parentNode&&e.parentNode.removeChild(e)),t&&(t.removeEventListener("focus",this.endAnchorListener),t.parentNode&&t.parentNode.removeChild(t)),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement()))})}focusFirstTabbableElementWhenReady(){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement()))})}focusLastTabbableElementWhenReady(){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement()))})}_getRegionBoundary(e){let t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);for(let r=0;r<t.length;r++)t[r].hasAttribute(`cdk-focus-${e}`)?console.warn(`Found use of deprecated attribute 'cdk-focus-${e}', use 'cdkFocusRegion${e}' instead. The deprecated attribute will be removed in 8.0.0.`,t[r]):t[r].hasAttribute(`cdk-focus-region-${e}`)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${e}', use 'cdkFocusRegion${e}' instead. The deprecated attribute will be removed in 8.0.0.`,t[r]);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(e.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",e),!this._checker.isFocusable(e)){const t=this._getFirstTabbableElement(e);return null==t||t.focus(),!!t}return e.focus(),!0}return this.focusFirstTabbableElement()}focusFirstTabbableElement(){const e=this._getRegionBoundary("start");return e&&e.focus(),!!e}focusLastTabbableElement(){const e=this._getRegionBoundary("end");return e&&e.focus(),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let t=e.children||e.childNodes;for(let r=0;r<t.length;r++){let i=t[r].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[r]):null;if(i)return i}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let t=e.children||e.childNodes;for(let r=t.length-1;r>=0;r--){let i=t[r].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[r]):null;if(i)return i}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe((0,Ra.q)(1)).subscribe(e)}}let hg=(()=>{class n{constructor(t,r,i){this._checker=t,this._ngZone=r,this._document=i}create(t,r=!1){return new vo(t,this._checker,this._ngZone,this._document,r)}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(mi),p.LFG(p.R0b),p.LFG(re))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),An=(()=>{class n{constructor(t,r,i){this._elementRef=t,this._focusTrapFactory=r,this._previouslyFocusedElement=null,this._autoCapture=!1,this._document=i,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}get enabled(){return this.focusTrap.enabled}set enabled(t){this.focusTrap.enabled=rf(t)}get autoCapture(){return this._autoCapture}set autoCapture(t){this._autoCapture=rf(t)}ngOnDestroy(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}ngOnChanges(t){const r=t.autoCapture;r&&!r.firstChange&&this.autoCapture&&this.focusTrap.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=this._document.activeElement,this.focusTrap.focusInitialElementWhenReady()}}return n.\u0275fac=function(t){return new(t||n)(p.Y36(p.SBq),p.Y36(hg),p.Y36(re))},n.\u0275dir=p.lG2({type:n,selectors:[["","focusTrap",""]],inputs:{enabled:["cdkTrapFocus","enabled"],autoCapture:["cdkTrapFocusAutoCapture","autoCapture"]},exportAs:["focusTrap"],features:[p.TTD]}),n})(),Mu=(()=>{class n{static forRoot(){return{ngModule:n,providers:[Yo,hs,mi]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=p.oAB({type:n}),n.\u0275inj=p.cJS({imports:[[yr]]}),n})();var jr=k(7579),sf=k(6451),wo=k(8421),Cn=k(8306),ln=k(5577),cd=k(1144),ar=k(576),yt=k(4004);const{isArray:Bi}=Array;function ka(n){return(0,yt.U)(e=>function Na(n,e){return Bi(e)?n(...e):n(e)}(n,e))}const dd=["addListener","removeListener"],hd=["addEventListener","removeEventListener"],$l=["on","off"];function wr(n,e,t,r){if((0,ar.m)(t)&&(r=t,t=void 0),r)return wr(n,e,t).pipe(ka(r));const[i,u]=function Eo(n){return(0,ar.m)(n.addEventListener)&&(0,ar.m)(n.removeEventListener)}(n)?hd.map(c=>f=>n[c](e,f,t)):function Xo(n){return(0,ar.m)(n.addListener)&&(0,ar.m)(n.removeListener)}(n)?dd.map(Hl(n,e)):function fd(n){return(0,ar.m)(n.on)&&(0,ar.m)(n.off)}(n)?$l.map(Hl(n,e)):[];if(!i&&(0,cd.z)(n))return(0,ln.z)(c=>wr(c,e,t))((0,wo.Xf)(n));if(!i)throw new TypeError("Invalid event target");return new Cn.y(c=>{const f=(...y)=>c.next(1<y.length?y:y[0]);return i(f),()=>u(f)})}function Hl(n,e){return t=>r=>n[t](e,r)}var fs=k(7669),In=k(8996);function _t(...n){const e=(0,fs.yG)(n);return(0,In.D)(n,e)}var ps=k(4408),Gl=k(727);const kr={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:r}=kr;r&&(e=r.requestAnimationFrame,t=r.cancelAnimationFrame);const i=e(u=>{t=void 0,n(u)});return new Gl.w0(()=>null==t?void 0:t(i))},requestAnimationFrame(...n){const{delegate:e}=kr;return((null==e?void 0:e.requestAnimationFrame)||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=kr;return((null==e?void 0:e.cancelAnimationFrame)||cancelAnimationFrame)(...n)},delegate:void 0};var ql=k(7565);const bo=new class zl extends ql.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class pd extends ps.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=kr.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,r=0){if(null!=r&&r>0||null==r&&this.delay>0)return super.recycleAsyncId(e,t,r);e.actions.some(i=>i.id===t)||(kr.cancelAnimationFrame(t),e._scheduled=void 0)}});var ea=(()=>{return(n=ea||(ea={})).top="top",n.bottom="bottom",n.left="left",n.right="right",n.auto="auto",n.end="right",n.start="left",n["top left"]="top left",n["top right"]="top right",n["right top"]="right top",n["right bottom"]="right bottom",n["bottom right"]="bottom right",n["bottom left"]="bottom left",n["left bottom"]="left bottom",n["left top"]="left top",n["top start"]="top left",n["top end"]="top right",n["end top"]="right top",n["end bottom"]="right bottom",n["bottom end"]="bottom right",n["bottom start"]="bottom left",n["start bottom"]="start bottom",n["start top"]="left top",ea;var n})(),C=(()=>{return(n=C||(C={})).top="top",n.bottom="bottom",n.left="start",n.right="end",n.auto="auto",n.end="end",n.start="start",n["top left"]="top start",n["top right"]="top end",n["right top"]="end top",n["right bottom"]="end bottom",n["bottom right"]="bottom end",n["bottom left"]="bottom start",n["left bottom"]="start bottom",n["left top"]="start top",n["top start"]="top start",n["top end"]="top end",n["end top"]="end top",n["end bottom"]="end bottom",n["bottom end"]="bottom end",n["bottom start"]="bottom start",n["start bottom"]="start bottom",n["start top"]="start top",C;var n})();function I(n,e){if(1!==n.nodeType)return[];const t=n.ownerDocument.defaultView,r=null==t?void 0:t.getComputedStyle(n,null);return e?r&&r[e]:r}function R(n){if(!n)return document.documentElement;let r,t=null==n?void 0:n.offsetParent;for(;null===t&&n.nextElementSibling&&r!==n.nextElementSibling;)r=n.nextElementSibling,t=r.offsetParent;const i=t&&t.nodeName;return i&&"BODY"!==i&&"HTML"!==i?t&&-1!==["TH","TD","TABLE"].indexOf(t.nodeName)&&"static"===I(t,"position")?R(t):t:r?r.ownerDocument.documentElement:document.documentElement}function W(n){return null!==n.parentNode?W(n.parentNode):n}function ee(n,e){if(!(n&&n.nodeType&&e&&e.nodeType))return document.documentElement;const t=n.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING,r=t?n:e,i=t?e:n,u=document.createRange();u.setStart(r,0),u.setEnd(i,0);const c=u.commonAncestorContainer;if(n!==c&&e!==c||r.contains(i))return function L(n){const{nodeName:e}=n;return"BODY"!==e&&("HTML"===e||R(n.firstElementChild)===n)}(c)?c:R(c);const f=W(n);return f.host?ee(f.host,e):ee(n,W(e).host)}function xe(n){if(!n||!n.parentElement)return document.documentElement;let e=n.parentElement;for(;(null==e?void 0:e.parentElement)&&"none"===I(e,"transform");)e=e.parentElement;return e||document.documentElement}function Je(n,e){const t="x"===e?"Left":"Top",r="Left"===t?"Right":"Bottom";return parseFloat(n[`border${t}Width`])+parseFloat(n[`border${r}Width`])}function st(n,e,t,r){return Math.max(e[`offset${n}`],e[`scroll${n}`],t[`client${n}`],t[`offset${n}`],t[`scroll${n}`],0)}function Ct(n){const e=n.body,t=n.documentElement;return{height:st("Height",e,t),width:st("Width",e,t)}}function Bt(n){return Object.assign(Object.assign({},n),{right:(n.left||0)+n.width,bottom:(n.top||0)+n.height})}function Ot(n){return"number"==typeof n||"[object Number]"===Object.prototype.toString.call(n)}function Mn(n){const e=n.getBoundingClientRect();if(!(e&&Ot(e.top)&&Ot(e.left)&&Ot(e.bottom)&&Ot(e.right)))return e;const t={left:e.left,top:e.top,width:e.right-e.left,height:e.bottom-e.top},r="HTML"===n.nodeName?Ct(n.ownerDocument):void 0,i=(null==r?void 0:r.width)||n.clientWidth||Ot(e.right)&&Ot(t.left)&&e.right-t.left||0,u=(null==r?void 0:r.height)||n.clientHeight||Ot(e.bottom)&&Ot(t.top)&&e.bottom-t.top||0;let c=n.offsetWidth-i,f=n.offsetHeight-u;if(c||f){const y=I(n);c-=Je(y,"x"),f-=Je(y,"y"),t.width-=c,t.height-=f}return Bt(t)}function Ks(n){return"HTML"===n.nodeName?n:n.parentNode||n.host}function ta(n){if(!n)return document.body;switch(n.nodeName){case"HTML":case"BODY":return n.ownerDocument.body;case"#document":return n.body}const{overflow:e,overflowX:t,overflowY:r}=I(n);return/(auto|scroll|overlay)/.test(String(e)+String(r)+String(t))?n:ta(Ks(n))}function yi(n,e,t=!1){var r,i,u,c,f,y;const b="HTML"===e.nodeName,A=Mn(n),M=Mn(e),B=(ta(n),I(e)),G=parseFloat(B.borderTopWidth),te=parseFloat(B.borderLeftWidth);t&&b&&(M.top=Math.max(null!==(r=M.top)&&void 0!==r?r:0,0),M.left=Math.max(null!==(i=M.left)&&void 0!==i?i:0,0));const Ee=Bt({top:(null!==(u=A.top)&&void 0!==u?u:0)-(null!==(c=M.top)&&void 0!==c?c:0)-G,left:(null!==(f=A.left)&&void 0!==f?f:0)-(null!==(y=M.left)&&void 0!==y?y:0)-te,width:A.width,height:A.height});if(Ee.marginTop=0,Ee.marginLeft=0,b){const We=parseFloat(B.marginTop),Ze=parseFloat(B.marginLeft);Ot(Ee.top)&&(Ee.top-=G-We),Ot(Ee.bottom)&&(Ee.bottom-=G-We),Ot(Ee.left)&&(Ee.left-=te-Ze),Ot(Ee.right)&&(Ee.right-=te-Ze),Ee.marginTop=We,Ee.marginLeft=Ze}return Ee}function _i(n,e="top"){const t="top"===e?"scrollTop":"scrollLeft",r=n.nodeName;if("BODY"===r||"HTML"===r){const i=n.ownerDocument.documentElement;return(n.ownerDocument.scrollingElement||i)[t]}return n[t]}function Ys(n){const e=n.nodeName;return"BODY"!==e&&"HTML"!==e&&("fixed"===I(n,"position")||Ys(Ks(n)))}function gd(n,e,t=0,r,i=!1){let u={top:0,left:0};const c=i?xe(n):ee(n,e);if("viewport"===r)u=function Zs(n,e=!1){const t=n.ownerDocument.documentElement,r=yi(n,t),i=Math.max(t.clientWidth,window.innerWidth||0),u=Math.max(t.clientHeight,window.innerHeight||0),c=e?0:_i(t),f=e?0:_i(t,"left");return Bt({top:c-Number(null==r?void 0:r.top)+Number(null==r?void 0:r.marginTop),left:f-Number(null==r?void 0:r.left)+Number(null==r?void 0:r.marginLeft),width:i,height:u})}(c,i);else{let f;"scrollParent"===r?(f=ta(Ks(e)),"BODY"===f.nodeName&&(f=n.ownerDocument.documentElement)):f="window"===r?n.ownerDocument.documentElement:r;const y=yi(f,c,i);if(y&&"HTML"===f.nodeName&&!Ys(c)){const{height:b,width:A}=Ct(n.ownerDocument);Ot(u.top)&&Ot(y.top)&&Ot(y.marginTop)&&(u.top+=y.top-y.marginTop),Ot(u.top)&&(u.bottom=Number(b)+Number(y.top)),Ot(u.left)&&Ot(y.left)&&Ot(y.marginLeft)&&(u.left+=y.left-y.marginLeft),Ot(u.top)&&(u.right=Number(A)+Number(y.left))}else y&&(u=y)}return Ot(u.left)&&(u.left+=t),Ot(u.top)&&(u.top+=t),Ot(u.right)&&(u.right-=t),Ot(u.bottom)&&(u.bottom-=t),u}function fg({width:n,height:e}){return n*e}function Wl(n,e,t,r,i=["top","bottom","right","left"],u="viewport",c=0){var f,y,b,A,M,F,B,G,te,Ee,We,Ze;if(-1===n.indexOf("auto"))return n;const Ue=gd(t,r,c,u),Xe={top:{width:null!==(f=null==Ue?void 0:Ue.width)&&void 0!==f?f:0,height:(null!==(y=null==e?void 0:e.top)&&void 0!==y?y:0)-(null!==(b=null==Ue?void 0:Ue.top)&&void 0!==b?b:0)},right:{width:(null!==(A=null==Ue?void 0:Ue.right)&&void 0!==A?A:0)-(null!==(M=null==e?void 0:e.right)&&void 0!==M?M:0),height:null!==(F=null==Ue?void 0:Ue.height)&&void 0!==F?F:0},bottom:{width:null!==(B=null==Ue?void 0:Ue.width)&&void 0!==B?B:0,height:(null!==(G=null==Ue?void 0:Ue.bottom)&&void 0!==G?G:0)-(null!==(te=null==e?void 0:e.bottom)&&void 0!==te?te:0)},left:{width:(null!==(Ee=e.left)&&void 0!==Ee?Ee:0)-(null!==(We=null==Ue?void 0:Ue.left)&&void 0!==We?We:0),height:null!==(Ze=null==Ue?void 0:Ue.height)&&void 0!==Ze?Ze:0}},vt=Object.keys(Xe).map(dr=>Object.assign(Object.assign({position:dr},Xe[dr]),{area:fg(Xe[dr])})).sort((dr,ui)=>ui.area-dr.area);let Tt=vt.filter(({width:dr,height:ui})=>dr>=t.clientWidth&&ui>=t.clientHeight);Tt=Tt.filter(({position:dr})=>i.some(ui=>ui===dr));const Ht=Tt.length>0?Tt[0].position:vt[0].position,nr=n.split(" ")[1];return t.className=t.className.replace(/bs-tooltip-auto/g,`bs-tooltip-${_o().isBs5?C[Ht]:Ht}`),Ht+(nr?`-${nr}`:"")}const md=(n,e=0)=>n?parseFloat(n):e;function Do(n){const e=n.ownerDocument.defaultView,t=null==e?void 0:e.getComputedStyle(n),r=md(null==t?void 0:t.marginTop)+md(null==t?void 0:t.marginBottom),i=md(null==t?void 0:t.marginLeft)+md(null==t?void 0:t.marginRight);return{width:Number(n.offsetWidth)+i,height:Number(n.offsetHeight)+r}}function Ou(n,e,t){return yi(e,t?xe(n):ee(n,e),t)}function of(n,e,t){var r,i,u;const c=t.split(" ")[0],f=Do(n),y={width:f.width,height:f.height},b=-1!==["right","left"].indexOf(c),A=b?"top":"left",M=b?"left":"top",F=b?"height":"width",B=b?"width":"height";return y[A]=(null!==(r=e[A])&&void 0!==r?r:0)+e[F]/2-f[F]/2,y[M]=c===M?(null!==(i=e[M])&&void 0!==i?i:0)-f[B]:null!==(u=e[function pg(n){const e={left:"right",right:"left",bottom:"top",top:"bottom"};return n.replace(/left|right|bottom|top/g,t=>e[t])}(M)])&&void 0!==u?u:0,y}function gg(n,e){var t;return!!(null===(t=n.modifiers[e])||void 0===t?void 0:t.enabled)}const mg={top:["top","top start","top end"],bottom:["bottom","bottom start","bottom end"],start:["start","start top","start bottom"],end:["end","end top","end bottom"]};function Pa(n,e){return!!_o().isBs5&&mg[e].includes(n)}function yg(n,e,t){!n||!e||Object.keys(e).forEach(r=>{let i="";-1!==["width","height","top","right","bottom","left"].indexOf(r)&&function Mt(n){return""!==n&&!isNaN(parseFloat(n))&&isFinite(Number(n))}(e[r])&&(i="px"),t?t.setStyle(n,r,`${String(e[r])}${i}`):n.style[r]=String(e[r])+i})}function $y(n){var e,t,r,i,u,c;let f=n.offsets.target;const y=n.instance.target.querySelector(".arrow");if(!y)return n;const b=-1!==["left","right"].indexOf(n.placement.split(" ")[0]),A=b?"height":"width",M=b?"Top":"Left",F=M.toLowerCase(),B=b?"left":"top",G=b?"bottom":"right",te=Do(y)[A],Ee=n.placement.split(" ")[1];(null!==(e=n.offsets.host[G])&&void 0!==e?e:0)-te<(null!==(t=f[F])&&void 0!==t?t:0)&&(f[F]-=(null!==(r=f[F])&&void 0!==r?r:0)-((null!==(i=n.offsets.host[G])&&void 0!==i?i:0)-te)),Number(n.offsets.host[F])+Number(te)>(null!==(u=f[G])&&void 0!==u?u:0)&&(f[F]+=Number(n.offsets.host[F])+Number(te)-Number(f[G])),f=Bt(f);const We=I(n.instance.target),Ze=parseFloat(We[`margin${M}`])||0,Ue=parseFloat(We[`border${M}Width`])||0;let Xe;if(Ee){const Tt=parseFloat(We.borderRadius)||0,Ht=Number(Ze+Ue+Tt);Xe=F===Ee?Number(n.offsets.host[F])+Ht:Number(n.offsets.host[F])+Number(n.offsets.host[A]-Ht)}else Xe=Number(n.offsets.host[F])+Number(n.offsets.host[A]/2-te/2);let vt=Xe-(null!==(c=f[F])&&void 0!==c?c:0)-Ze-Ue;return vt=Math.max(Math.min(f[A]-(te+5),vt),0),n.offsets.arrow={[F]:Math.round(vt),[B]:""},n.instance.arrow=y,n}function yd(n){if(n.offsets.target=Bt(n.offsets.target),!gg(n.options,"flip"))return n.offsets.target=Object.assign(Object.assign({},n.offsets.target),of(n.instance.target,n.offsets.host,n.placement)),n;const e=gd(n.instance.target,n.instance.host,0,"viewport",!1);let t=n.placement.split(" ")[0],r=n.placement.split(" ")[1]||"";const f=Wl("auto",n.offsets.host,n.instance.target,n.instance.host,n.options.allowedPositions),y=[t,f];return y.forEach((b,A)=>{var M,F,B,G,te,Ee,We,Ze,Ue,Xe,vt,Tt,Ht,nr,dr,ui;if(t!==b||y.length===A+1)return;t=n.placement.split(" ")[0];const ew="left"===t&&Math.floor(null!==(M=n.offsets.target.right)&&void 0!==M?M:0)>Math.floor(null!==(F=n.offsets.host.left)&&void 0!==F?F:0)||"right"===t&&Math.floor(null!==(B=n.offsets.target.left)&&void 0!==B?B:0)<Math.floor(null!==(G=n.offsets.host.right)&&void 0!==G?G:0)||"top"===t&&Math.floor(null!==(te=n.offsets.target.bottom)&&void 0!==te?te:0)>Math.floor(null!==(Ee=n.offsets.host.top)&&void 0!==Ee?Ee:0)||"bottom"===t&&Math.floor(null!==(We=n.offsets.target.top)&&void 0!==We?We:0)<Math.floor(null!==(Ze=n.offsets.host.bottom)&&void 0!==Ze?Ze:0),Hh=Math.floor(null!==(Ue=n.offsets.target.left)&&void 0!==Ue?Ue:0)<Math.floor(null!==(Xe=e.left)&&void 0!==Xe?Xe:0),vl=Math.floor(null!==(vt=n.offsets.target.right)&&void 0!==vt?vt:0)>Math.floor(null!==(Tt=e.right)&&void 0!==Tt?Tt:0),tw=Math.floor(null!==(Ht=n.offsets.target.top)&&void 0!==Ht?Ht:0)<Math.floor(null!==(nr=e.top)&&void 0!==nr?nr:0),nw=Math.floor(null!==(dr=n.offsets.target.bottom)&&void 0!==dr?dr:0)>Math.floor(null!==(ui=e.bottom)&&void 0!==ui?ui:0),ot="left"===t&&Hh||"right"===t&&vl||"top"===t&&tw||"bottom"===t&&nw,mt=-1!==["top","bottom"].indexOf(t),At=mt&&"left"===r&&Hh||mt&&"right"===r&&vl||!mt&&"left"===r&&tw||!mt&&"right"===r&&nw;(ew||ot||At)&&((ew||ot)&&(t=y[A+1]),At&&(r=function Uy(n){return"right"===n?"left":"left"===n?"right":n}(r)),n.placement=t+(r?` ${r}`:""),n.offsets.target=Object.assign(Object.assign({},n.offsets.target),of(n.instance.target,n.offsets.host,n.placement)))}),n}function Nu(n){var e;if(!gg(n.options,"preventOverflow"))return n;const t="transform",r=n.instance.target.style,{top:i,left:u,[t]:c}=r;r.top="",r.left="",r[t]="";const f=gd(n.instance.target,n.instance.host,0,(null===(e=n.options.modifiers.preventOverflow)||void 0===e?void 0:e.boundariesElement)||"scrollParent",!1);r.top=i,r.left=u,r[t]=c;const b={primary(A){var M,F,B,G;let te=n.offsets.target[A];return(null!==(M=n.offsets.target[A])&&void 0!==M?M:0)<(null!==(F=f[A])&&void 0!==F?F:0)&&(te=Math.max(null!==(B=n.offsets.target[A])&&void 0!==B?B:0,null!==(G=f[A])&&void 0!==G?G:0)),{[A]:te}},secondary(A){var M,F,B,G;const te="right"===A,Ee=te?"left":"top";let Ze=n.offsets.target[Ee];return(null!==(M=n.offsets.target[A])&&void 0!==M?M:0)>(null!==(F=f[A])&&void 0!==F?F:0)&&(Ze=Math.min(null!==(B=n.offsets.target[Ee])&&void 0!==B?B:0,(null!==(G=f[A])&&void 0!==G?G:0)-n.offsets.target[te?"width":"height"])),{[Ee]:Ze}}};return["left","right","top","bottom"].forEach(A=>{const M=-1!==["left","top","start"].indexOf(A)?b.primary:b.secondary;n.offsets.target=Object.assign(Object.assign({},n.offsets.target),M(A))}),n}function Hy(n){var e;const t=n.placement,r=t.split(" ")[0],i=t.split(" ")[1];if(i){const{host:u,target:c}=n.offsets,f=-1!==["bottom","top"].indexOf(r),y=f?"left":"top",b=f?"width":"height",A={start:{[y]:u[y]},end:{[y]:(null!==(e=u[y])&&void 0!==e?e:0)+u[b]-c[b]}};n.offsets.target=Object.assign(Object.assign({},c),{[y]:y===i?A.start[y]:A.end[y]})}return n}const ow=new class uf{position(e,t){return this.offset(e,t)}offset(e,t){return Ou(t,e)}positionElements(e,t,r,i,u){const c=[yd,Hy,Nu,$y],y=function af(n,e,t,r){if(!n||!e)return;const i=Ou(n,e);!t.match(/^(auto)*\s*(left|right|top|bottom|start|end)*$/)&&!t.match(/^(left|right|top|bottom|start|end)*(?: (left|right|top|bottom|start|end))*$/)&&(t="auto");const u=!!t.match(/auto/g);let c=t.match(/auto\s(left|right|top|bottom|start|end)/)?t.split(" ")[1]||"auto":t;const f=c.match(/^(left|right|top|bottom|start|end)* ?(?!\1)(left|right|top|bottom|start|end)?/);return f&&(c=f[1]+(f[2]?` ${f[2]}`:"")),-1!==["left right","right left","top bottom","bottom top"].indexOf(c)&&(c="auto"),c=Wl(c,i,n,e,r?r.allowedPositions:void 0),{options:r||{modifiers:{}},instance:{target:n,host:e,arrow:void 0},offsets:{target:of(n,i,c),host:i,arrow:void 0},positionFixed:!1,placement:c,placementAuto:u}}(t,e,ea[r],u);if(y)return c.reduce((b,A)=>A(b),y)}};function _d(n,e,t,r,i,u){const c=ow.positionElements(n,e,t,r,i);if(!c)return;const f=function Ru(n){var e,t,r,i;return{width:n.offsets.target.width,height:n.offsets.target.height,left:Math.floor(null!==(e=n.offsets.target.left)&&void 0!==e?e:0),top:Math.round(null!==(t=n.offsets.target.top)&&void 0!==t?t:0),bottom:Math.round(null!==(r=n.offsets.target.bottom)&&void 0!==r?r:0),right:Math.floor(null!==(i=n.offsets.target.right)&&void 0!==i?i:0)}}(c);yg(e,{"will-change":"transform",top:"0px",left:"0px",transform:`translate3d(${f.left}px, ${f.top}px, 0px)`},u),c.instance.arrow&&yg(c.instance.arrow,c.offsets.arrow,u),function jy(n,e){const t=n.instance.target;let r=t.className;const i=_o().isBs5?C[n.placement]:n.placement;n.placementAuto&&(r=r.replace(/bs-popover-auto/g,`bs-popover-${i}`),r=r.replace(/ms-2|me-2|mb-2|mt-2/g,""),r=r.replace(/bs-tooltip-auto/g,`bs-tooltip-${i}`),r=r.replace(/\sauto/g,` ${i}`),-1!==r.indexOf("popover")&&(r=r+" "+function sw(n){return _o().isBs5?Pa(n,"end")?"ms-2":Pa(n,"start")?"me-2":Pa(n,"top")?"mb-2":Pa(n,"bottom")?"mt-2":"":""}(i)),-1!==r.indexOf("popover")&&-1===r.indexOf("popover-auto")&&(r+=" popover-auto"),-1!==r.indexOf("tooltip")&&-1===r.indexOf("tooltip-auto")&&(r+=" tooltip-auto")),r=r.replace(/left|right|top|bottom|end|start/g,`${i.split(" ")[0]}`),e?e.setAttribute(t,"class",r):t.className=r}(c,u)}let Fa=(()=>{class n{constructor(t,r,i){this.update$$=new jr.x,this.positionElements=new Map,this.isDisabled=!1,Ar(i)&&t.runOutsideAngular(()=>{this.triggerEvent$=(0,sf.T)(wr(window,"scroll",{passive:!0}),wr(window,"resize",{passive:!0}),_t(0,bo),this.update$$),this.triggerEvent$.subscribe(()=>{this.isDisabled||this.positionElements.forEach(u=>{_d(Kl(u.target),Kl(u.element),u.attachment,u.appendToBody,this.options,r.createRenderer(null,null))})})})}position(t){this.addPositionElement(t)}get event$(){return this.triggerEvent$}disable(){this.isDisabled=!0}enable(){this.isDisabled=!1}addPositionElement(t){this.positionElements.set(Kl(t.element),t)}calcPosition(){this.update$$.next(null)}deletePositionElement(t){this.positionElements.delete(Kl(t))}setOptions(t){this.options=t}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(p.R0b),p.LFG(p.FYo),p.LFG(p.Lbi))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Kl(n){return"string"==typeof n?document.querySelector(n):n instanceof p.SBq?n.nativeElement:null!=n?n:null}class La{constructor(e,t,r){this.nodes=e,this.viewRef=t,this.componentRef=r}}class _g{constructor(e,t,r,i,u,c,f,y){this._viewContainerRef=e,this._renderer=t,this._elementRef=r,this._injector=i,this._componentFactoryResolver=u,this._ngZone=c,this._applicationRef=f,this._posService=y,this.onBeforeShow=new p.vpe,this.onShown=new p.vpe,this.onBeforeHide=new p.vpe,this.onHidden=new p.vpe,this._providers=[],this._isHiding=!1,this.containerDefaultSelector="body",this._listenOpts={},this._globalListener=Function.prototype}get isShown(){return!this._isHiding&&!!this._componentRef}attach(e){return this._componentFactory=this._componentFactoryResolver.resolveComponentFactory(e),this}to(e){return this.container=e||this.container,this}position(e){return e?(this.attachment=e.attachment||this.attachment,this._elementRef=e.target||this._elementRef,this):this}provide(e){return this._providers.push(e),this}show(e={}){if(this._subscribePositioning(),this._innerComponent=void 0,!this._componentRef){this.onBeforeShow.emit(),this._contentRef=this._getContentRef(e.content,e.context,e.initialState);const t=p.zs3.create({providers:this._providers,parent:this._injector});if(!this._componentFactory)return;if(this._componentRef=this._componentFactory.create(t,this._contentRef.nodes),this._applicationRef.attachView(this._componentRef.hostView),this.instance=this._componentRef.instance,Object.assign(this._componentRef.instance,e),this.container instanceof p.SBq&&this.container.nativeElement.appendChild(this._componentRef.location.nativeElement),"string"==typeof this.container&&"undefined"!=typeof document){const r=document.querySelector(this.container)||document.querySelector(this.containerDefaultSelector);if(!r)return;r.appendChild(this._componentRef.location.nativeElement)}!this.container&&this._elementRef&&this._elementRef.nativeElement.parentElement&&this._elementRef.nativeElement.parentElement.appendChild(this._componentRef.location.nativeElement),this._contentRef.componentRef&&(this._innerComponent=this._contentRef.componentRef.instance,this._contentRef.componentRef.changeDetectorRef.markForCheck(),this._contentRef.componentRef.changeDetectorRef.detectChanges()),this._componentRef.changeDetectorRef.markForCheck(),this._componentRef.changeDetectorRef.detectChanges(),this.onShown.emit(e.id?{id:e.id}:this._componentRef.instance)}return this._registerOutsideClick(),this._componentRef}hide(e){var t,r,i,u,c,f;if(!this._componentRef)return this;this._posService.deletePositionElement(this._componentRef.location),this.onBeforeHide.emit(this._componentRef.instance);const y=this._componentRef.location.nativeElement;return null===(t=y.parentNode)||void 0===t||t.removeChild(y),null===(i=null===(r=this._contentRef)||void 0===r?void 0:r.componentRef)||void 0===i||i.destroy(),this._viewContainerRef&&(null===(u=this._contentRef)||void 0===u?void 0:u.viewRef)&&this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._contentRef.viewRef)),null===(f=null===(c=this._contentRef)||void 0===c?void 0:c.viewRef)||void 0===f||f.destroy(),this._contentRef=void 0,this._componentRef=void 0,this._removeGlobalListener(),this.onHidden.emit(e?{id:e}:null),this}toggle(){this.isShown?this.hide():this.show()}dispose(){this.isShown&&this.hide(),this._unsubscribePositioning(),this._unregisterListenersFn&&this._unregisterListenersFn()}listen(e){var t;this.triggers=e.triggers||this.triggers,this._listenOpts.outsideClick=e.outsideClick,this._listenOpts.outsideEsc=e.outsideEsc,e.target=e.target||(null===(t=this._elementRef)||void 0===t?void 0:t.nativeElement);const r=this._listenOpts.hide=()=>e.hide?e.hide():void this.hide(),i=this._listenOpts.show=c=>{e.show?e.show(c):this.show(c),c()};return this._renderer&&(this._unregisterListenersFn=function Wo(n,e){const t=function Tu(n,e=us){const t=(n||"").trim();if(0===t.length)return[];const r=t.split(/\s+/).map(u=>u.split(":")).map(u=>{const c=e[u[0]]||u;return new Bl(c[0],c[1])}),i=r.filter(u=>u.isManual());if(i.length>1)throw new Error("Triggers parse error: only one manual trigger is allowed");if(1===i.length&&r.length>1)throw new Error("Triggers parse error: manual trigger can't be mixed with other triggers");return r}(e.triggers),r=e.target;if(1===t.length&&t[0].isManual())return Function.prototype;const i=[],u=[],c=()=>{u.forEach(f=>i.push(f())),u.length=0};return t.forEach(f=>{const y=f.open===f.close,b=y?e.toggle:e.show;if(!y&&f.close&&e.hide){const A=n.listen(r,f.close,e.hide);u.push(()=>A)}b&&i.push(n.listen(r,f.open,()=>b(c)))}),()=>{i.forEach(f=>f())}}(this._renderer,{target:e.target,triggers:e.triggers,show:i,hide:r,toggle:c=>{this.isShown?r():i(c)}})),this}_removeGlobalListener(){this._globalListener&&(this._globalListener(),this._globalListener=Function.prototype)}attachInline(e,t){return e&&t&&(this._inlineViewRef=e.createEmbeddedView(t)),this}_registerOutsideClick(){if(this._componentRef&&this._componentRef.location){if(this._listenOpts.outsideClick){const e=this._componentRef.location.nativeElement;setTimeout(()=>{this._renderer&&this._elementRef&&(this._globalListener=function sd(n,e){return e.outsideClick?n.listen("document","click",t=>{e.target&&e.target.contains(t.target)||e.targets&&e.targets.some(r=>r.contains(t.target))||e.hide&&e.hide()}):Function.prototype}(this._renderer,{targets:[e,this._elementRef.nativeElement],outsideClick:this._listenOpts.outsideClick,hide:()=>this._listenOpts.hide&&this._listenOpts.hide()}))})}this._listenOpts.outsideEsc&&this._renderer&&this._elementRef&&(this._globalListener=function yn(n,e){return e.outsideEsc?n.listen("document","keyup.esc",t=>{e.target&&e.target.contains(t.target)||e.targets&&e.targets.some(r=>r.contains(t.target))||e.hide&&e.hide()}):Function.prototype}(this._renderer,{targets:[this._componentRef.location.nativeElement,this._elementRef.nativeElement],outsideEsc:this._listenOpts.outsideEsc,hide:()=>this._listenOpts.hide&&this._listenOpts.hide()}))}}getInnerComponent(){return this._innerComponent}_subscribePositioning(){this._zoneSubscription||!this.attachment||(this.onShown.subscribe(()=>{var e;this._posService.position({element:null===(e=this._componentRef)||void 0===e?void 0:e.location,target:this._elementRef,attachment:this.attachment,appendToBody:"body"===this.container})}),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>{!this._componentRef||this._posService.calcPosition()}))}_unsubscribePositioning(){!this._zoneSubscription||(this._zoneSubscription.unsubscribe(),this._zoneSubscription=void 0)}_getContentRef(e,t,r){if(!e)return new La([]);if(e instanceof p.Rgc){if(this._viewContainerRef){const c=this._viewContainerRef.createEmbeddedView(e,t);return c.markForCheck(),new La([c.rootNodes],c)}const u=e.createEmbeddedView({});return this._applicationRef.attachView(u),new La([u.rootNodes],u)}if("function"==typeof e){const u=this._componentFactoryResolver.resolveComponentFactory(e),c=p.zs3.create({providers:this._providers,parent:this._injector}),f=u.create(c);return Object.assign(f.instance,r),this._applicationRef.attachView(f.hostView),new La([[f.location.nativeElement]],f.hostView,f)}const i=this._renderer?[this._renderer.createText(`${e}`)]:[];return new La([i])}}let ku=(()=>{class n{constructor(t,r,i,u,c){this._componentFactoryResolver=t,this._ngZone=r,this._injector=i,this._posService=u,this._applicationRef=c}createLoader(t,r,i){return new _g(r,i,t,this._injector,this._componentFactoryResolver,this._ngZone,this._applicationRef,this._posService)}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(p._Vd),p.LFG(p.R0b),p.LFG(p.zs3),p.LFG(Fa),p.LFG(p.z2F))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const qy=["*"];let vg=(()=>{class n{constructor(){this.hide=()=>{},this.setClass=()=>{}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),Eg=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const xi={backdrop:!0,keyboard:!0,focus:!0,show:!1,ignoreBackdropClick:!1,class:"",animated:!0,initialState:{},closeInterceptor:void 0},Zl=new p.OlP("override-default-config");let zy=(()=>{class n{constructor(t,r,i){this._element=r,this._renderer=i,this.isShown=!1,this.isAnimated=!1,this.isModalHiding=!1,this.clickStartedInContent=!1,this.config=Object.assign({},t)}ngOnInit(){this.isAnimated&&this._renderer.addClass(this._element.nativeElement,"fade"),this._renderer.setStyle(this._element.nativeElement,"display","block"),setTimeout(()=>{this.isShown=!0,this._renderer.addClass(this._element.nativeElement,Mi()?"in":"show")},this.isAnimated?150:0),document&&document.body&&(this.bsModalService&&1===this.bsModalService.getModalsCount()&&(this.bsModalService.checkScrollbar(),this.bsModalService.setScrollbar()),this._renderer.addClass(document.body,"modal-open"),this._renderer.setStyle(document.body,"overflow-y","hidden")),this._element.nativeElement&&this._element.nativeElement.focus()}onClickStarted(t){this.clickStartedInContent=t.target!==this._element.nativeElement}onClickStop(t){var r;this.config.ignoreBackdropClick||"static"===this.config.backdrop||t.target!==this._element.nativeElement||this.clickStartedInContent?this.clickStartedInContent=!1:(null===(r=this.bsModalService)||void 0===r||r.setDismissReason("backdrop-click"),this.hide())}onPopState(){var t;null===(t=this.bsModalService)||void 0===t||t.setDismissReason("browser-back-navigation-clicked"),this.hide()}onEsc(t){var r,i;!this.isShown||((27===t.keyCode||"Escape"===t.key)&&t.preventDefault(),this.config.keyboard&&this.level===(null===(r=this.bsModalService)||void 0===r?void 0:r.getModalsCount())&&(null===(i=this.bsModalService)||void 0===i||i.setDismissReason("esc"),this.hide()))}ngOnDestroy(){this.isShown&&this._hide()}hide(){if(!this.isModalHiding&&this.isShown){if(this.config.closeInterceptor)return void this.config.closeInterceptor().then(()=>this._hide(),()=>{});this._hide()}}_hide(){this.isModalHiding=!0,this._renderer.removeClass(this._element.nativeElement,Mi()?"in":"show"),setTimeout(()=>{var t,r;this.isShown=!1,document&&document.body&&1===(null===(t=this.bsModalService)||void 0===t?void 0:t.getModalsCount())&&(this._renderer.removeClass(document.body,"modal-open"),this._renderer.setStyle(document.body,"overflow-y","")),null===(r=this.bsModalService)||void 0===r||r.hide(this.config.id),this.isModalHiding=!1},this.isAnimated?300:0)}}return n.\u0275fac=function(t){return new(t||n)(p.Y36(Eg),p.Y36(p.SBq),p.Y36(p.Qsj))},n.\u0275cmp=p.Xpm({type:n,selectors:[["modal-container"]],hostAttrs:["role","dialog","tabindex","-1",1,"modal"],hostVars:3,hostBindings:function(t,r){1&t&&p.NdJ("mousedown",function(u){return r.onClickStarted(u)})("click",function(u){return r.onClickStop(u)})("popstate",function(){return r.onPopState()},!1,p.Jf7)("keydown.esc",function(u){return r.onEsc(u)},!1,p.Jf7),2&t&&p.uIk("aria-modal",!0)("aria-labelledby",r.config.ariaLabelledBy)("aria-describedby",r.config.ariaDescribedby)},ngContentSelectors:qy,decls:3,vars:2,consts:[["role","document","focusTrap",""],[1,"modal-content"]],template:function(t,r){1&t&&(p.F$t(),p.TgZ(0,"div",0)(1,"div",1),p.Hsn(2),p.qZA()()),2&t&&p.Tol("modal-dialog"+(r.config.class?" "+r.config.class:""))},directives:[An],encapsulation:2}),n})(),Wy=(()=>{class n{constructor(t,r){this._isAnimated=!1,this._isShown=!1,this.element=t,this.renderer=r}get isAnimated(){return this._isAnimated}set isAnimated(t){this._isAnimated=t}get isShown(){return this._isShown}set isShown(t){this._isShown=t,t?this.renderer.addClass(this.element.nativeElement,"in"):this.renderer.removeClass(this.element.nativeElement,"in"),Mi()||(t?this.renderer.addClass(this.element.nativeElement,"show"):this.renderer.removeClass(this.element.nativeElement,"show"))}ngOnInit(){this.isAnimated&&(this.renderer.addClass(this.element.nativeElement,"fade"),class Xh{static reflow(e){}static getStyles(e){let t=e.ownerDocument.defaultView;return(!t||!t.opener)&&(t=Dn),t.getComputedStyle(e)}static stackOverflowConfig(){const e=function ag(){const n=_o(),e=Object.keys(n).find(t=>n[t]);return Nr[e]}();return{crossorigin:"bs3"!==e?"anonymous":void 0,integrity:"bs5"===e?"sha384-KyZXEAg3QhqLMpG8r+8fhAXLRk2vvoC2f3B09zVXn8CA5QIVfZOJ3BCsw2P0p/We":"bs4"===e?"sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2":void 0,cdnLink:"bs5"===e?"https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/css/bootstrap.min.css":"bs4"===e?"https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css":"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"}}}.reflow(this.element.nativeElement)),this.isShown=!0}}return n.\u0275fac=function(t){return new(t||n)(p.Y36(p.SBq),p.Y36(p.Qsj))},n.\u0275cmp=p.Xpm({type:n,selectors:[["bs-modal-backdrop"]],hostAttrs:[1,"modal-backdrop"],decls:0,vars:0,template:function(t,r){},encapsulation:2}),n})(),lw=1,na=(()=>{class n{constructor(t,r,i){this.clf=r,this.modalDefaultOption=i,this.onShow=new p.vpe,this.onShown=new p.vpe,this.onHide=new p.vpe,this.onHidden=new p.vpe,this.isBodyOverflowing=!1,this.originalBodyPadding=0,this.scrollbarWidth=0,this.modalsCount=0,this.loaders=[],this._backdropLoader=this.clf.createLoader(),this._renderer=t.createRenderer(null,null),this.config=i?Object.assign({},xi,i):xi}show(t,r){this.modalsCount++,this._createLoaders();const i=(null==r?void 0:r.id)||lw++;return this.config=this.modalDefaultOption?Object.assign({},xi,this.modalDefaultOption,r):Object.assign({},xi,r),this.config.id=i,this._showBackdrop(),this.lastDismissReason=void 0,this._showModal(t)}hide(t){(1===this.modalsCount||null==t)&&(this._hideBackdrop(),this.resetScrollbar()),this.modalsCount=this.modalsCount>=1&&null!=t?this.modalsCount-1:0,setTimeout(()=>{this._hideModal(t),this.removeLoaders(t)},this.config.animated?150:0)}_showBackdrop(){const t=!0===this.config.backdrop||"static"===this.config.backdrop,r=!this.backdropRef||!this.backdropRef.instance.isShown;1===this.modalsCount&&(this.removeBackdrop(),t&&r&&(this._backdropLoader.attach(Wy).to("body").show({isAnimated:this.config.animated}),this.backdropRef=this._backdropLoader._componentRef))}_hideBackdrop(){this.backdropRef&&(this.backdropRef.instance.isShown=!1,setTimeout(()=>this.removeBackdrop(),this.config.animated?150:0))}_showModal(t){var r;const i=this.loaders[this.loaders.length-1];if(this.config&&this.config.providers)for(const f of this.config.providers)i.provide(f);const u=new vg,c=i.provide({provide:Eg,useValue:this.config}).provide({provide:vg,useValue:u}).attach(zy).to("body");return u.hide=()=>{var f;return null===(f=c.instance)||void 0===f?void 0:f.hide()},u.setClass=f=>{c.instance&&(c.instance.config.class=f)},u.onHidden=new p.vpe,u.onHide=new p.vpe,this.copyEvent(i.onBeforeHide,u.onHide),this.copyEvent(i.onHidden,u.onHidden),c.show({content:t,isAnimated:this.config.animated,initialState:this.config.initialState,bsModalService:this,id:this.config.id}),c.instance&&(c.instance.level=this.getModalsCount(),u.content=i.getInnerComponent(),u.id=null===(r=c.instance.config)||void 0===r?void 0:r.id),u}_hideModal(t){if(null!=t){const r=this.loaders.findIndex(u=>{var c;return(null===(c=u.instance)||void 0===c?void 0:c.config.id)===t}),i=this.loaders[r];i&&i.hide(t)}else this.loaders.forEach(r=>{r.instance&&r.hide(r.instance.config.id)})}getModalsCount(){return this.modalsCount}setDismissReason(t){this.lastDismissReason=t}removeBackdrop(){this._renderer.removeClass(document.body,"modal-open"),this._renderer.setStyle(document.body,"overflow-y",""),this._backdropLoader.hide(),this.backdropRef=void 0}checkScrollbar(){this.isBodyOverflowing=document.body.clientWidth<window.innerWidth,this.scrollbarWidth=this.getScrollbarWidth()}setScrollbar(){!document||(this.originalBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")||"0",10),this.isBodyOverflowing&&(document.body.style.paddingRight=`${this.originalBodyPadding+this.scrollbarWidth}px`))}resetScrollbar(){document.body.style.paddingRight=`${this.originalBodyPadding}px`}getScrollbarWidth(){const t=this._renderer.createElement("div");this._renderer.addClass(t,"modal-scrollbar-measure"),this._renderer.appendChild(document.body,t);const r=t.offsetWidth-t.clientWidth;return this._renderer.removeChild(document.body,t),r}_createLoaders(){const t=this.clf.createLoader();this.copyEvent(t.onBeforeShow,this.onShow),this.copyEvent(t.onShown,this.onShown),this.copyEvent(t.onBeforeHide,this.onHide),this.copyEvent(t.onHidden,this.onHidden),this.loaders.push(t)}removeLoaders(t){if(null!=t){const r=this.loaders.findIndex(i=>{var u;return(null===(u=i.instance)||void 0===u?void 0:u.config.id)===t});r>=0&&(this.loaders.splice(r,1),this.loaders.forEach((i,u)=>{i.instance&&(i.instance.level=u+1)}))}else this.loaders.splice(0,this.loaders.length)}copyEvent(t,r){t.subscribe(i=>{r.emit(this.lastDismissReason||i)})}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(p.FYo),p.LFG(ku),p.LFG(Zl,8))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();Mu.forRoot();let lf=(()=>{class n{static forRoot(){return{ngModule:n,providers:[na,ku,Fa]}}static forChild(){return{ngModule:n,providers:[na,ku,Fa]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=p.oAB({type:n}),n.\u0275inj=p.cJS({imports:[[Mu]]}),n})();const Va_firebase={apiKey:"AIzaSyDSfcKKs2TKxGcc7LH-lNsqDMHwAsbxWBQ",authDomain:"todo-app-13x.firebaseapp.com",projectId:"todo-app-13x",storageBucket:"todo-app-13x.appspot.com",messagingSenderId:"704977219531",appId:"1:704977219531:web:e55275cd68a959c385504e",measurementId:"G-J9Q8CHZLZE"};class Ui extends jr.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const{isArray:ji}=Array,{getPrototypeOf:Ql,prototype:Dg,keys:vd}=Object;function cf(n){if(1===n.length){const e=n[0];if(ji(e))return{args:e,keys:null};if(function cw(n){return n&&"object"==typeof n&&Ql(n)===Dg}(e)){const t=vd(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var Pu=k(4671);function Zy(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}var $r=k(5403),df=k(9672);function Cg(n,e,t){n?(0,df.f)(t,n,e):e()}function Ba(n,e){const t=(0,ar.m)(n)?n:()=>n,r=i=>i.error(t());return new Cn.y(e?i=>e.schedule(r,0,i):r)}const wd=(0,k(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Fu=k(8189);function Ed(...n){return function ff(){return(0,Fu.J)(1)}()((0,In.D)(n,(0,fs.yG)(n)))}function Jl(n){return new Cn.y(e=>{(0,wo.Xf)(n()).subscribe(e)})}var Co=k(515),ei=k(4482);function Ig(){return(0,ei.e)((n,e)=>{let t=null;n._refCount++;const r=(0,$r.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,u=t;t=null,i&&(!u||i===u)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class Yn extends Cn.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,ei.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Gl.w0;const t=this.getSubject();e.add(this.source.subscribe((0,$r.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Gl.w0.EMPTY)}return e}refCount(){return Ig()(this)}}function Hr(n,e){return(0,ei.e)((t,r)=>{let i=null,u=0,c=!1;const f=()=>c&&!i&&r.complete();t.subscribe((0,$r.x)(r,y=>{null==i||i.unsubscribe();let b=0;const A=u++;(0,wo.Xf)(n(y,A)).subscribe(i=(0,$r.x)(r,M=>r.next(e?e(y,M,A,b++):M),()=>{i=null,f()}))},()=>{c=!0,f()}))})}function bd(...n){const e=(0,fs.yG)(n);return(0,ei.e)((t,r)=>{(e?Ed(n,t,e):Ed(n,t)).subscribe(r)})}function pf(n,e,t,r,i){return(u,c)=>{let f=t,y=e,b=0;u.subscribe((0,$r.x)(c,A=>{const M=b++;y=f?n(y,A,M):(f=!0,A),r&&c.next(y)},i&&(()=>{f&&c.next(y),c.complete()})))}}function Lu(n,e){return(0,ei.e)(pf(n,e,arguments.length>=2,!0))}function Qs(n,e){return(0,ei.e)((t,r)=>{let i=0;t.subscribe((0,$r.x)(r,u=>n.call(e,u,i++)&&r.next(u)))})}function gs(n){return(0,ei.e)((e,t)=>{let u,r=null,i=!1;r=e.subscribe((0,$r.x)(t,void 0,void 0,c=>{u=(0,wo.Xf)(n(c,gs(n)(e))),r?(r.unsubscribe(),r=null,u.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,u.subscribe(t))})}function Xl(n,e){return(0,ar.m)(e)?(0,ln.z)(n,e,1):(0,ln.z)(n,1)}function Dd(n){return n<=0?()=>Co.E:(0,ei.e)((e,t)=>{let r=[];e.subscribe((0,$r.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Tg(n=hw){return(0,ei.e)((e,t)=>{let r=!1;e.subscribe((0,$r.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function hw(){return new wd}function Qy(n){return(0,ei.e)((e,t)=>{let r=!1;e.subscribe((0,$r.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Ln(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Qs((i,u)=>n(i,u,r)):Pu.y,(0,Ra.q)(1),t?Qy(e):Tg(()=>new wd))}var Pr=k(8505);class ms{constructor(e,t){this.id=e,this.url=t}}class Er extends ms{constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ys extends ms{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Id extends ms{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ri extends ms{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class tc extends ms{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class gf extends ms{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Jy extends ms{constructor(e,t,r,i,u){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=u}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Td extends ms{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class mf extends ms{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class yf{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class _f{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Xy{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Js{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Sg{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class e_{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Sd{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const qt="primary";class Ag{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Vn(n){return new Ag(n)}const Ad="ngNavigationCancelingError";function nc(n){const e=Error("NavigationCancelingError: "+n);return e[Ad]=!0,e}function Io(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let u=0;u<r.length;u++){const c=r[u],f=n[u];if(c.startsWith(":"))i[c.substring(1)]=f;else if(c!==f.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function $i(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let u=0;u<t.length;u++)if(i=t[u],!vf(n[i],e[i]))return!1;return!0}function vf(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,u)=>r[u]===i)}return n===e}function Mg(n){return Array.prototype.concat.apply([],n)}function Md(n){return n.length>0?n[n.length-1]:null}function Fr(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function _s(n){return(0,p.CqO)(n)?n:(0,p.QGY)(n)?(0,In.D)(Promise.resolve(n)):_t(n)}const _={exact:function S(n,e,t){if(!br(n.segments,e.segments)||!Ve(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!S(n.children[r],e.children[r],t))return!1;return!0},subset:z},h={exact:function w(n,e){return $i(n,e)},subset:function O(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>vf(n[t],e[t]))},ignored:()=>!0};function m(n,e,t){return _[t.paths](n.root,e.root,t.matrixParams)&&h[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function z(n,e,t){return oe(n,e,e.segments,t)}function oe(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!br(i,t)||e.hasChildren()||!Ve(i,t,r))}if(n.segments.length===t.length){if(!br(n.segments,t)||!Ve(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!z(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),u=t.slice(n.segments.length);return!!(br(n.segments,i)&&Ve(n.segments,i,r)&&n.children[qt])&&oe(n.children[qt],e,u,r)}}function Ve(n,e,t){return e.every((r,i)=>h[t](n[i].parameters,r.parameters))}class Ke{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Vn(this.queryParams)),this._queryParamMap}toString(){return wf.serialize(this)}}class Fe{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Fr(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return xd(this)}}class ut{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Vn(this.parameters)),this._parameterMap}toString(){return xg(this)}}function br(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class sc{}class Vu{parse(e){const t=new fC(e);return new Ke(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Hi(e.root,!0)}`,r=function cC(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${Bu(t)}=${Bu(i)}`).join("&"):`${Bu(t)}=${Bu(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function Ef(n){return encodeURI(n)}(e.fragment)}`:""}`}}const wf=new Vu;function xd(n){return n.segments.map(e=>xg(e)).join("/")}function Hi(n,e){if(!n.hasChildren())return xd(n);if(e){const t=n.children[qt]?Hi(n.children[qt],!1):"",r=[];return Fr(n.children,(i,u)=>{u!==qt&&r.push(`${u}:${Hi(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function ic(n,e){let t=[];return Fr(n.children,(r,i)=>{i===qt&&(t=t.concat(e(r,i)))}),Fr(n.children,(r,i)=>{i!==qt&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===qt?[Hi(n.children[qt],!1)]:[`${i}:${Hi(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[qt]?`${xd(n)}/${t[0]}`:`${xd(n)}/(${t.join("//")})`}}function oc(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Bu(n){return oc(n).replace(/%3B/gi,";")}function Uu(n){return oc(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Rd(n){return decodeURIComponent(n)}function Od(n){return Rd(n.replace(/\+/g,"%20"))}function xg(n){return`${Uu(n.path)}${function lC(n){return Object.keys(n).map(e=>`;${Uu(e)}=${Uu(n[e])}`).join("")}(n.parameters)}`}const dC=/^[^\/()?;=#]+/;function bf(n){const e=n.match(dC);return e?e[0]:""}const r_=/^[^=?&#]+/,i_=/^[^&#]+/;class fC{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Fe([],{}):new Fe([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[qt]=new Fe(e,t)),r}parseSegment(){const e=bf(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new ut(Rd(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=bf(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=bf(this.remaining);i&&(r=i,this.capture(r))}e[Rd(t)]=Rd(r)}parseQueryParam(e){const t=function pw(n){const e=n.match(r_);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const c=function hC(n){const e=n.match(i_);return e?e[0]:""}(this.remaining);c&&(r=c,this.capture(r))}const i=Od(t),u=Od(r);if(e.hasOwnProperty(i)){let c=e[i];Array.isArray(c)||(c=[c],e[i]=c),c.push(u)}else e[i]=u}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=bf(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let u;r.indexOf(":")>-1?(u=r.substr(0,r.indexOf(":")),this.capture(u),this.capture(":")):e&&(u=qt);const c=this.parseChildren();t[u]=1===Object.keys(c).length?c[qt]:new Fe([],c),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class s_{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Rg(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=Rg(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Ua(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Ua(e,this._root).map(t=>t.value)}}function Rg(n,e){if(n===e.value)return e;for(const t of e.children){const r=Rg(n,t);if(r)return r}return null}function Ua(n,e){if(n===e.value)return[e];for(const t of e.children){const r=Ua(n,t);if(r.length)return r.unshift(e),r}return[]}class ra{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function ac(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class gw extends s_{constructor(e,t){super(e),this.snapshot=t,kd(this,e)}toString(){return this.snapshot.toString()}}function Df(n,e){const t=function pC(n,e){const c=new Nd([],{},{},"",{},qt,e,null,n.root,-1,{});return new a_("",new ra(c,[]))}(n,e),r=new Ui([new ut("",{})]),i=new Ui({}),u=new Ui({}),c=new Ui({}),f=new Ui(""),y=new uc(r,i,c,f,u,qt,e,t.root);return y.snapshot=t.root,new gw(new ra(y,[]),t)}class uc{constructor(e,t,r,i,u,c,f,y){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=u,this.outlet=c,this.component=f,this._futureSnapshot=y}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,yt.U)(e=>Vn(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,yt.U)(e=>Vn(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function o_(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],u=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(u.component)break;r--}}return function mw(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Nd{constructor(e,t,r,i,u,c,f,y,b,A,M){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=u,this.outlet=c,this.component=f,this.routeConfig=y,this._urlSegment=b,this._lastPathIndex=A,this._resolve=M}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Vn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Vn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class a_ extends s_{constructor(e,t){super(t),this.url=e,kd(this,t)}toString(){return Cf(this._root)}}function kd(n,e){e.value._routerState=n,e.children.forEach(t=>kd(n,t))}function Cf(n){const e=n.children.length>0?` { ${n.children.map(Cf).join(", ")} } `:"";return`${n.value}${e}`}function Og(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,$i(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),$i(e.params,t.params)||n.params.next(t.params),function rc(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!$i(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),$i(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function If(n,e){const t=$i(n.params,e.params)&&function xn(n,e){return br(n,e)&&n.every((t,r)=>$i(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||If(n.parent,e.parent))}function lc(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function Tf(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return lc(n,r,i);return lc(n,r)})}(n,e,t);return new ra(r,i)}{if(n.shouldAttach(e.value)){const u=n.retrieve(e.value);if(null!==u){const c=u.route;return c.value._futureSnapshot=e.value,c.children=e.children.map(f=>lc(n,f)),c}}const r=function gC(n){return new uc(new Ui(n.url),new Ui(n.params),new Ui(n.queryParams),new Ui(n.fragment),new Ui(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(u=>lc(n,u));return new ra(r,i)}}function Ng(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Sf(n){return"object"==typeof n&&null!=n&&n.outlets}function kg(n,e,t,r,i){let u={};if(r&&Fr(r,(f,y)=>{u[y]=Array.isArray(f)?f.map(b=>`${b}`):`${f}`}),n===e)return new Ke(t,u,i);const c=Pg(n,e,t);return new Ke(c,u,i)}function Pg(n,e,t){const r={};return Fr(n.children,(i,u)=>{r[u]=i===e?t:Pg(i,e,t)}),new Fe(n.segments,r)}class u_{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Ng(r[0]))throw new Error("Root segment cannot have matrix parameters");const i=r.find(Sf);if(i&&i!==Md(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Fg{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function ww(n,e,t){if(n||(n=new Fe([],{})),0===n.segments.length&&n.hasChildren())return Gi(n,e,t);const r=function _C(n,e,t){let r=0,i=e;const u={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return u;const c=n.segments[i],f=t[r];if(Sf(f))break;const y=`${f}`,b=r<t.length-1?t[r+1]:null;if(i>0&&void 0===y)break;if(y&&b&&"object"==typeof b&&void 0===b.outlets){if(!bw(y,b,c))return u;r+=2}else{if(!bw(y,{},c))return u;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const u=new Fe(n.segments.slice(0,r.pathIndex),{});return u.children[qt]=new Fe(n.segments.slice(r.pathIndex),n.children),Gi(u,0,i)}return r.match&&0===i.length?new Fe(n.segments,{}):r.match&&!n.hasChildren()?Lg(n,e,t):r.match?Gi(n,0,i):Lg(n,e,t)}function Gi(n,e,t){if(0===t.length)return new Fe(n.segments,{});{const r=function yC(n){return Sf(n[0])?n[0].outlets:{[qt]:n}}(t),i={};return Fr(r,(u,c)=>{"string"==typeof u&&(u=[u]),null!==u&&(i[c]=ww(n.children[c],e,u))}),Fr(n.children,(u,c)=>{void 0===r[c]&&(i[c]=u)}),new Fe(n.segments,i)}}function Lg(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const u=t[i];if(Sf(u)){const y=vC(u.outlets);return new Fe(r,y)}if(0===i&&Ng(t[0])){r.push(new ut(n.segments[e].path,Ew(t[0]))),i++;continue}const c=Sf(u)?u.outlets[qt]:`${u}`,f=i<t.length-1?t[i+1]:null;c&&f&&Ng(f)?(r.push(new ut(c,Ew(f))),i+=2):(r.push(new ut(c,{})),i++)}return new Fe(r,{})}function vC(n){const e={};return Fr(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=Lg(new Fe([],{}),0,t))}),e}function Ew(n){const e={};return Fr(n,(t,r)=>e[r]=`${t}`),e}function bw(n,e,t){return n==t.path&&$i(e,t.parameters)}class Dw{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Og(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=ac(t);e.children.forEach(u=>{const c=u.value.outlet;this.deactivateRoutes(u,i[c],r),delete i[c]}),Fr(i,(u,c)=>{this.deactivateRouteAndItsChildren(u,r)})}deactivateRoutes(e,t,r){const i=e.value,u=t?t.value:null;if(i===u)if(i.component){const c=r.getContext(i.outlet);c&&this.deactivateChildRoutes(e,t,c.children)}else this.deactivateChildRoutes(e,t,r);else u&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,u=ac(e);for(const c of Object.keys(u))this.deactivateRouteAndItsChildren(u[c],i);if(r&&r.outlet){const c=r.outlet.detach(),f=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:c,route:e,contexts:f})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,u=ac(e);for(const c of Object.keys(u))this.deactivateRouteAndItsChildren(u[c],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=ac(t);e.children.forEach(u=>{this.activateRoutes(u,i[u.value.outlet],r),this.forwardEvent(new e_(u.value.snapshot))}),e.children.length&&this.forwardEvent(new Js(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,u=t?t.value:null;if(Og(i),i===u)if(i.component){const c=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,c.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const c=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const f=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),c.children.onOutletReAttached(f.contexts),c.attachRef=f.componentRef,c.route=f.route.value,c.outlet&&c.outlet.attach(f.componentRef,f.route.value),Og(f.route.value),this.activateChildRoutes(e,null,c.children)}else{const f=function EC(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(i.snapshot),y=f?f.module.componentFactoryResolver:null;c.attachRef=null,c.route=i,c.resolver=y,c.outlet&&c.outlet.activateWith(i,y),this.activateChildRoutes(e,null,c.children)}}else this.activateChildRoutes(e,null,r)}}class l_{constructor(e,t){this.routes=e,this.module=t}}function ju(n){return"function"==typeof n}function $u(n){return n instanceof Ke}const Pd=Symbol("INITIAL_VALUE");function Af(){return Hr(n=>function hf(...n){const e=(0,fs.yG)(n),t=(0,fs.jO)(n),{args:r,keys:i}=cf(n);if(0===r.length)return(0,In.D)([],e);const u=new Cn.y(function dw(n,e,t=Pu.y){return r=>{Cg(e,()=>{const{length:i}=n,u=new Array(i);let c=i,f=i;for(let y=0;y<i;y++)Cg(e,()=>{const b=(0,In.D)(n[y],e);let A=!1;b.subscribe((0,$r.x)(r,M=>{u[y]=M,A||(A=!0,f--),f||r.next(t(u.slice()))},()=>{--c||r.complete()}))},r)},r)}}(r,e,i?c=>Zy(i,c):Pu.y));return t?u.pipe(ka(t)):u}(n.map(e=>e.pipe((0,Ra.q)(1),bd(Pd)))).pipe(Lu((e,t)=>{let r=!1;return t.reduce((i,u,c)=>i!==Pd?i:(u===Pd&&(r=!0),r||!1!==u&&c!==t.length-1&&!$u(u)?i:u),e)},Pd),Qs(e=>e!==Pd),(0,yt.U)(e=>$u(e)?e:!0===e),(0,Ra.q)(1)))}class c_{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new vs,this.attachRef=null}}class vs{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new c_,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let Mf=(()=>{class n{constructor(t,r,i,u,c){this.parentContexts=t,this.location=r,this.resolver=i,this.changeDetector=c,this.activated=null,this._activatedRoute=null,this.activateEvents=new p.vpe,this.deactivateEvents=new p.vpe,this.attachEvents=new p.vpe,this.detachEvents=new p.vpe,this.name=u||qt,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const c=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),f=this.parentContexts.getOrCreateContext(this.name).children,y=new Tw(t,f,this.location.injector);this.activated=this.location.createComponent(c,this.location.length,y),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(p.Y36(vs),p.Y36(p.s_b),p.Y36(p._Vd),p.$8M("name"),p.Y36(p.sBO))},n.\u0275dir=p.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class Tw{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===uc?this.route:e===vs?this.childContexts:this.parent.get(e,t)}}let Bg=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=p.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&p._UZ(0,"router-outlet")},directives:[Mf],encapsulation:2}),n})();function bC(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];Sw(r,tM(e,r))}}function Sw(n,e){n.children&&bC(n.children,e)}function tM(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function Fd(n){const e=n.children&&n.children.map(Fd),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==qt&&(t.component=Bg),t}function Oi(n){return n.outlet||qt}function Ug(n,e){const t=n.filter(r=>Oi(r)===e);return t.push(...n.filter(r=>Oi(r)!==e)),t}const jg={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Ld(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},jg):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const u=(e.matcher||Io)(t,n,e);if(!u)return Object.assign({},jg);const c={};Fr(u.posParams,(y,b)=>{c[b]=y.path});const f=u.consumed.length>0?Object.assign(Object.assign({},c),u.consumed[u.consumed.length-1].parameters):c;return{matched:!0,consumedSegments:u.consumed,remainingSegments:t.slice(u.consumed.length),parameters:f,positionalParamSegments:null!==(r=u.posParams)&&void 0!==r?r:{}}}function d_(n,e,t,r,i="corrected"){if(t.length>0&&function IC(n,e,t){return t.some(r=>xf(n,e,r)&&Oi(r)!==qt)}(n,t,r)){const c=new Fe(e,function CC(n,e,t,r){const i={};i[qt]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const u of t)if(""===u.path&&Oi(u)!==qt){const c=new Fe([],{});c._sourceSegment=n,c._segmentIndexShift=e.length,i[Oi(u)]=c}return i}(n,e,r,new Fe(t,n.children)));return c._sourceSegment=n,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:[]}}if(0===t.length&&function TC(n,e,t){return t.some(r=>xf(n,e,r))}(n,t,r)){const c=new Fe(n.segments,function DC(n,e,t,r,i,u){const c={};for(const f of r)if(xf(n,t,f)&&!i[Oi(f)]){const y=new Fe([],{});y._sourceSegment=n,y._segmentIndexShift="legacy"===u?n.segments.length:e.length,c[Oi(f)]=y}return Object.assign(Object.assign({},i),c)}(n,e,t,r,n.children,i));return c._sourceSegment=n,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:t}}const u=new Fe(n.segments,n.children);return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:t}}function xf(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function SC(n,e,t,r){return!!(Oi(n)===r||r!==qt&&xf(e,t,n))&&("**"===n.path||Ld(e,n,t).matched)}function Aw(n,e,t){return 0===e.length&&!n.children[t]}class h_{constructor(e){this.segmentGroup=e||null}}class f_{constructor(e){this.urlTree=e}}function Vd(n){return Ba(new h_(n))}function Mw(n){return Ba(new f_(n))}class iM{constructor(e,t,r,i,u){this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=u,this.allowRedirects=!0,this.ngModule=e.get(p.h0i)}apply(){const e=d_(this.urlTree.root,[],[],this.config).segmentGroup,t=new Fe(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,qt).pipe((0,yt.U)(u=>this.createUrlTree(xw(u),this.urlTree.queryParams,this.urlTree.fragment))).pipe(gs(u=>{if(u instanceof f_)return this.allowRedirects=!1,this.match(u.urlTree);throw u instanceof h_?this.noMatchError(u):u}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,qt).pipe((0,yt.U)(i=>this.createUrlTree(xw(i),e.queryParams,e.fragment))).pipe(gs(i=>{throw i instanceof h_?this.noMatchError(i):i}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const i=e.segments.length>0?new Fe([],{[qt]:e}):e;return new Ke(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,yt.U)(u=>new Fe([],u))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const u of Object.keys(r.children))"primary"===u?i.unshift(u):i.push(u);return(0,In.D)(i).pipe(Xl(u=>{const c=r.children[u],f=Ug(t,u);return this.expandSegmentGroup(e,f,c,u).pipe((0,yt.U)(y=>({segment:y,outlet:u})))}),Lu((u,c)=>(u[c.outlet]=c.segment,u),{}),function ec(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Qs((i,u)=>n(i,u,r)):Pu.y,Dd(1),t?Qy(e):Tg(()=>new wd))}())}expandSegment(e,t,r,i,u,c){return(0,In.D)(r).pipe(Xl(f=>this.expandSegmentAgainstRoute(e,t,r,f,i,u,c).pipe(gs(b=>{if(b instanceof h_)return _t(null);throw b}))),Ln(f=>!!f),gs((f,y)=>{if(f instanceof wd||"EmptyError"===f.name)return Aw(t,i,u)?_t(new Fe([],{})):Vd(t);throw f}))}expandSegmentAgainstRoute(e,t,r,i,u,c,f){return SC(i,t,u,c)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,u,c):f&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,u,c):Vd(t):Vd(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,u,c){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,c):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,u,c)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const u=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?Mw(u):this.lineralizeSegments(r,u).pipe((0,ln.z)(c=>{const f=new Fe(c,{});return this.expandSegment(e,f,t,c,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,u,c){const{matched:f,consumedSegments:y,remainingSegments:b,positionalParamSegments:A}=Ld(t,i,u);if(!f)return Vd(t);const M=this.applyRedirectCommands(y,i.redirectTo,A);return i.redirectTo.startsWith("/")?Mw(M):this.lineralizeSegments(i,M).pipe((0,ln.z)(F=>this.expandSegment(e,t,r,F.concat(b),c,!1)))}matchSegmentAgainstRoute(e,t,r,i,u){if("**"===r.path)return r.loadChildren?(r._loadedConfig?_t(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe((0,yt.U)(M=>(r._loadedConfig=M,new Fe(i,{})))):_t(new Fe(i,{}));const{matched:c,consumedSegments:f,remainingSegments:y}=Ld(t,r,i);return c?this.getChildConfig(e,r,i).pipe((0,ln.z)(A=>{const M=A.module,F=A.routes,{segmentGroup:B,slicedSegments:G}=d_(t,f,y,F),te=new Fe(B.segments,B.children);if(0===G.length&&te.hasChildren())return this.expandChildren(M,F,te).pipe((0,yt.U)(Ue=>new Fe(f,Ue)));if(0===F.length&&0===G.length)return _t(new Fe(f,{}));const Ee=Oi(r)===u;return this.expandSegment(M,te,F,G,Ee?qt:u,!0).pipe((0,yt.U)(Ze=>new Fe(f.concat(Ze.segments),Ze.children)))})):Vd(t)}getChildConfig(e,t,r){return t.children?_t(new l_(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?_t(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe((0,ln.z)(i=>i?this.configLoader.load(e.injector,t).pipe((0,yt.U)(u=>(t._loadedConfig=u,u))):function nM(n){return Ba(nc(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(t))):_t(new l_([],e))}runCanLoadGuards(e,t,r){const i=t.canLoad;return i&&0!==i.length?_t(i.map(c=>{const f=e.get(c);let y;if(function Cw(n){return n&&ju(n.canLoad)}(f))y=f.canLoad(t,r);else{if(!ju(f))throw new Error("Invalid CanLoad guard");y=f(t,r)}return _s(y)})).pipe(Af(),(0,Pr.b)(c=>{if(!$u(c))return;const f=nc(`Redirecting to "${this.urlSerializer.serialize(c)}"`);throw f.url=c,f}),(0,yt.U)(c=>!0===c)):_t(!0)}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return _t(r);if(i.numberOfChildren>1||!i.children[qt])return Ba(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e.redirectTo}'`));i=i.children[qt]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,i){const u=this.createSegmentGroup(e,t.root,r,i);return new Ke(u,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Fr(e,(i,u)=>{if("string"==typeof i&&i.startsWith(":")){const f=i.substring(1);r[u]=t[f]}else r[u]=i}),r}createSegmentGroup(e,t,r,i){const u=this.createSegments(e,t.segments,r,i);let c={};return Fr(t.children,(f,y)=>{c[y]=this.createSegmentGroup(e,f,r,i)}),new Fe(u,c)}createSegments(e,t,r,i){return t.map(u=>u.path.startsWith(":")?this.findPosParam(e,u,i):this.findOrReturn(u,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}function xw(n){const e={};for(const r of Object.keys(n.children)){const u=xw(n.children[r]);(u.segments.length>0||u.hasChildren())&&(e[r]=u)}return function sM(n){if(1===n.numberOfChildren&&n.children[qt]){const e=n.children[qt];return new Fe(n.segments.concat(e.segments),e.children)}return n}(new Fe(n.segments,e))}class AC{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class g_{constructor(e,t){this.component=e,this.route=t}}function aM(n,e,t){const r=n._root;return Rf(r,e?e._root:null,t,[r.value])}function So(n,e,t){const r=function m_(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function Rf(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const u=ac(e);return n.children.forEach(c=>{(function Rw(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const u=n.value,c=e?e.value:null,f=t?t.getContext(n.value.outlet):null;if(c&&u.routeConfig===c.routeConfig){const y=function y_(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!br(n.url,e.url);case"pathParamsOrQueryParamsChange":return!br(n.url,e.url)||!$i(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!If(n,e)||!$i(n.queryParams,e.queryParams);default:return!If(n,e)}}(c,u,u.routeConfig.runGuardsAndResolvers);y?i.canActivateChecks.push(new AC(r)):(u.data=c.data,u._resolvedData=c._resolvedData),Rf(n,e,u.component?f?f.children:null:t,r,i),y&&f&&f.outlet&&f.outlet.isActivated&&i.canDeactivateChecks.push(new g_(f.outlet.component,c))}else c&&Bd(e,f,i),i.canActivateChecks.push(new AC(r)),Rf(n,null,u.component?f?f.children:null:t,r,i)})(c,u[c.value.outlet],t,r.concat([c.value]),i),delete u[c.value.outlet]}),Fr(u,(c,f)=>Bd(c,t.getContext(f),i)),i}function Bd(n,e,t){const r=ac(n),i=n.value;Fr(r,(u,c)=>{Bd(u,i.component?e?e.children.getContext(c):null:e,t)}),t.canDeactivateChecks.push(new g_(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class OC{}function kw(n){return new Cn.y(e=>e.error(n))}class Ud{constructor(e,t,r,i,u,c){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=u,this.relativeLinkResolution=c}recognize(){const e=d_(this.urlTree.root,[],[],this.config.filter(c=>void 0===c.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,qt);if(null===t)return null;const r=new Nd([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},qt,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new ra(r,t),u=new a_(this.url,i);return this.inheritParamsAndData(u._root),u}inheritParamsAndData(e){const t=e.value,r=o_(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const u of Object.keys(t.children)){const c=t.children[u],f=Ug(e,u),y=this.processSegmentGroup(f,c,u);if(null===y)return null;r.push(...y)}const i=cc(r);return function w_(n){n.sort((e,t)=>e.value.outlet===qt?-1:t.value.outlet===qt?1:e.value.outlet.localeCompare(t.value.outlet))}(i),i}processSegment(e,t,r,i){for(const u of e){const c=this.processSegmentAgainstRoute(u,t,r,i);if(null!==c)return c}return Aw(t,r,i)?[]:null}processSegmentAgainstRoute(e,t,r,i){if(e.redirectTo||!SC(e,t,r,i))return null;let u,c=[],f=[];if("**"===e.path){const B=r.length>0?Md(r).parameters:{};u=new Nd(r,B,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,$g(e),Oi(e),e.component,e,E_(t),b_(t)+r.length,Hg(e))}else{const B=Ld(t,e,r);if(!B.matched)return null;c=B.consumedSegments,f=B.remainingSegments,u=new Nd(c,B.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,$g(e),Oi(e),e.component,e,E_(t),b_(t)+c.length,Hg(e))}const y=function jd(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:b,slicedSegments:A}=d_(t,c,f,y.filter(B=>void 0===B.redirectTo),this.relativeLinkResolution);if(0===A.length&&b.hasChildren()){const B=this.processChildren(y,b);return null===B?null:[new ra(u,B)]}if(0===y.length&&0===A.length)return[new ra(u,[])];const M=Oi(e)===i,F=this.processSegment(y,b,A,M?qt:i);return null===F?null:[new ra(u,F)]}}function Nf(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function cc(n){const e=[],t=new Set;for(const r of n){if(!Nf(r)){e.push(r);continue}const i=e.find(u=>r.value.routeConfig===u.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=cc(r.children);e.push(new ra(r.value,i))}return e.filter(r=>!t.has(r))}function E_(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function b_(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function $g(n){return n.data||{}}function Hg(n){return n.resolve||{}}function kC(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function qg(n){return Hr(e=>{const t=n(e);return t?(0,In.D)(t).pipe((0,yt.U)(()=>e)):_t(e)})}class FC extends class Vw{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const D_=new p.OlP("ROUTES");class qi{constructor(e,t,r,i){this.injector=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=i}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const i=this.loadModuleFactory(t.loadChildren).pipe((0,yt.U)(u=>{this.onLoadEndListener&&this.onLoadEndListener(t);const c=u.create(e);return new l_(Mg(c.injector.get(D_,void 0,p.XFs.Self|p.XFs.Optional)).map(Fd),c)}),gs(u=>{throw t._loader$=void 0,u}));return t._loader$=new Yn(i,()=>new jr.x).pipe(Ig()),t._loader$}loadModuleFactory(e){return _s(e()).pipe((0,ln.z)(t=>t instanceof p.YKP?_t(t):(0,In.D)(this.compiler.compileModuleAsync(t))))}}class VC{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function cM(n){throw n}function dM(n,e,t){return e.parse("/")}function C_(n,e){return _t(null)}const hM={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},BC={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ni=(()=>{class n{constructor(t,r,i,u,c,f,y){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=u,this.config=y,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new jr.x,this.errorHandler=cM,this.malformedUriErrorHandler=dM,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:C_,afterPreactivation:C_},this.urlHandlingStrategy=new VC,this.routeReuseStrategy=new FC,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=c.get(p.h0i),this.console=c.get(p.c2e);const M=c.get(p.R0b);this.isNgZoneEnabled=M instanceof p.R0b&&p.R0b.isInAngularZone(),this.resetConfig(y),this.currentUrlTree=function n_(){return new Ke(new Fe([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new qi(c,f,F=>this.triggerEvent(new yf(F)),F=>this.triggerEvent(new _f(F))),this.routerState=Df(this.currentUrlTree,this.rootComponentType),this.transitions=new Ui({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(Qs(i=>0!==i.id),(0,yt.U)(i=>Object.assign(Object.assign({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),Hr(i=>{let u=!1,c=!1;return _t(i).pipe((0,Pr.b)(f=>{this.currentNavigation={id:f.id,initialUrl:f.currentRawUrl,extractedUrl:f.extractedUrl,trigger:f.source,extras:f.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Hr(f=>{const y=this.browserUrlTree.toString(),b=!this.navigated||f.extractedUrl.toString()!==y||y!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||b)&&this.urlHandlingStrategy.shouldProcessUrl(f.rawUrl))return Uw(f.source)&&(this.browserUrlTree=f.extractedUrl),_t(f).pipe(Hr(M=>{const F=this.transitions.getValue();return r.next(new Er(M.id,this.serializeUrl(M.extractedUrl),M.source,M.restoredState)),F!==this.transitions.getValue()?Co.E:Promise.resolve(M)}),function oM(n,e,t,r){return Hr(i=>function rM(n,e,t,r,i){return new iM(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,yt.U)(u=>Object.assign(Object.assign({},i),{urlAfterRedirects:u}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Pr.b)(M=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:M.urlAfterRedirects})}),function Pw(n,e,t,r,i){return(0,ln.z)(u=>function Of(n,e,t,r,i="emptyOnly",u="legacy"){try{const c=new Ud(n,e,t,r,i,u).recognize();return null===c?kw(new OC):_t(c)}catch(c){return kw(c)}}(n,e,u.urlAfterRedirects,t(u.urlAfterRedirects),r,i).pipe((0,yt.U)(c=>Object.assign(Object.assign({},u),{targetSnapshot:c}))))}(this.rootComponentType,this.config,M=>this.serializeUrl(M),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Pr.b)(M=>{if("eager"===this.urlUpdateStrategy){if(!M.extras.skipLocationChange){const B=this.urlHandlingStrategy.merge(M.urlAfterRedirects,M.rawUrl);this.setBrowserUrl(B,M)}this.browserUrlTree=M.urlAfterRedirects}const F=new tc(M.id,this.serializeUrl(M.extractedUrl),this.serializeUrl(M.urlAfterRedirects),M.targetSnapshot);r.next(F)}));if(b&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:F,extractedUrl:B,source:G,restoredState:te,extras:Ee}=f,We=new Er(F,this.serializeUrl(B),G,te);r.next(We);const Ze=Df(B,this.rootComponentType).snapshot;return _t(Object.assign(Object.assign({},f),{targetSnapshot:Ze,urlAfterRedirects:B,extras:Object.assign(Object.assign({},Ee),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=f.rawUrl,f.resolve(null),Co.E}),qg(f=>{const{targetSnapshot:y,id:b,extractedUrl:A,rawUrl:M,extras:{skipLocationChange:F,replaceUrl:B}}=f;return this.hooks.beforePreactivation(y,{navigationId:b,appliedUrlTree:A,rawUrlTree:M,skipLocationChange:!!F,replaceUrl:!!B})}),(0,Pr.b)(f=>{const y=new gf(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);this.triggerEvent(y)}),(0,yt.U)(f=>Object.assign(Object.assign({},f),{guards:aM(f.targetSnapshot,f.currentSnapshot,this.rootContexts)})),function __(n,e){return(0,ln.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:u,canDeactivateChecks:c}}=t;return 0===c.length&&0===u.length?_t(Object.assign(Object.assign({},t),{guardsResult:!0})):function MC(n,e,t,r){return(0,In.D)(n).pipe((0,ln.z)(i=>function Nw(n,e,t,r,i){const u=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return u&&0!==u.length?_t(u.map(f=>{const y=So(f,e,i);let b;if(function To(n){return n&&ju(n.canDeactivate)}(y))b=_s(y.canDeactivate(n,e,t,r));else{if(!ju(y))throw new Error("Invalid CanDeactivate guard");b=_s(y(n,e,t,r))}return b.pipe(Ln())})).pipe(Af()):_t(!0)}(i.component,i.route,t,e,r)),Ln(i=>!0!==i,!0))}(c,r,i,n).pipe((0,ln.z)(f=>f&&function Pt(n){return"boolean"==typeof n}(f)?function Hu(n,e,t,r){return(0,In.D)(e).pipe(Xl(i=>Ed(function xC(n,e){return null!==n&&e&&e(new Xy(n)),_t(!0)}(i.route.parent,r),function Ow(n,e){return null!==n&&e&&e(new Sg(n)),_t(!0)}(i.route,r),function RC(n,e,t){const r=e[e.length-1],u=e.slice(0,e.length-1).reverse().map(c=>function uM(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(c)).filter(c=>null!==c).map(c=>Jl(()=>_t(c.guards.map(y=>{const b=So(y,c.node,t);let A;if(function Vg(n){return n&&ju(n.canActivateChild)}(b))A=_s(b.canActivateChild(r,n));else{if(!ju(b))throw new Error("Invalid CanActivateChild guard");A=_s(b(r,n))}return A.pipe(Ln())})).pipe(Af())));return _t(u).pipe(Af())}(n,i.path,t),function v_(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return _t(!0);const i=r.map(u=>Jl(()=>{const c=So(u,e,t);let f;if(function Iw(n){return n&&ju(n.canActivate)}(c))f=_s(c.canActivate(e,n));else{if(!ju(c))throw new Error("Invalid CanActivate guard");f=_s(c(e,n))}return f.pipe(Ln())}));return _t(i).pipe(Af())}(n,i.route,t))),Ln(i=>!0!==i,!0))}(r,u,n,e):_t(f)),(0,yt.U)(f=>Object.assign(Object.assign({},t),{guardsResult:f})))})}(this.ngModule.injector,f=>this.triggerEvent(f)),(0,Pr.b)(f=>{if($u(f.guardsResult)){const b=nc(`Redirecting to "${this.serializeUrl(f.guardsResult)}"`);throw b.url=f.guardsResult,b}const y=new Jy(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot,!!f.guardsResult);this.triggerEvent(y)}),Qs(f=>!!f.guardsResult||(this.restoreHistory(f),this.cancelNavigationTransition(f,""),!1)),qg(f=>{if(f.guards.canActivateChecks.length)return _t(f).pipe((0,Pr.b)(y=>{const b=new Td(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot);this.triggerEvent(b)}),Hr(y=>{let b=!1;return _t(y).pipe(function Gg(n,e){return(0,ln.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return _t(t);let u=0;return(0,In.D)(i).pipe(Xl(c=>function NC(n,e,t,r){return function Fw(n,e,t,r){const i=kC(n);if(0===i.length)return _t({});const u={};return(0,In.D)(i).pipe((0,ln.z)(c=>function Lw(n,e,t,r){const i=So(n,e,r);return _s(i.resolve?i.resolve(e,t):i(e,t))}(n[c],e,t,r).pipe((0,Pr.b)(f=>{u[c]=f}))),Dd(1),(0,ln.z)(()=>kC(u).length===i.length?_t(u):Co.E))}(n._resolve,n,e,r).pipe((0,yt.U)(u=>(n._resolvedData=u,n.data=Object.assign(Object.assign({},n.data),o_(n,t).resolve),null)))}(c.route,r,n,e)),(0,Pr.b)(()=>u++),Dd(1),(0,ln.z)(c=>u===i.length?_t(t):Co.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Pr.b)({next:()=>b=!0,complete:()=>{b||(this.restoreHistory(y),this.cancelNavigationTransition(y,"At least one route resolver didn't emit any value."))}}))}),(0,Pr.b)(y=>{const b=new mf(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot);this.triggerEvent(b)}))}),qg(f=>{const{targetSnapshot:y,id:b,extractedUrl:A,rawUrl:M,extras:{skipLocationChange:F,replaceUrl:B}}=f;return this.hooks.afterPreactivation(y,{navigationId:b,appliedUrlTree:A,rawUrlTree:M,skipLocationChange:!!F,replaceUrl:!!B})}),(0,yt.U)(f=>{const y=function yw(n,e,t){const r=lc(n,e._root,t?t._root:void 0);return new gw(r,e)}(this.routeReuseStrategy,f.targetSnapshot,f.currentRouterState);return Object.assign(Object.assign({},f),{targetRouterState:y})}),(0,Pr.b)(f=>{this.currentUrlTree=f.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(f.urlAfterRedirects,f.rawUrl),this.routerState=f.targetRouterState,"deferred"===this.urlUpdateStrategy&&(f.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,f),this.browserUrlTree=f.urlAfterRedirects)}),((n,e,t)=>(0,yt.U)(r=>(new Dw(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,f=>this.triggerEvent(f)),(0,Pr.b)({next(){u=!0},complete(){u=!0}}),function Cd(n){return(0,ei.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}(()=>{var f;u||c||this.cancelNavigationTransition(i,`Navigation ID ${i.id} is not equal to the current navigation id ${this.navigationId}`),(null===(f=this.currentNavigation)||void 0===f?void 0:f.id)===i.id&&(this.currentNavigation=null)}),gs(f=>{if(c=!0,function t_(n){return n&&n[Ad]}(f)){const y=$u(f.url);y||(this.navigated=!0,this.restoreHistory(i,!0));const b=new Id(i.id,this.serializeUrl(i.extractedUrl),f.message);r.next(b),y?setTimeout(()=>{const A=this.urlHandlingStrategy.merge(f.url,this.rawUrlTree),M={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Uw(i.source)};this.scheduleNavigation(A,"imperative",null,M,{resolve:i.resolve,reject:i.reject,promise:i.promise})},0):i.resolve(!1)}else{this.restoreHistory(i,!0);const y=new Ri(i.id,this.serializeUrl(i.extractedUrl),f);r.next(y);try{i.resolve(this.errorHandler(f))}catch(b){i.reject(b)}}return Co.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var i;const u={replaceUrl:!0},c=(null===(i=t.state)||void 0===i?void 0:i.navigationId)?t.state:null;if(c){const y=Object.assign({},c);delete y.navigationId,delete y.\u0275routerPageId,0!==Object.keys(y).length&&(u.state=y)}const f=this.parseUrl(t.url);this.scheduleNavigation(f,r,c,u)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){bC(t),this.config=t.map(Fd),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:u,fragment:c,queryParamsHandling:f,preserveFragment:y}=r,b=i||this.routerState.root,A=y?this.currentUrlTree.fragment:c;let M=null;switch(f){case"merge":M=Object.assign(Object.assign({},this.currentUrlTree.queryParams),u);break;case"preserve":M=this.currentUrlTree.queryParams;break;default:M=u||null}return null!==M&&(M=this.removeEmptyProps(M)),function _w(n,e,t,r,i){if(0===t.length)return kg(e.root,e.root,e.root,r,i);const u=function eM(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new u_(!0,0,n);let e=0,t=!1;const r=n.reduce((i,u,c)=>{if("object"==typeof u&&null!=u){if(u.outlets){const f={};return Fr(u.outlets,(y,b)=>{f[b]="string"==typeof y?y.split("/"):y}),[...i,{outlets:f}]}if(u.segmentPath)return[...i,u.segmentPath]}return"string"!=typeof u?[...i,u]:0===c?(u.split("/").forEach((f,y)=>{0==y&&"."===f||(0==y&&""===f?t=!0:".."===f?e++:""!=f&&i.push(f))}),i):[...i,u]},[]);return new u_(t,e,r)}(t);if(u.toRoot())return kg(e.root,e.root,new Fe([],{}),r,i);const c=function mC(n,e,t){if(n.isAbsolute)return new Fg(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const u=t.snapshot._urlSegment;return new Fg(u,u===e.root,0)}const r=Ng(n.commands[0])?0:1;return function vw(n,e,t){let r=n,i=e,u=t;for(;u>i;){if(u-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new Fg(r,!1,i-u)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(u,e,n),f=c.processChildren?Gi(c.segmentGroup,c.index,u.commands):ww(c.segmentGroup,c.index,u.commands);return kg(e.root,c.segmentGroup,f,r,i)}(b,this.currentUrlTree,t,M,null!=A?A:null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=$u(t)?t:this.parseUrl(t),u=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(u,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function Bw(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?Object.assign({},hM):!1===r?Object.assign({},BC):r,$u(t))return m(this.currentUrlTree,t,i);const u=this.parseUrl(t);return m(this.currentUrlTree,u,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const u=t[i];return null!=u&&(r[i]=u),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new ys(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,u,c){var f,y;if(this.disposed)return Promise.resolve(!1);let b,A,M;c?(b=c.resolve,A=c.reject,M=c.promise):M=new Promise((G,te)=>{b=G,A=te});const F=++this.navigationId;let B;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),B=i&&i.\u0275routerPageId?i.\u0275routerPageId:u.replaceUrl||u.skipLocationChange?null!==(f=this.browserPageId)&&void 0!==f?f:0:(null!==(y=this.browserPageId)&&void 0!==y?y:0)+1):B=0,this.setTransition({id:F,targetPageId:B,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:u,resolve:b,reject:A,promise:M,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),M.catch(G=>Promise.reject(G))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),u=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",u):this.location.go(i,"",u)}restoreHistory(t,r=!1){var i,u;if("computed"===this.canceledNavigationResolution){const c=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(i=this.currentNavigation)||void 0===i?void 0:i.finalUrl)||0===c?this.currentUrlTree===(null===(u=this.currentNavigation)||void 0===u?void 0:u.finalUrl)&&0===c&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(c)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const i=new Id(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(i),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){p.$Z()},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})();function Uw(n){return"imperative"!==n}let kf=(()=>{class n{constructor(t,r,i,u,c){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=u,this.el=c,this.commands=null,this.onChanges=new jr.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const r=this.renderer,i=this.el.nativeElement;null!==t?r.setAttribute(i,"tabindex",t):r.removeAttribute(i,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const t={skipLocationChange:dc(this.skipLocationChange),replaceUrl:dc(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:dc(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(p.Y36(Ni),p.Y36(uc),p.$8M("tabindex"),p.Y36(p.Qsj),p.Y36(p.SBq))},n.\u0275dir=p.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,r){1&t&&p.NdJ("click",function(){return r.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[p.TTD]}),n})();function dc(n){return""===n||!!n}class $w{}class T_{preload(e,t){return _t(null)}}let S_=(()=>{class n{constructor(t,r,i,u){this.router=t,this.injector=i,this.preloadingStrategy=u,this.loader=new qi(i,r,y=>t.triggerEvent(new yf(y)),y=>t.triggerEvent(new _f(y)))}setUpPreloading(){this.subscription=this.router.events.pipe(Qs(t=>t instanceof ys),Xl(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(p.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const u of r)if(u.loadChildren&&!u.canLoad&&u._loadedConfig){const c=u._loadedConfig;i.push(this.processRoutes(c.module,c.routes))}else u.loadChildren&&!u.canLoad?i.push(this.preloadConfig(t,u)):u.children&&i.push(this.processRoutes(t,u.children));return(0,In.D)(i).pipe((0,Fu.J)(),(0,yt.U)(u=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?_t(r._loadedConfig):this.loader.load(t.injector,r)).pipe((0,ln.z)(u=>(r._loadedConfig=u,this.processRoutes(u.module,u.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(Ni),p.LFG(p.Sil),p.LFG(p.zs3),p.LFG($w))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})(),A_=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Er?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof ys&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Sd&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new Sd(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){p.$Z()},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})();const $a=new p.OlP("ROUTER_CONFIGURATION"),Hw=new p.OlP("ROUTER_FORROOT_GUARD"),$C=[ve,{provide:sc,useClass:Vu},{provide:Ni,useFactory:function zC(n,e,t,r,i,u,c={},f,y){const b=new Ni(null,n,e,t,r,i,Mg(u));return f&&(b.urlHandlingStrategy=f),y&&(b.routeReuseStrategy=y),function WC(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(c,b),c.enableTracing&&b.events.subscribe(A=>{var M,F;null===(M=console.group)||void 0===M||M.call(console,`Router Event: ${A.constructor.name}`),console.log(A.toString()),console.log(A),null===(F=console.groupEnd)||void 0===F||F.call(console)}),b},deps:[sc,vs,ve,p.zs3,p.Sil,D_,$a,[class LC{},new p.FiY],[class PC{},new p.FiY]]},vs,{provide:uc,useFactory:function Wg(n){return n.routerState.root},deps:[Ni]},S_,T_,class jC{preload(e,t){return t().pipe(gs(()=>_t(null)))}},{provide:$a,useValue:{enableTracing:!1}}];function fM(){return new p.PXZ("Router",Ni)}let $d=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[$C,zg(t),{provide:Hw,useFactory:qC,deps:[[Ni,new p.FiY,new p.tp0]]},{provide:$a,useValue:r||{}},{provide:fe,useFactory:GC,deps:[he,[new p.tBr(rt),new p.FiY],$a]},{provide:A_,useFactory:HC,deps:[Ni,pu,$a]},{provide:$w,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:T_},{provide:p.PXZ,multi:!0,useFactory:fM},[Pf,{provide:p.ip1,multi:!0,useFactory:KC,deps:[Pf]},{provide:Kg,useFactory:M_,deps:[Pf]},{provide:p.tb,multi:!0,useExisting:Kg}]]}}static forChild(t){return{ngModule:n,providers:[zg(t)]}}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(Hw,8),p.LFG(Ni,8))},n.\u0275mod=p.oAB({type:n}),n.\u0275inj=p.cJS({}),n})();function HC(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new A_(n,e,t)}function GC(n,e,t={}){return t.useHash?new Ie(n,e):new Ye(n,e)}function qC(n){return"guarded"}function zg(n){return[{provide:p.deG,multi:!0,useValue:n},{provide:D_,multi:!0,useValue:n}]}let Pf=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new jr.x}appInitializer(){return this.injector.get($,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const i=new Promise(f=>r=f),u=this.injector.get(Ni),c=this.injector.get($a);return"disabled"===c.initialNavigation?(u.setUpLocationChangeListener(),r(!0)):"enabled"===c.initialNavigation||"enabledBlocking"===c.initialNavigation?(u.hooks.afterPreactivation=()=>this.initNavigation?_t(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),u.initialNavigation()):r(!0),i})}bootstrapListener(t){const r=this.injector.get($a),i=this.injector.get(S_),u=this.injector.get(A_),c=this.injector.get(Ni),f=this.injector.get(p.z2F);t===f.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&c.initialNavigation(),i.setUpPreloading(),u.init(),c.resetRootComponentType(f.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(p.zs3))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})();function KC(n){return n.appInitializer.bind(n)}function M_(n){return n.bootstrapListener.bind(n)}const Kg=new p.OlP("Router Initializer");let ZC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=p.Xpm({type:n,selectors:[["lib-home"]],decls:7,vars:0,consts:[[1,"ph"],["type","submit","routerLink","tasks",1,"mybutton",2,"margin-left","480px","margin-top","250px"]],template:function(t,r){1&t&&(p.TgZ(0,"div")(1,"header"),p._uU(2," Get a clear view of the day ahead "),p.qZA(),p.TgZ(3,"p",0),p._uU(4,"All your tasks that are due today will show up here."),p.qZA(),p.TgZ(5,"button",1),p._uU(6,"Add task"),p.qZA()())},directives:[kf],encapsulation:2,changeDetection:0}),n})();const Zg=new p.OlP("GETS_ALL_IMAGE_DTO");function gM(n,e){if(1&n&&(p.TgZ(0,"div",3)(1,"div",4),p._UZ(2,"img",5),p.qZA()()),2&n){const t=e.$implicit;p.xp6(2),p.Q6J("src",t.imageUrl,p.LSH)}}let YC=(()=>{class n{constructor(t){this._getsAllImageDto=t,this.images$=this._getsAllImageDto.getAll()}}return n.\u0275fac=function(t){return new(t||n)(p.Y36(Zg))},n.\u0275cmp=p.Xpm({type:n,selectors:[["lib-image"]],decls:4,vars:3,consts:[[1,"container"],[1,"row",2,"margin-top","60px"],["class","col-4",4,"ngFor","ngForOf"],[1,"col-4"],[1,"card","text-center"],[1,"card-img-top",3,"src"]],template:function(t,r){1&t&&(p.TgZ(0,"div",0)(1,"div",1),p.YNc(2,gM,3,1,"div",2),p.ALo(3,"async"),p.qZA()()),2&t&&(p.xp6(2),p.Q6J("ngForOf",p.lcZ(3,1,r.images$)))},directives:[or],pipes:[lu],encapsulation:2,changeDetection:0}),n})(),qw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=p.Xpm({type:n,selectors:[["app-home-page"]],decls:3,vars:0,template:function(t,r){1&t&&p._UZ(0,"h1")(1,"lib-home")(2,"lib-image")},directives:[ZC,YC],encapsulation:2,changeDetection:0}),n})(),zw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=p.oAB({type:n}),n.\u0275inj=p.cJS({providers:[],imports:[[yr,$d]]}),n})(),Ww=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=p.oAB({type:n}),n.\u0275inj=p.cJS({providers:[],imports:[[yr]]}),n})();var Kw=k(4986),Gr=k(5813);function Ao(){return(0,ei.e)((n,e)=>{let t,r=!1;n.subscribe((0,$r.x)(e,i=>{const u=t;t=i,r&&e.next([u,i]),r=!0}))})}function QC(n,e){return n===e}k(820);var it,yM=k(3942),_e=k(5861),Gu=k(9681),Hd=k(4859),Xs=k(1877),Yt=k(2090),x_="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},ia={},Qg=Qg||{},Nt=x_||self;function Gd(){}function R_(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Ff(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var qu="closure_uid_"+(1e9*Math.random()>>>0),Yw=0;function JC(n,e,t){return n.call.apply(n.bind,arguments)}function XC(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function Qn(n,e,t){return(Qn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?JC:XC).apply(null,arguments)}function Jg(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function ti(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,i,u){for(var c=Array(arguments.length-2),f=2;f<arguments.length;f++)c[f-2]=arguments[f];return e.prototype[i].apply(r,c)}}function zu(){this.s=this.s,this.o=this.o}var Mo={};zu.prototype.s=!1,zu.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function Zw(n){return Object.prototype.hasOwnProperty.call(n,qu)&&n[qu]||(n[qu]=++Yw)}(this);delete Mo[n]}},zu.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Xg=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},O_=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const r=n.length,i="string"==typeof n?n.split(""):n;for(let u=0;u<r;u++)u in i&&e.call(t,i[u],u,n)};function N_(n){return Array.prototype.concat.apply([],arguments)}function em(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function tm(n){return/^[\s\xa0]*$/.test(n)}var vi,Jw=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function ki(n,e){return-1!=n.indexOf(e)}function k_(n,e){return n<e?-1:n>e?1:0}e:{var tI=Nt.navigator;if(tI){var P_=tI.userAgent;if(P_){vi=P_;break e}}vi=""}function F_(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function Xw(n){const e={};for(const t in n)e[t]=n[t];return e}var nI="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function rI(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let u=0;u<nI.length;u++)t=nI[u],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function Lf(n){return Lf[" "](n),n}Lf[" "]=Gd;var Vf,n,eE=ki(vi,"Opera"),hc=ki(vi,"Trident")||ki(vi,"MSIE"),sI=ki(vi,"Edge"),ws=sI||hc,oI=ki(vi,"Gecko")&&!(ki(vi.toLowerCase(),"webkit")&&!ki(vi,"Edge"))&&!(ki(vi,"Trident")||ki(vi,"MSIE"))&&!ki(vi,"Edge"),_M=ki(vi.toLowerCase(),"webkit")&&!ki(vi,"Edge");function L_(){var n=Nt.document;return n?n.documentMode:void 0}e:{var nm="",V_=(n=vi,oI?/rv:([^\);]+)(\)|;)/.exec(n):sI?/Edge\/([\d\.]+)/.exec(n):hc?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):_M?/WebKit\/(\S+)/.exec(n):eE?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(V_&&(nm=V_?V_[1]:""),hc){var tE=L_();if(null!=tE&&tE>parseFloat(nm)){Vf=String(tE);break e}}Vf=nm}var nE={};var aI=Nt.document&&hc&&(L_()||parseInt(Vf,10))||void 0,uI=function(){if(!Nt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Nt.addEventListener("test",Gd,e),Nt.removeEventListener("test",Gd,e)}catch(t){}return n}();function wi(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function Bf(n,e){if(wi.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(oI){e:{try{Lf(e.nodeName);var i=!0;break e}catch(u){}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:lI[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Bf.Z.h.call(this)}}wi.prototype.h=function(){this.defaultPrevented=!0},ti(Bf,wi);var lI={2:"touch",3:"pen",4:"mouse"};Bf.prototype.h=function(){Bf.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Uf="closure_listenable_"+(1e6*Math.random()|0),im=0;function qd(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=i,this.key=++im,this.ca=this.fa=!1}function sm(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function Wu(n){this.src=n,this.g={},this.h=0}function j_(n,e){var t=e.type;if(t in n.g){var u,r=n.g[t],i=Xg(r,e);(u=0<=i)&&Array.prototype.splice.call(r,i,1),u&&(sm(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function $_(n,e,t,r){for(var i=0;i<n.length;++i){var u=n[i];if(!u.ca&&u.listener==e&&u.capture==!!t&&u.ia==r)return i}return-1}Wu.prototype.add=function(n,e,t,r,i){var u=n.toString();(n=this.g[u])||(n=this.g[u]=[],this.h++);var c=$_(n,e,r,i);return-1<c?(e=n[c],t||(e.fa=!1)):((e=new qd(e,this.src,u,!!r,i)).fa=t,n.push(e)),e};var jf="closure_lm_"+(1e6*Math.random()|0),eo={};function zd(n,e,t,r,i){if(r&&r.once)return $f(n,e,t,r,i);if(Array.isArray(e)){for(var u=0;u<e.length;u++)zd(n,e[u],t,r,i);return null}return t=Yu(t),n&&n[Uf]?n.N(e,t,Ff(r)?!!r.capture:!!r,i):ni(n,e,t,!1,r,i)}function ni(n,e,t,r,i,u){if(!e)throw Error("Invalid event type");var c=Ff(i)?!!i.capture:!!i,f=Ku(n);if(f||(n[jf]=f=new Wu(n)),(t=f.add(e,t,r,c,u)).proxy)return t;if(r=function fc(){var e=Wd;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)uI||(i=c),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(pc(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function $f(n,e,t,r,i){if(Array.isArray(e)){for(var u=0;u<e.length;u++)$f(n,e[u],t,r,i);return null}return t=Yu(t),n&&n[Uf]?n.O(e,t,Ff(r)?!!r.capture:!!r,i):ni(n,e,t,!0,r,i)}function Es(n,e,t,r,i){if(Array.isArray(e))for(var u=0;u<e.length;u++)Es(n,e[u],t,r,i);else r=Ff(r)?!!r.capture:!!r,t=Yu(t),n&&n[Uf]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=$_(u=n.g[e],t,r,i))&&(sm(u[t]),Array.prototype.splice.call(u,t,1),0==u.length&&(delete n.g[e],n.h--))):n&&(n=Ku(n))&&(e=n.g[e.toString()],n=-1,e&&(n=$_(e,t,r,i)),(t=-1<n?e[n]:null)&&Hf(t))}function Hf(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[Uf])j_(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(pc(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=Ku(e))?(j_(t,n),0==t.h&&(t.src=null,e[jf]=null)):sm(n)}}}function pc(n){return n in eo?eo[n]:eo[n]="on"+n}function Wd(n,e){if(n.ca)n=!0;else{e=new Bf(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&Hf(n),n=t.call(r,e)}return n}function Ku(n){return(n=n[jf])instanceof Wu?n:null}var Zu="__closure_events_fn_"+(1e9*Math.random()>>>0);function Yu(n){return"function"==typeof n?n:(n[Zu]||(n[Zu]=function(e){return n.handleEvent(e)}),n[Zu])}function Gn(){zu.call(this),this.i=new Wu(this),this.P=this,this.I=null}function Jn(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new wi(e,n);else if(e instanceof wi)e.target=e.target||n;else{var i=e;rI(e=new wi(r,n),i)}if(i=!0,t)for(var u=t.length-1;0<=u;u--){var c=e.g=t[u];i=Ha(c,r,!0,e)&&i}if(i=Ha(c=e.g=n,r,!0,e)&&i,i=Ha(c,r,!1,e)&&i,t)for(u=0;u<t.length;u++)i=Ha(c=e.g=t[u],r,!1,e)&&i}function Ha(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,u=0;u<e.length;++u){var c=e[u];if(c&&!c.ca&&c.capture==t){var f=c.listener,y=c.ia||c.src;c.fa&&j_(n.i,c),i=!1!==f.call(y,r)&&i}}return i&&!r.defaultPrevented}ti(Gn,zu),Gn.prototype[Uf]=!0,Gn.prototype.removeEventListener=function(n,e,t,r){Es(this,n,e,t,r)},Gn.prototype.M=function(){if(Gn.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)sm(t[r]);delete n.g[e],n.h--}}this.I=null},Gn.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Gn.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var Qu=Nt.JSON.stringify;function rE(){var n=uE;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var am,H_=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new sE,n=>n.reset());class sE{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function oE(n){Nt.setTimeout(()=>{throw n},0)}function om(n,e){am||function aE(){var n=Nt.Promise.resolve(void 0);am=function(){n.then(lE)}}(),um||(am(),um=!0),uE.add(n,e)}var um=!1,uE=new class iE{constructor(){this.h=this.g=null}add(e,t){const r=H_.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function lE(){for(var n;n=rE();){try{n.h.call(n.g)}catch(t){oE(t)}var e=H_;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}um=!1}function lm(n,e){Gn.call(this),this.h=n||1,this.g=e||Nt,this.j=Qn(this.kb,this),this.l=Date.now()}function G_(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function cm(n,e,t){if("function"==typeof n)t&&(n=Qn(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Qn(n.handleEvent,n)}return 2147483647<Number(e)?-1:Nt.setTimeout(n,e||0)}function cE(n){n.g=cm(()=>{n.g=null,n.i&&(n.i=!1,cE(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}ti(lm,Gn),(it=lm.prototype).da=!1,it.S=null,it.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Jn(this,"tick"),this.da&&(G_(this),this.start()))}},it.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},it.M=function(){lm.Z.M.call(this),G_(this),delete this.g};class cI extends zu{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:cE(this)}M(){super.M(),this.g&&(Nt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Kd(n){zu.call(this),this.h=n,this.g={}}ti(Kd,zu);var dE=[];function q_(n,e,t,r){Array.isArray(t)||(t&&(dE[0]=t.toString()),t=dE);for(var i=0;i<t.length;i++){var u=zd(e,t[i],r||n.handleEvent,!1,n.h||n);if(!u)break;n.g[u.key]=u}}function hE(n){F_(n.g,function(e,t){this.g.hasOwnProperty(t)&&Hf(e)},n),n.g={}}function dm(){this.g=!0}function Ju(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function hI(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var u=i[0];if("noop"!=u&&"stop"!=u&&"close"!=u)for(var c=1;c<i.length;c++)i[c]=""}}}return Qu(t)}catch(f){return e}}(n,t)+(r?" "+r:"")})}Kd.prototype.M=function(){Kd.Z.M.call(this),hE(this)},Kd.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},dm.prototype.Aa=function(){this.g=!1},dm.prototype.info=function(){};var Zd={},fI=null;function W_(){return fI=fI||new Gn}function fE(n){wi.call(this,Zd.Ma,n)}function Yd(n){const e=W_();Jn(e,new fE(e,n))}function pI(n,e){wi.call(this,Zd.STAT_EVENT,n),this.stat=e}function Pi(n){const e=W_();Jn(e,new pI(e,n))}function gc(n,e){wi.call(this,Zd.Na,n),this.size=e}function Gf(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Nt.setTimeout(function(){n()},e)}Zd.Ma="serverreachability",ti(fE,wi),Zd.STAT_EVENT="statevent",ti(pI,wi),Zd.Na="timingevent",ti(gc,wi);var qf={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},pE={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function hm(){}function gE(){}hm.prototype.h=null;var Y_,Qd={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function K_(){wi.call(this,"d")}function Z_(){wi.call(this,"c")}function fm(){}function Wf(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new Kd(this),this.P=gI,this.W=new lm(n=ws?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Q_}function Q_(){this.i=null,this.g="",this.h=!1}ti(K_,wi),ti(Z_,wi),ti(fm,hm),fm.prototype.g=function(){return new XMLHttpRequest},fm.prototype.i=function(){return{}},Y_=new fm;var gI=45e3,pm={},Kf={};function Zf(n,e,t){n.K=1,n.v=ep(xo(e)),n.s=t,n.U=!0,mI(n,null)}function mI(n,e){n.F=Date.now(),Ga(n),n.A=xo(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),ov(t.h,"t",r),n.C=0,t=n.l.H,n.h=new Q_,n.g=LE(n.l,t?e:null,!n.s),0<n.O&&(n.L=new cI(Qn(n.Ia,n,n.g),n.O)),q_(n.V,n.g,"readystatechange",n.gb),e=n.H?Xw(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),Yd(1),function vM(n,e,t,r,i,u){n.info(function(){if(n.g)if(u)for(var c="",f=u.split("&"),y=0;y<f.length;y++){var b=f[y].split("=");if(1<b.length){var A=b[0];b=b[1];var M=A.split("_");c=2<=M.length&&"type"==M[1]?c+(A+"=")+b+"&":c+(A+"=redacted&")}}else c=null;else c=u;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+c})}(n.j,n.u,n.A,n.m,n.X,n.s)}function gm(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function mE(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=wM(n,t),i==Kf){4==e&&(n.o=4,Pi(14),r=!1),Ju(n.j,n.m,null,"[Incomplete Response]");break}if(i==pm){n.o=4,Pi(15),Ju(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Ju(n.j,n.m,i,null),Xd(n,i)}gm(n)&&i!=Kf&&i!=pm&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Pi(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),Tm(e),e.L=!0,Pi(11))):(Ju(n.j,n.m,t,"[Invalid Chunked Response]"),yc(n),mc(n))}function wM(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?Kf:(t=Number(e.substring(t,r)),isNaN(t)?pm:(r+=1)+t>e.length?Kf:(e=e.substr(r,t),n.C=r+t,e))}function Ga(n){n.Y=Date.now()+n.P,J_(n,n.P)}function J_(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Gf(Qn(n.eb,n),e)}function Jd(n){n.B&&(Nt.clearTimeout(n.B),n.B=null)}function mc(n){0==n.l.G||n.I||wv(n.l,n)}function yc(n){Jd(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,G_(n.W),hE(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function Xd(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||_m(t.i,n)))if(t.I=n.N,!n.J&&_m(t.i,n)&&3==t.G){try{var r=t.Ca.g.parse(e)}catch(b){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0])e:if(t.u)t.ta=i[1],0<t.ta-t.U&&37500>i[2]&&t.N&&0==t.A&&!t.v&&(t.v=Gf(Qn(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;up(t),sp(t)}Im(t),Pi(18)}if(1>=Dr(t.i)&&t.ka){try{t.ka()}catch(b){}t.ka=void 0}}else vc(t,11)}else if((n.J||t.g==n)&&up(t),!tm(e))for(i=t.Ca.g.parse(e),e=0;e<i.length;e++){let b=i[e];if(t.U=b[0],b=b[1],2==t.G)if("c"==b[0]){t.J=b[1],t.la=b[2];const A=b[3];null!=A&&(t.ma=A,t.h.info("VER="+t.ma));const M=b[4];null!=M&&(t.za=M,t.h.info("SVER="+t.za));const F=b[5];null!=F&&"number"==typeof F&&0<F&&(t.K=r=1.5*F,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;const B=n.g;if(B){const G=B.g?B.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(G){var u=r.i;!u.g&&(ki(G,"spdy")||ki(G,"quic")||ki(G,"h2"))&&(u.j=u.l,u.g=new Set,u.h&&(av(u,u.h),u.h=null))}if(r.D){const te=B.g?B.g.getResponseHeader("X-HTTP-Session-Id"):null;te&&(r.sa=te,Bn(r.F,r.D,te))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var c=n;if((r=t).oa=FE(r,r.H?r.la:null,r.W),c.J){TE(r.i,c);var f=c,y=r.K;y&&f.setTimeout(y),f.B&&(Jd(f),Ga(f)),r.g=c}else _v(r);0<t.l.length&&ap(t)}else"stop"!=b[0]&&"close"!=b[0]||vc(t,7);else 3==t.G&&("stop"==b[0]||"close"==b[0]?"stop"==b[0]?vc(t,7):Dm(t):"noop"!=b[0]&&t.j&&t.j.wa(b),t.A=0)}Yd(4)}catch(b){}}function Yf(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(R_(n)||"string"==typeof n)O_(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(R_(n)||"string"==typeof n){t=[];for(var r=n.length,i=0;i<r;i++)t.push(i)}else for(i in t=[],r=0,n)t[r++]=i;r=function mm(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(R_(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length;for(var u=0;u<i;u++)e.call(void 0,r[u],t&&t[u],n)}}function Qf(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof Qf)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}function X_(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];qa(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var i={};for(t=e=0;e<n.g.length;)qa(i,r=n.g[e])||(n.g[t++]=r,i[r]=1),e++;n.g.length=t}}function qa(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(it=Wf.prototype).setTimeout=function(n){this.P=n},it.gb=function(n){n=n.target;const e=this.L;e&&3==Wa(n)?e.l():this.Ia(n)},it.Ia=function(n){try{if(n==this.g)e:{const A=Wa(this.g);var e=this.g.Da();const M=this.g.ba();if(!(3>A)&&(3!=A||ws||this.g&&(this.h.h||this.g.ga()||bm(this.g)))){this.I||4!=A||7==e||Yd(8==e||0>=M?3:2),Jd(this);var t=this.g.ba();this.N=t;t:if(gm(this)){var r=bm(this.g);n="";var i=r.length,u=4==Wa(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){yc(this),mc(this);var c="";break t}this.h.i=new Nt.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:u&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,c=this.h.g}else c=this.g.ga();if(this.i=200==t,function dI(n,e,t,r,i,u,c){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+u+" "+c})}(this.j,this.u,this.A,this.m,this.X,A,t),this.i){if(this.$&&!this.J){t:{if(this.g){var f,y=this.g;if((f=y.g?y.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!tm(f)){var b=f;break t}}b=null}if(!(t=b)){this.i=!1,this.o=3,Pi(12),yc(this),mc(this);break e}Ju(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Xd(this,t)}this.U?(mE(this,A,c),ws&&this.i&&3==A&&(q_(this.V,this.W,"tick",this.fb),this.W.start())):(Ju(this.j,this.m,c,null),Xd(this,c)),4==A&&yc(this),this.i&&!this.I&&(4==A?wv(this.l,this):(this.i=!1,Ga(this)))}else 400==t&&0<c.indexOf("Unknown SID")?(this.o=3,Pi(12)):(this.o=0,Pi(13)),yc(this),mc(this)}}}catch(A){}},it.fb=function(){if(this.g){var n=Wa(this.g),e=this.g.ga();this.C<e.length&&(Jd(this),mE(this,n,e),this.i&&4!=n&&Ga(this))}},it.cancel=function(){this.I=!0,yc(this)},it.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function z_(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Yd(3),Pi(17)),yc(this),this.o=2,mc(this)):J_(this,this.Y-n)},(it=Qf.prototype).R=function(){X_(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},it.T=function(){return X_(this),this.g.concat()},it.get=function(n,e){return qa(this.h,n)?this.h[n]:e},it.set=function(n,e){qa(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},it.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var i=t[r],u=this.get(i);n.call(e,u,i,this)}};var ym=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Xu(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof Xu){this.g=void 0!==e?e:n.g,Jf(this,n.j),this.s=n.s,Xf(this,n.i),eh(this,n.m),this.l=n.l,e=n.h;var t=new nh;t.i=e.i,e.g&&(t.g=new Qf(e.g),t.h=e.h),ev(this,t),this.o=n.o}else n&&(t=String(n).match(ym))?(this.g=!!e,Jf(this,t[1]||"",!0),this.s=th(t[2]||""),Xf(this,t[3]||"",!0),eh(this,t[4]),this.l=th(t[5]||"",!0),ev(this,t[6]||"",!0),this.o=th(t[7]||"")):(this.g=!!e,this.h=new nh(null,this.g))}function xo(n){return new Xu(n)}function Jf(n,e,t){n.j=t?th(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Xf(n,e,t){n.i=t?th(e,!0):e}function eh(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function ev(n,e,t){e instanceof nh?(n.h=e,function EM(n,e){e&&!n.j&&(za(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(iv(this,r),ov(this,i,t))},n)),n.j=e}(n.h,n.g)):(t||(e=tp(e,EE)),n.h=new nh(e,n.g))}function Bn(n,e,t){n.h.set(e,t)}function ep(n){return Bn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function th(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function tp(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,vE),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function vE(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Xu.prototype.toString=function(){var n=[],e=this.j;e&&n.push(tp(e,nv,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(tp(e,nv,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(tp(t,"/"==t.charAt(0)?rv:wE,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",tp(t,bE)),n.join("")};var nv=/[#\/\?@]/g,wE=/[#\?:]/g,rv=/[#\?]/g,EE=/[#\?@]/g,bE=/#/g;function nh(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function za(n){n.g||(n.g=new Qf,n.h=0,n.i&&function yE(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var u=n[t].substring(0,r);i=n[t].substring(r+1)}else u=n[t];e(u,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function iv(n,e){za(n),e=_c(n,e),qa(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,qa((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&X_(n)))}function sv(n,e){return za(n),e=_c(n,e),qa(n.g.h,e)}function ov(n,e,t){iv(n,e),0<t.length&&(n.i=null,n.g.set(_c(n,e),em(t)),n.h+=t.length)}function _c(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function DE(n){this.l=n||CE,n=Nt.PerformanceNavigationTiming?0<(n=Nt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Nt.g&&Nt.g.Ea&&Nt.g.Ea()&&Nt.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(it=nh.prototype).add=function(n,e){za(this),this.i=null,n=_c(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},it.forEach=function(n,e){za(this),this.g.forEach(function(t,r){O_(t,function(i){n.call(e,i,r,this)},this)},this)},it.T=function(){za(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var i=n[r],u=0;u<i.length;u++)t.push(e[r]);return t},it.R=function(n){za(this);var e=[];if("string"==typeof n)sv(this,n)&&(e=N_(e,this.g.get(_c(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=N_(e,n[t])}return e},it.set=function(n,e){return za(this),this.i=null,sv(this,n=_c(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},it.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},it.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],i=encodeURIComponent(String(r));r=this.R(r);for(var u=0;u<r.length;u++){var c=i;""!==r[u]&&(c+="="+encodeURIComponent(String(r[u]))),n.push(c)}}return this.i=n.join("&")};var CE=10;function IE(n){return!!n.h||!!n.g&&n.g.size>=n.j}function Dr(n){return n.h?1:n.g?n.g.size:0}function _m(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function av(n,e){n.g?n.g.add(e):n.h=e}function TE(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function uv(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return em(n.i)}function lv(){}function SE(){this.g=new lv}function AE(n,e,t){const r=t||"";try{Yf(n,function(i,u){let c=i;Ff(i)&&(c=Qu(i)),e.push(r+u+"="+encodeURIComponent(c))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function vm(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(u){}}function np(n){this.l=n.$b||null,this.j=n.ib||!1}function rp(n,e){Gn.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=cv,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}DE.prototype.cancel=function(){if(this.i=uv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},lv.prototype.stringify=function(n){return Nt.JSON.stringify(n,void 0)},lv.prototype.parse=function(n){return Nt.JSON.parse(n,void 0)},ti(np,hm),np.prototype.g=function(){return new rp(this.l,this.j)},np.prototype.i=function(n){return function(){return n}}({}),ti(rp,Gn);var cv=0;function dv(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function wm(n){n.readyState=4,n.l=null,n.j=null,n.A=null,ih(n)}function ih(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(it=rp.prototype).open=function(n,e){if(this.readyState!=cv)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,ih(this)},it.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Nt).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},it.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,wm(this)),this.readyState=cv},it.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,ih(this)),this.g&&(this.readyState=3,ih(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Nt.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;dv(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},it.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?wm(this):ih(this),3==this.readyState&&dv(this)}},it.Ua=function(n){this.g&&(this.response=this.responseText=n,wm(this))},it.Ta=function(n){this.g&&(this.response=n,wm(this))},it.ha=function(){this.g&&wm(this)},it.setRequestHeader=function(n,e){this.v.append(n,e)},it.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},it.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(rp.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var hv=Nt.JSON.parse;function vn(n){Gn.call(this),this.headers=new Qf,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=ME,this.K=this.L=!1}ti(vn,Gn);var ME="",xE=/^https?$/i,sa=["POST","PUT"];function Oo(n){return"content-type"==n.toLowerCase()}function fv(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,pv(n),Em(n)}function pv(n){n.D||(n.D=!0,Jn(n,"complete"),Jn(n,"error"))}function RE(n){if(n.h&&void 0!==Qg&&(!n.C[1]||4!=Wa(n)||2!=n.ba()))if(n.v&&4==Wa(n))cm(n.Fa,0,n);else if(Jn(n,"readystatechange"),4==Wa(n)){n.h=!1;try{const f=n.ba();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===f){var i=String(n.H).match(ym)[1]||null;if(!i&&Nt.self&&Nt.self.location){var u=Nt.self.location.protocol;i=u.substr(0,u.length-1)}r=!xE.test(i?i.toLowerCase():"")}t=r}if(t)Jn(n,"complete"),Jn(n,"success");else{n.m=6;try{var c=2<Wa(n)?n.g.statusText:""}catch(y){c=""}n.j=c+" ["+n.ba()+"]",pv(n)}}finally{Em(n)}}}function Em(n,e){if(n.g){OE(n);const t=n.g,r=n.C[0]?Gd:null;n.g=null,n.C=null,e||Jn(n,"ready");try{t.onreadystatechange=r}catch(i){}}}function OE(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Nt.clearTimeout(n.A),n.A=null)}function Wa(n){return n.g?n.g.readyState:0}function bm(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case ME:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function gv(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=function ip(n){let e="";return F_(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Bn(n,e,t))}function sh(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function NE(n){this.za=0,this.l=[],this.h=new dm,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=sh("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=sh("baseRetryDelayMs",5e3,n),this.$a=sh("retryDelaySeedMs",1e4,n),this.Ya=sh("forwardChannelMaxRetries",2,n),this.ra=sh("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new DE(n&&n.concurrentRequestLimit),this.Ca=new SE,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function Dm(n){if(op(n),3==n.G){var e=n.V++,t=xo(n.F);Bn(t,"SID",n.J),Bn(t,"RID",e),Bn(t,"TYPE","terminate"),el(n,t),(e=new Wf(n,n.h,e,void 0)).K=2,e.v=ep(xo(t)),t=!1,Nt.navigator&&Nt.navigator.sendBeacon&&(t=Nt.navigator.sendBeacon(e.v.toString(),"")),!t&&Nt.Image&&((new Image).src=e.v,t=!0),t||(e.g=LE(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Ga(e)}PE(n)}function sp(n){n.g&&(Tm(n),n.g.cancel(),n.g=null)}function op(n){sp(n),n.u&&(Nt.clearTimeout(n.u),n.u=null),up(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Nt.clearTimeout(n.m),n.m=null)}function mv(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&ap(n)}function ap(n){IE(n.i)||n.m||(n.m=!0,om(n.Ha,n),n.C=0)}function Cm(n,e){var t;t=e?e.m:n.V++;const r=xo(n.F);Bn(r,"SID",n.J),Bn(r,"RID",t),Bn(r,"AID",n.U),el(n,r),n.o&&n.s&&gv(r,n.o,n.s),t=new Wf(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=yv(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),av(n.i,t),Zf(t,r,e)}function el(n,e){n.j&&Yf({},function(t,r){Bn(e,r,t)})}function yv(n,e,t){t=Math.min(n.l.length,t);var r=n.j?Qn(n.j.Oa,n.j,n):null;e:{var i=n.l;let u=-1;for(;;){const c=["count="+t];-1==u?0<t?(u=i[0].h,c.push("ofs="+u)):u=0:c.push("ofs="+u);let f=!0;for(let y=0;y<t;y++){let b=i[y].h;const A=i[y].g;if(b-=u,0>b)u=Math.max(0,i[y].h-100),f=!1;else try{AE(A,c,"req"+b+"_")}catch(M){r&&r(A)}}if(f){r=c.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,r}function _v(n){n.g||n.u||(n.Y=1,om(n.Ga,n),n.A=0)}function Im(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=Gf(Qn(n.Ga,n),Ev(n,n.A)),n.A++,0))}function Tm(n){null!=n.B&&(Nt.clearTimeout(n.B),n.B=null)}function vv(n){n.g=new Wf(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=xo(n.oa);Bn(e,"RID","rpc"),Bn(e,"SID",n.J),Bn(e,"CI",n.N?"0":"1"),Bn(e,"AID",n.U),el(n,e),Bn(e,"TYPE","xmlhttp"),n.o&&n.s&&gv(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=ep(xo(e)),t.s=null,t.U=!0,mI(t,n)}function up(n){null!=n.v&&(Nt.clearTimeout(n.v),n.v=null)}function wv(n,e){var t=null;if(n.g==e){up(n),Tm(n),n.g=null;var r=2}else{if(!_m(n.i,e))return;t=e.D,TE(n.i,e),r=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;Jn(r=W_(),new gc(r,t,e,i)),ap(n)}else _v(n);else if(3==(i=e.o)||0==i&&0<n.I||!(1==r&&function kE(n,e){return!(Dr(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=Gf(Qn(n.Ha,n,e),Ev(n,n.C)),n.C++,0)))}(n,e)||2==r&&Im(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:vc(n,5);break;case 4:vc(n,10);break;case 3:vc(n,6);break;default:vc(n,2)}}function Ev(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function vc(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var r=Qn(n.jb,n);t||(t=new Xu("//www.google.com/images/cleardot.gif"),Nt.location&&"http"==Nt.location.protocol||Jf(t,"https"),ep(t)),function rh(n,e){const t=new dm;if(Nt.Image){const r=new Image;r.onload=Jg(vm,t,r,"TestLoadImage: loaded",!0,e),r.onerror=Jg(vm,t,r,"TestLoadImage: error",!1,e),r.onabort=Jg(vm,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=Jg(vm,t,r,"TestLoadImage: timeout",!1,e),Nt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Pi(2);n.G=0,n.j&&n.j.va(e),PE(n),op(n)}function PE(n){n.G=0,n.I=-1,n.j&&((0!=uv(n.i).length||0!=n.l.length)&&(n.i.i.length=0,em(n.l),n.l.length=0),n.j.ua())}function FE(n,e,t){let r=function _E(n){return n instanceof Xu?xo(n):new Xu(n,void 0)}(t);if(""!=r.i)e&&Xf(r,e+"."+r.i),eh(r,r.m);else{const i=Nt.location;r=function tv(n,e,t,r){var i=new Xu(null,void 0);return n&&Jf(i,n),e&&Xf(i,e),t&&eh(i,t),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,t)}return n.aa&&F_(n.aa,function(i,u){Bn(r,u,i)}),t=n.sa,(e=n.D)&&t&&Bn(r,e,t),Bn(r,"VER",n.ma),el(n,r),r}function LE(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new vn(t&&n.Ba&&!n.qa?new np({ib:!0}):n.qa)).L=n.H,e}function VE(){}function Sm(){if(hc&&!(10<=Number(aI)))throw Error("Environmental error: no available transport.")}function bs(n,e){Gn.call(this),this.g=new NE(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!tm(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!tm(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new oh(this)}function BE(n){K_.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function UE(){Z_.call(this),this.status=1}function oh(n){this.g=n}(it=vn.prototype).ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Y_.g(),this.C=function zf(n){return n.h||(n.h=n.i())}(this.u?this.u:Y_),this.g.onreadystatechange=Qn(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(u){return void fv(this,u)}n=t||"";const i=new Qf(this.headers);r&&Yf(r,function(u,c){i.set(c,u)}),r=function Qw(n){e:{var e=Oo;const t=n.length,r="string"==typeof n?n.split(""):n;for(let i=0;i<t;i++)if(i in r&&e.call(void 0,r[i],i,n)){e=i;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(i.T()),t=Nt.FormData&&n instanceof Nt.FormData,!(0<=Xg(sa,e))||r||t||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(u,c){this.g.setRequestHeader(c,u)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{OE(this),0<this.B&&((this.K=function Ro(n){return hc&&function B_(){return function iI(n){var e=nE;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=Jw(String(Vf)).split("."),t=Jw("9").split("."),r=Math.max(e.length,t.length);for(let c=0;0==n&&c<r;c++){var i=e[c]||"",u=t[c]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],0==i[0].length&&0==u[0].length)break;n=k_(0==i[1].length?0:parseInt(i[1],10),0==u[1].length?0:parseInt(u[1],10))||k_(0==i[2].length,0==u[2].length)||k_(i[2],u[2]),i=i[3],u=u[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Qn(this.pa,this)):this.A=cm(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(u){fv(this,u)}},it.pa=function(){void 0!==Qg&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Jn(this,"timeout"),this.abort(8))},it.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Jn(this,"complete"),Jn(this,"abort"),Em(this))},it.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Em(this,!0)),vn.Z.M.call(this)},it.Fa=function(){this.s||(this.F||this.v||this.l?RE(this):this.cb())},it.cb=function(){RE(this)},it.ba=function(){try{return 2<Wa(this)?this.g.status:-1}catch(n){return-1}},it.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},it.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),hv(e)}},it.Da=function(){return this.m},it.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(it=NE.prototype).ma=8,it.G=1,it.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},it.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const i=new Wf(this,this.h,n,void 0);let u=this.s;if(this.P&&(u?(u=Xw(u),rI(u,this.P)):u=this.P),null===this.o&&(i.H=u),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var r=this.l[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=yv(this,i,e),Bn(t=xo(this.F),"RID",n),Bn(t,"CVER",22),this.D&&Bn(t,"X-HTTP-Session-Id",this.D),el(this,t),this.o&&u&&gv(t,this.o,u),av(this.i,i),this.Ra&&Bn(t,"TYPE","init"),this.ja?(Bn(t,"$req",e),Bn(t,"SID","null"),i.$=!0,Zf(i,t,null)):Zf(i,t,e),this.G=2}}else 3==this.G&&(n?Cm(this,n):0==this.l.length||IE(this.i)||Cm(this))},it.Ga=function(){if(this.u=null,vv(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=Gf(Qn(this.bb,this),n)}},it.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Pi(10),sp(this),vv(this))},it.ab=function(){null!=this.v&&(this.v=null,sp(this),Im(this),Pi(19))},it.jb=function(n){n?(this.h.info("Successfully pinged google.com"),Pi(2)):(this.h.info("Failed to ping google.com"),Pi(1))},(it=VE.prototype).xa=function(){},it.wa=function(){},it.va=function(){},it.ua=function(){},it.Oa=function(){},Sm.prototype.g=function(n,e){return new bs(n,e)},ti(bs,Gn),bs.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),om(Qn(n.hb,n,e))),Pi(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=FE(n,null,n.W),ap(n)},bs.prototype.close=function(){Dm(this.g)},bs.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,mv(this.g,e)}else this.v?((e={}).__data__=Qu(n),mv(this.g,e)):mv(this.g,n)},bs.prototype.M=function(){this.g.j=null,delete this.j,Dm(this.g),delete this.g,bs.Z.M.call(this)},ti(BE,K_),ti(UE,Z_),ti(oh,VE),oh.prototype.xa=function(){Jn(this.g,"a")},oh.prototype.wa=function(n){Jn(this.g,new BE(n))},oh.prototype.va=function(n){Jn(this.g,new UE(n))},oh.prototype.ua=function(){Jn(this.g,"b")},Sm.prototype.createWebChannel=Sm.prototype.g,bs.prototype.send=bs.prototype.u,bs.prototype.open=bs.prototype.m,bs.prototype.close=bs.prototype.close,qf.NO_ERROR=0,qf.TIMEOUT=8,qf.HTTP_ERROR=6,pE.COMPLETE="complete",gE.EventType=Qd,Qd.OPEN="a",Qd.CLOSE="b",Qd.ERROR="c",Qd.MESSAGE="d",Gn.prototype.listen=Gn.prototype.N,vn.prototype.listenOnce=vn.prototype.O,vn.prototype.getLastError=vn.prototype.La,vn.prototype.getLastErrorCode=vn.prototype.Da,vn.prototype.getStatus=vn.prototype.ba,vn.prototype.getResponseJson=vn.prototype.Qa,vn.prototype.getResponseText=vn.prototype.ga,vn.prototype.send=vn.prototype.ea;var _I=ia.createWebChannelTransport=function(){return new Sm},vI=ia.getStatEventTarget=function(){return W_()},bv=ia.ErrorCode=qf,wI=ia.EventType=pE,EI=ia.Event=Zd,jE=ia.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},bI=ia.FetchXmlHttpFactory=np,Am=ia.WebChannel=gE,$E=ia.XhrIo=vn;const Dv="@firebase/firestore";class qr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}qr.UNAUTHENTICATED=new qr(null),qr.GOOGLE_CREDENTIALS=new qr("google-credentials-uid"),qr.FIRST_PARTY=new qr("first-party-uid"),qr.MOCK_USER=new qr("mock-user");let wc="9.6.11";const Ka=new Xs.Yd("@firebase/firestore");function Mm(){return Ka.logLevel}function ke(n,...e){if(Ka.logLevel<=Xs.in.DEBUG){const t=e.map(xm);Ka.debug(`Firestore (${wc}): ${n}`,...t)}}function ur(n,...e){if(Ka.logLevel<=Xs.in.ERROR){const t=e.map(xm);Ka.error(`Firestore (${wc}): ${n}`,...t)}}function ah(n,...e){if(Ka.logLevel<=Xs.in.WARN){const t=e.map(xm);Ka.warn(`Firestore (${wc}): ${n}`,...t)}}function xm(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function et(n="Unexpected state"){const e=`FIRESTORE (${wc}) INTERNAL ASSERTION FAILED: `+n;throw ur(e),new Error(e)}function xt(n,e){n||et()}function Ge(n,e){return n}const ce={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Me extends Yt.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ri{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Cv{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class GE{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(qr.UNAUTHENTICATED))}shutdown(){}}class bM{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class bt{constructor(e){this.t=e,this.currentUser=qr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const u=b=>this.i!==i?(i=this.i,t(b)):Promise.resolve();let c=new ri;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new ri,e.enqueueRetryable(()=>u(this.currentUser))};const f=()=>{const b=c;e.enqueueRetryable((0,_e.Z)(function*(){yield b.promise,yield u(r.currentUser)}))},y=b=>{ke("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=b,this.auth.addAuthTokenListener(this.o),f()};this.t.onInit(b=>y(b)),setTimeout(()=>{if(!this.auth){const b=this.t.getImmediate({optional:!0});b?y(b):(ke("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new ri)}},0),f()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(ke("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(xt("string"==typeof r.accessToken),new Cv(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return xt(null===e||"string"==typeof e),new qr(e)}}class CI{constructor(e,t,r){this.type="FirstParty",this.user=qr.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const i=e.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class II{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new CI(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(qr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class qE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Rm{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const r=u=>{null!=u.error&&ke("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const c=u.token!==this.p;return this.p=u.token,ke("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>r(u))};const i=u=>{ke("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.appCheck.addTokenListener(this.o)};this.g.onInit(u=>i(u)),setTimeout(()=>{if(!this.appCheck){const u=this.g.getImmediate({optional:!0});u?i(u):ke("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(xt("string"==typeof t.token),this.p=t.token,new qE(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class Ei{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.I(r),this.T=r=>t.writeSequenceNumber(r))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function Om(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}Ei.A=-1;class qn{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=Om(40);for(let u=0;u<i.length;++u)r.length<20&&i[u]<t&&(r+=e.charAt(i[u]%e.length))}return r}}function $t(n,e){return n<e?-1:n>e?1:0}function Ec(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function zE(n){return n+"\0"}class lr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Me(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Me(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Me(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Me(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return lr.fromMillis(Date.now())}static fromDate(e){return lr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new lr(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?$t(this.nanoseconds,e.nanoseconds):$t(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class It{constructor(e){this.timestamp=e}static fromTimestamp(e){return new It(e)}static min(){return new It(new lr(0,0))}static max(){return new It(new lr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function Iv(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function tl(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Tv(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class lp{constructor(e,t,r){void 0===t?t=0:t>e.length&&et(),void 0===r?r=e.length-t:r>e.length-t&&et(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===lp.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof lp?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const u=e.get(i),c=t.get(i);if(u<c)return-1;if(u>c)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class tn extends lp{construct(e,t,r){return new tn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Me(ce.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new tn(t)}static emptyPath(){return new tn([])}}const TI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xn extends lp{construct(e,t,r){return new Xn(e,t,r)}static isValidIdentifier(e){return TI.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Xn(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const u=()=>{if(0===r.length)throw new Me(ce.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let c=!1;for(;i<e.length;){const f=e[i];if("\\"===f){if(i+1===e.length)throw new Me(ce.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[i+1];if("\\"!==y&&"."!==y&&"`"!==y)throw new Me(ce.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=y,i+=2}else"`"===f?(c=!c,i++):"."!==f||c?(r+=f,i++):(u(),i++)}if(u(),c)throw new Me(ce.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Xn(t)}static emptyPath(){return new Xn([])}}class uh{constructor(e){this.fields=e,e.sort(Xn.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ec(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class Lr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Lr(t)}static fromUint8Array(e){const t=function(r){let i="";for(let u=0;u<r.length;++u)i+=String.fromCharCode(r[u]);return i}(e);return new Lr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return $t(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Lr.EMPTY_BYTE_STRING=new Lr("");const Nm=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Za(n){if(xt(!!n),"string"==typeof n){let e=0;const t=Nm.exec(n);if(xt(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:zn(n.seconds),nanos:zn(n.nanos)}}function zn(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function nl(n){return"string"==typeof n?Lr.fromBase64String(n):Lr.fromUint8Array(n)}function Sv(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function lh(n){const e=n.mapValue.fields.__previous_value__;return Sv(e)?lh(e):e}function Ya(n){const e=Za(n.mapValue.fields.__local_write_time__.timestampValue);return new lr(e.seconds,e.nanos)}class AI{constructor(e,t,r,i,u,c,f,y){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=u,this.forceLongPolling=c,this.autoDetectLongPolling=f,this.useFetchStreams=y}}class Qa{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Qa("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Qa&&e.projectId===this.projectId&&e.database===this.database}}function bc(n){return null==n}function ch(n){return 0===n&&1/n==-1/0}function Av(n){return"number"==typeof n&&Number.isInteger(n)&&!ch(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class $e{constructor(e){this.path=e}static fromPath(e){return new $e(tn.fromString(e))}static fromName(e){return new $e(tn.fromString(e).popFirst(5))}static empty(){return new $e(tn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===tn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return tn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new $e(new tn(e.slice()))}}const WE={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Mv={nullValue:"NULL_VALUE"};function Dc(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Sv(n)?4:KE(n)?9:10:et()}function oa(n,e){if(n===e)return!0;const t=Dc(n);if(t!==Dc(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Ya(n).isEqual(Ya(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const u=Za(r.timestampValue),c=Za(i.timestampValue);return u.seconds===c.seconds&&u.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,nl(n.bytesValue).isEqual(nl(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return zn(r.geoPointValue.latitude)===zn(i.geoPointValue.latitude)&&zn(r.geoPointValue.longitude)===zn(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return zn(r.integerValue)===zn(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const u=zn(r.doubleValue),c=zn(i.doubleValue);return u===c?ch(u)===ch(c):isNaN(u)&&isNaN(c)}return!1}(n,e);case 9:return Ec(n.arrayValue.values||[],e.arrayValue.values||[],oa);case 10:return function(r,i){const u=r.mapValue.fields||{},c=i.mapValue.fields||{};if(Iv(u)!==Iv(c))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(void 0===c[f]||!oa(u[f],c[f])))return!1;return!0}(n,e);default:return et()}var i}function km(n,e){return void 0!==(n.values||[]).find(t=>oa(t,e))}function Cc(n,e){if(n===e)return 0;const t=Dc(n),r=Dc(e);if(t!==r)return $t(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return $t(n.booleanValue,e.booleanValue);case 2:return function(i,u){const c=zn(i.integerValue||i.doubleValue),f=zn(u.integerValue||u.doubleValue);return c<f?-1:c>f?1:c===f?0:isNaN(c)?isNaN(f)?0:-1:1}(n,e);case 3:return MI(n.timestampValue,e.timestampValue);case 4:return MI(Ya(n),Ya(e));case 5:return $t(n.stringValue,e.stringValue);case 6:return function(i,u){const c=nl(i),f=nl(u);return c.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(i,u){const c=i.split("/"),f=u.split("/");for(let y=0;y<c.length&&y<f.length;y++){const b=$t(c[y],f[y]);if(0!==b)return b}return $t(c.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,u){const c=$t(zn(i.latitude),zn(u.latitude));return 0!==c?c:$t(zn(i.longitude),zn(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,u){const c=i.values||[],f=u.values||[];for(let y=0;y<c.length&&y<f.length;++y){const b=Cc(c[y],f[y]);if(b)return b}return $t(c.length,f.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,u){const c=i.fields||{},f=Object.keys(c),y=u.fields||{},b=Object.keys(y);f.sort(),b.sort();for(let A=0;A<f.length&&A<b.length;++A){const M=$t(f[A],b[A]);if(0!==M)return M;const F=Cc(c[f[A]],y[b[A]]);if(0!==F)return F}return $t(f.length,b.length)}(n.mapValue,e.mapValue);default:throw et()}}function MI(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return $t(n,e);const t=Za(n),r=Za(e),i=$t(t.seconds,r.seconds);return 0!==i?i:$t(t.nanos,r.nanos)}function cp(n){return Pm(n)}function Pm(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=Za(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?nl(n.bytesValue).toBase64():"referenceValue"in n?$e.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",u=!0;for(const c of r.values||[])u?u=!1:i+=",",i+=Pm(c);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let u="{",c=!0;for(const f of i)c?c=!1:u+=",",u+=`${f}:${Pm(r.fields[f])}`;return u+"}"}(n.mapValue):et();var e}function aa(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function xv(n){return!!n&&"integerValue"in n}function dp(n){return!!n&&"arrayValue"in n}function Rv(n){return!!n&&"nullValue"in n}function dh(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Fm(n){return!!n&&"mapValue"in n}function hp(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return tl(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=hp(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=hp(n.arrayValue.values[t]);return e}return Object.assign({},n)}function KE(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function xI(n){return"nullValue"in n?Mv:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?aa(Qa.empty(),$e.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:et()}function RI(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?aa(Qa.empty(),$e.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?WE:et()}function Ov(n,e){return void 0===n?e:void 0===e||Cc(n,e)>0?n:e}function ZE(n,e){return void 0===n?e:void 0===e||Cc(n,e)<0?n:e}class bi{constructor(e){this.value=e}static empty(){return new bi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Fm(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=hp(t)}setAll(e){let t=Xn.emptyPath(),r={},i=[];e.forEach((c,f)=>{if(!t.isImmediateParentOf(f)){const y=this.getFieldsMap(t);this.applyChanges(y,r,i),r={},i=[],t=f.popLast()}c?r[f.lastSegment()]=hp(c):i.push(f.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,r,i)}delete(e){const t=this.field(e.popLast());Fm(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return oa(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Fm(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){tl(t,(i,u)=>e[i]=u);for(const i of r)delete e[i]}clone(){return new bi(hp(this.value))}}function Ic(n){const e=[];return tl(n.fields,(t,r)=>{const i=new Xn([t]);if(Fm(r)){const u=Ic(r.mapValue).fields;if(0===u.length)e.push(i);else for(const c of u)e.push(i.child(c))}else e.push(i)}),new uh(e)}class Rn{constructor(e,t,r,i,u,c){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.data=u,this.documentState=c}static newInvalidDocument(e){return new Rn(e,0,It.min(),It.min(),bi.empty(),0)}static newFoundDocument(e,t,r){return new Rn(e,1,t,It.min(),r,0)}static newNoDocument(e,t){return new Rn(e,2,t,It.min(),bi.empty(),0)}static newUnknownDocument(e,t){return new Rn(e,3,t,It.min(),bi.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=bi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=bi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Rn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Rn(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class fp{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function Nv(n){return n.fields.find(e=>2===e.kind)}function rl(n){return n.fields.filter(e=>2!==e.kind)}fp.UNKNOWN_ID=-1;class Lm{constructor(e,t){this.fieldPath=e,this.kind=t}}class hh{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new hh(0,Ja.min())}}function YE(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=It.fromTimestamp(1e9===r?new lr(t+1,0):new lr(t,r));return new Ja(i,$e.empty(),e)}function kv(n){return new Ja(n.readTime,n.key,-1)}class Ja{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Ja(It.min(),$e.empty(),-1)}static max(){return new Ja(It.max(),$e.empty(),-1)}}function QE(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=$e.comparator(n.documentKey,e.documentKey),0!==t?t:$t(n.largestBatchId,e.largestBatchId))}class JE{constructor(e,t=null,r=[],i=[],u=null,c=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=u,this.startAt=c,this.endAt=f,this.P=null}}function XE(n,e=null,t=[],r=[],i=null,u=null,c=null){return new JE(n,e,t,r,i,u,c)}function Tc(n){const e=Ge(n);if(null===e.P){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+cp(i.value);var i}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),bc(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>cp(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>cp(r)).join(",")),e.P=t}return e.P}function Sc(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!VI(n.orderBy[i],e.orderBy[i]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if((t=n.filters[i]).op!==(r=e.filters[i]).op||!t.field.isEqual(r.field)||!oa(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!ob(n.startAt,e.startAt)&&ob(n.endAt,e.endAt)}function Vm(n){return $e.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function pp(n,e){return n.filters.filter(t=>t instanceof ii&&t.field.isEqual(e))}function eb(n,e,t){let r,i=!0;for(const u of pp(n,e)){let c,f=!0;switch(u.op){case"<":case"<=":c=xI(u.value);break;case"==":case"in":case">=":c=u.value;break;case">":c=u.value,f=!1;break;case"!=":case"not-in":c=Mv}Ov(r,c)===c&&(r=c,i=f)}if(null!==t)for(let u=0;u<n.orderBy.length;++u)if(n.orderBy[u].field.isEqual(e)){const c=t.position[u];Ov(r,c)===c&&(r=c,i=t.inclusive);break}return{value:r,inclusive:i}}function tb(n,e,t){let r,i=!0;for(const u of pp(n,e)){let c,f=!0;switch(u.op){case">=":case">":c=RI(u.value),f=!1;break;case"==":case"in":case"<=":c=u.value;break;case"<":c=u.value,f=!1;break;case"!=":case"not-in":c=WE}ZE(r,c)===c&&(r=c,i=f)}if(null!==t)for(let u=0;u<n.orderBy.length;++u)if(n.orderBy[u].field.isEqual(e)){const c=t.position[u];ZE(r,c)===c&&(r=c,i=t.inclusive);break}return{value:r,inclusive:i}}class ii extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,r):new NI(e,t,r):"array-contains"===t?new FI(e,r):"in"===t?new rb(e,r):"not-in"===t?new ib(e,r):"array-contains-any"===t?new LI(e,r):new ii(e,t,r)}static V(e,t,r){return"in"===t?new kI(e,r):new PI(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(Cc(t,this.value)):null!==t&&Dc(this.value)===Dc(t)&&this.v(Cc(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return et()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class NI extends ii{constructor(e,t,r){super(e,t,r),this.key=$e.fromName(r.referenceValue)}matches(e){const t=$e.comparator(e.key,this.key);return this.v(t)}}class kI extends ii{constructor(e,t){super(e,"in",t),this.keys=nb(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class PI extends ii{constructor(e,t){super(e,"not-in",t),this.keys=nb(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function nb(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>$e.fromName(r.referenceValue))}class FI extends ii{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return dp(t)&&km(t.arrayValue,this.value)}}class rb extends ii{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&km(this.value.arrayValue,t)}}class ib extends ii{constructor(e,t){super(e,"not-in",t)}matches(e){if(km(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!km(this.value.arrayValue,t)}}class LI extends ii{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!dp(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>km(this.value.arrayValue,r))}}class il{constructor(e,t){this.position=e,this.inclusive=t}}class Ac{constructor(e,t="asc"){this.field=e,this.dir=t}}function VI(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function sb(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const u=e[i],c=n.position[i];if(r=u.field.isKeyField()?$e.comparator($e.fromName(c.referenceValue),t.key):Cc(c,t.data.field(u.field)),"desc"===u.dir&&(r*=-1),0!==r)break}return r}function ob(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!oa(n.position[t],e.position[t]))return!1;return!0}class No{constructor(e,t=null,r=[],i=[],u=null,c="F",f=null,y=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=u,this.limitType=c,this.startAt=f,this.endAt=y,this.D=null,this.C=null}}function Bm(n,e,t,r,i,u,c,f){return new No(n,e,t,r,i,u,c,f)}function Mc(n){return new No(n)}function fh(n){return!bc(n.limit)&&"F"===n.limitType}function Um(n){return!bc(n.limit)&&"L"===n.limitType}function Pv(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function gp(n){for(const e of n.filters)if(e.S())return e.field;return null}function Fv(n){return null!==n.collectionGroup}function xc(n){const e=Ge(n);if(null===e.D){e.D=[];const t=gp(e),r=Pv(e);if(null!==t&&null===r)t.isKeyField()||e.D.push(new Ac(t)),e.D.push(new Ac(Xn.keyField(),"asc"));else{let i=!1;for(const u of e.explicitOrderBy)e.D.push(u),u.field.isKeyField()&&(i=!0);if(!i){const u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new Ac(Xn.keyField(),u))}}}return e.D}function to(n){const e=Ge(n);if(!e.C)if("F"===e.limitType)e.C=XE(e.path,e.collectionGroup,xc(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const u of xc(e))t.push(new Ac(u.field,"desc"===u.dir?"asc":"desc"));const r=e.endAt?new il(e.endAt.position,!e.endAt.inclusive):null,i=e.startAt?new il(e.startAt.position,!e.startAt.inclusive):null;e.C=XE(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e.C}function Lv(n,e,t){return new No(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function mp(n,e){return Sc(to(n),to(e))&&n.limitType===e.limitType}function Vv(n){return`${Tc(to(n))}|lt:${n.limitType}`}function ab(n){return`Query(target=${function OI(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${cp(r.value)}`;var r}).join(", ")}]`),bc(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>cp(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>cp(t)).join(",")),`Target(${e})`}(to(n))}; limitType=${n.limitType})`}function Bv(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):$e.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of t.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,u,c){const f=sb(i,u,c);return i.inclusive?f<=0:f<0}(t.startAt,xc(t),r)||t.endAt&&!function(i,u,c){const f=sb(i,u,c);return i.inclusive?f>=0:f>0}(t.endAt,xc(t),r)));var t,r}function yp(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function ub(n){return(e,t)=>{let r=!1;for(const i of xc(n)){const u=ph(i,e,t);if(0!==u)return u;r=r||i.field.isKeyField()}return 0}}function ph(n,e,t){const r=n.field.isKeyField()?$e.comparator(e.key,t.key):function(i,u,c){const f=u.data.field(i),y=c.data.field(i);return null!==f&&null!==y?Cc(f,y):et()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return et()}}function gh(n,e){if(n.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ch(e)?"-0":e}}function lb(n){return{integerValue:""+n}}function BI(n,e){return Av(e)?lb(e):gh(n,e)}class _p{constructor(){this._=void 0}}function UI(n,e,t){return n instanceof mh?function(r,i){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(u.fields.__previous_value__=i),{mapValue:u}}(t,e):n instanceof sl?Uv(n,e):n instanceof Xa?vp(n,e):function(r,i){const u=cb(r,i),c=db(u)+db(r.k);return xv(u)&&xv(r.k)?lb(c):gh(r.M,c)}(n,e)}function jI(n,e,t){return n instanceof sl?Uv(n,e):n instanceof Xa?vp(n,e):t}function cb(n,e){return n instanceof ua?xv(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class mh extends _p{}class sl extends _p{constructor(e){super(),this.elements=e}}function Uv(n,e){const t=jv(e);for(const r of n.elements)t.some(i=>oa(i,r))||t.push(r);return{arrayValue:{values:t}}}class Xa extends _p{constructor(e){super(),this.elements=e}}function vp(n,e){let t=jv(e);for(const r of n.elements)t=t.filter(i=>!oa(i,r));return{arrayValue:{values:t}}}class ua extends _p{constructor(e,t){super(),this.M=e,this.k=t}}function db(n){return zn(n.integerValue||n.doubleValue)}function jv(n){return dp(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class yh{constructor(e,t){this.field=e,this.transform=t}}class HI{constructor(e,t){this.version=e,this.transformResults=t}}class er{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new er}static exists(e){return new er(void 0,e)}static updateTime(e){return new er(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function jm(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class $v{}function GI(n,e,t){n instanceof $m?function(r,i,u){const c=r.value.clone(),f=qI(r.fieldTransforms,i,u.transformResults);c.setAll(f),i.convertToFoundDocument(u.version,c).setHasCommittedMutations()}(n,e,t):n instanceof ol?function(r,i,u){if(!jm(r.precondition,i))return void i.convertToUnknownDocument(u.version);const c=qI(r.fieldTransforms,i,u.transformResults),f=i.data;f.setAll(hb(r)),f.setAll(c),i.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Hv(n,e,t){var i;n instanceof $m?function(r,i,u){if(!jm(r.precondition,i))return;const c=r.value.clone(),f=qv(r.fieldTransforms,u,i);c.setAll(f),i.convertToFoundDocument(Rc(i),c).setHasLocalMutations()}(n,e,t):n instanceof ol?function(r,i,u){if(!jm(r.precondition,i))return;const c=qv(r.fieldTransforms,u,i),f=i.data;f.setAll(hb(r)),f.setAll(c),i.convertToFoundDocument(Rc(i),f).setHasLocalMutations()}(n,e,t):jm(n.precondition,i=e)&&i.convertToNoDocument(It.min())}function _h(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),u=cb(r.transform,i||null);null!=u&&(null==t&&(t=bi.empty()),t.set(r.field,u))}return t||null}function Gv(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&Ec(t,r,(i,u)=>function $I(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof sl&&r instanceof sl||t instanceof Xa&&r instanceof Xa?Ec(t.elements,r.elements,oa):t instanceof ua&&r instanceof ua?oa(t.k,r.k):t instanceof mh&&r instanceof mh);var t,r}(i,u))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}function Rc(n){return n.isFoundDocument()?n.version:It.min()}class $m extends $v{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}}class ol extends $v{constructor(e,t,r,i,u=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=u,this.type=1}}function hb(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function qI(n,e,t){const r=new Map;xt(n.length===t.length);for(let i=0;i<t.length;i++){const u=n[i],c=u.transform,f=e.data.field(u.field);r.set(u.field,jI(c,f,t[i]))}return r}function qv(n,e,t){const r=new Map;for(const i of n){const u=i.transform,c=t.data.field(i.field);r.set(i.field,UI(u,c,e))}return r}class Hm extends $v{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class Gm extends $v{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class zv{constructor(e){this.count=e}}var Cr,Jt;function fb(n){switch(n){default:return et();case ce.CANCELLED:case ce.UNKNOWN:case ce.DEADLINE_EXCEEDED:case ce.RESOURCE_EXHAUSTED:case ce.INTERNAL:case ce.UNAVAILABLE:case ce.UNAUTHENTICATED:return!1;case ce.INVALID_ARGUMENT:case ce.NOT_FOUND:case ce.ALREADY_EXISTS:case ce.PERMISSION_DENIED:case ce.FAILED_PRECONDITION:case ce.ABORTED:case ce.OUT_OF_RANGE:case ce.UNIMPLEMENTED:case ce.DATA_LOSS:return!0}}function pb(n){if(void 0===n)return ur("GRPC error has no .code"),ce.UNKNOWN;switch(n){case Cr.OK:return ce.OK;case Cr.CANCELLED:return ce.CANCELLED;case Cr.UNKNOWN:return ce.UNKNOWN;case Cr.DEADLINE_EXCEEDED:return ce.DEADLINE_EXCEEDED;case Cr.RESOURCE_EXHAUSTED:return ce.RESOURCE_EXHAUSTED;case Cr.INTERNAL:return ce.INTERNAL;case Cr.UNAVAILABLE:return ce.UNAVAILABLE;case Cr.UNAUTHENTICATED:return ce.UNAUTHENTICATED;case Cr.INVALID_ARGUMENT:return ce.INVALID_ARGUMENT;case Cr.NOT_FOUND:return ce.NOT_FOUND;case Cr.ALREADY_EXISTS:return ce.ALREADY_EXISTS;case Cr.PERMISSION_DENIED:return ce.PERMISSION_DENIED;case Cr.FAILED_PRECONDITION:return ce.FAILED_PRECONDITION;case Cr.ABORTED:return ce.ABORTED;case Cr.OUT_OF_RANGE:return ce.OUT_OF_RANGE;case Cr.UNIMPLEMENTED:return ce.UNIMPLEMENTED;case Cr.DATA_LOSS:return ce.DATA_LOSS;default:return et()}}(Jt=Cr||(Cr={}))[Jt.OK=0]="OK",Jt[Jt.CANCELLED=1]="CANCELLED",Jt[Jt.UNKNOWN=2]="UNKNOWN",Jt[Jt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Jt[Jt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Jt[Jt.NOT_FOUND=5]="NOT_FOUND",Jt[Jt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Jt[Jt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Jt[Jt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Jt[Jt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Jt[Jt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Jt[Jt.ABORTED=10]="ABORTED",Jt[Jt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Jt[Jt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Jt[Jt.INTERNAL=13]="INTERNAL",Jt[Jt.UNAVAILABLE=14]="UNAVAILABLE",Jt[Jt.DATA_LOSS=15]="DATA_LOSS";class al{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,u]of r)if(this.equalsFn(i,e))return u}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let u=0;u<i.length;u++)if(this.equalsFn(i[u][0],e))return void(i[u]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){tl(this.inner,(t,r)=>{for(const[i,u]of r)e(i,u)})}isEmpty(){return Tv(this.inner)}size(){return this.innerSize}}class cr{constructor(e,t){this.comparator=e,this.root=t||si.EMPTY}insert(e,t){return new cr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,si.BLACK,null,null))}remove(e){return new cr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,si.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new qm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new qm(this.root,e,this.comparator,!1)}getReverseIterator(){return new qm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new qm(this.root,e,this.comparator,!0)}}class qm{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?r(e.key,t):1,t&&i&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(0===u){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class si{constructor(e,t,r,i,u){this.key=e,this.value=t,this.color=null!=r?r:si.RED,this.left=null!=i?i:si.EMPTY,this.right=null!=u?u:si.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,u){return new si(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=u?u:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const u=r(e,i.key);return i=u<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===u?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return si.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return si.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,si.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,si.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw et();const e=this.left.check();if(e!==this.right.check())throw et();return e+(this.isRed()?0:1)}}si.EMPTY=null,si.RED=!0,si.BLACK=!1,si.EMPTY=new class{constructor(){this.size=0}get key(){throw et()}get value(){throw et()}get color(){throw et()}get left(){throw et()}get right(){throw et()}copy(n,e,t,r,i){return this}insert(n,e,t){return new si(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class On{constructor(e){this.comparator=e,this.data=new cr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new gb(this.data.getIterator())}getIteratorFrom(e){return new gb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof On)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,u=r.getNext().key;if(0!==this.comparator(i,u))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new On(this.comparator);return t.data=e,t}}class gb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function la(n){return n.hasNext()?n.getNext():void 0}const mb=new cr($e.comparator);function Ds(){return mb}const yb=new cr($e.comparator);function zm(){return yb}function vh(){return new al(n=>n.toString(),(n,e)=>n.isEqual(e))}const _b=new cr($e.comparator),zI=new On($e.comparator);function fn(...n){let e=zI;for(const t of n)e=e.add(t);return e}const vb=new On($t);function Wm(){return vb}class wp{constructor(e,t,r,i,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,Ep.createSynthesizedTargetChangeForCurrentChange(e,t)),new wp(It.min(),r,Wm(),Ds(),fn())}}class Ep{constructor(e,t,r,i,u){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t){return new Ep(Lr.EMPTY_BYTE_STRING,t,fn(),fn(),fn())}}class ul{constructor(e,t,r,i){this.O=e,this.removedTargetIds=t,this.key=r,this.F=i}}class wb{constructor(e,t){this.targetId=e,this.$=t}}class Km{constructor(e,t,r=Lr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class ko{constructor(){this.B=0,this.L=wh(),this.U=Lr.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}get current(){return this.q}get resumeToken(){return this.U}get G(){return 0!==this.B}get j(){return this.K}W(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}H(){let e=fn(),t=fn(),r=fn();return this.L.forEach((i,u)=>{switch(u){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:et()}}),new Ep(this.U,this.q,e,t,r)}J(){this.K=!1,this.L=wh()}Y(e,t){this.K=!0,this.L=this.L.insert(e,t)}X(e){this.K=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.K=!0,this.q=!0}}class WI{constructor(e){this.nt=e,this.st=new Map,this.it=Ds(),this.rt=Zm(),this.ot=new On($t)}ut(e){for(const t of e.O)e.F&&e.F.isFoundDocument()?this.at(t,e.F):this.ct(t,e.key,e.F);for(const t of e.removedTargetIds)this.ct(t,e.key,e.F)}ht(e){this.forEachTarget(e,t=>{const r=this.lt(t);switch(e.state){case 0:this.ft(t)&&r.W(e.resumeToken);break;case 1:r.tt(),r.G||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.G||this.removeTarget(t);break;case 3:this.ft(t)&&(r.et(),r.W(e.resumeToken));break;case 4:this.ft(t)&&(this.dt(t),r.W(e.resumeToken));break;default:et()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((r,i)=>{this.ft(i)&&t(i)})}_t(e){const t=e.targetId,r=e.$.count,i=this.wt(t);if(i){const u=i.target;if(Vm(u))if(0===r){const c=new $e(u.path);this.ct(t,c,Rn.newNoDocument(c,It.min()))}else xt(1===r);else this.gt(t)!==r&&(this.dt(t),this.ot=this.ot.add(t))}}yt(e){const t=new Map;this.st.forEach((u,c)=>{const f=this.wt(c);if(f){if(u.current&&Vm(f.target)){const y=new $e(f.target.path);null!==this.it.get(y)||this.It(c,y)||this.ct(c,y,Rn.newNoDocument(y,e))}u.j&&(t.set(c,u.H()),u.J())}});let r=fn();this.rt.forEach((u,c)=>{let f=!0;c.forEachWhile(y=>{const b=this.wt(y);return!b||2===b.purpose||(f=!1,!1)}),f&&(r=r.add(u))}),this.it.forEach((u,c)=>c.setReadTime(e));const i=new wp(e,t,this.ot,this.it,r);return this.it=Ds(),this.rt=Zm(),this.ot=new On($t),i}at(e,t){if(!this.ft(e))return;const r=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,r),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}ct(e,t,r){if(!this.ft(e))return;const i=this.lt(e);this.It(e,t)?i.Y(t,1):i.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),r&&(this.it=this.it.insert(t,r))}removeTarget(e){this.st.delete(e)}gt(e){const t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let t=this.st.get(e);return t||(t=new ko,this.st.set(e,t)),t}Tt(e){let t=this.rt.get(e);return t||(t=new On($t),this.rt=this.rt.insert(e,t)),t}ft(e){const t=null!==this.wt(e);return t||ke("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.st.get(e);return t&&t.G?null:this.nt.Et(e)}dt(e){this.st.set(e,new ko),this.nt.getRemoteKeysForTarget(e).forEach(t=>{this.ct(e,t,null)})}It(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}function Zm(){return new cr($e.comparator)}function wh(){return new cr($e.comparator)}const KI={asc:"ASCENDING",desc:"DESCENDING"},ZI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class YI{constructor(e,t){this.databaseId=e,this.N=t}}function ll(n,e){return n.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function bp(n,e){return n.N?e.toBase64():e.toUint8Array()}function QI(n,e){return ll(n,e.toTimestamp())}function zr(n){return xt(!!n),It.fromTimestamp(function(e){const t=Za(e);return new lr(t.seconds,t.nanos)}(n))}function Ym(n,e){return(t=n,new tn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function Wv(n){const e=tn.fromString(n);return xt(Mb(e)),e}function Oc(n,e){return Ym(n.databaseId,e.path)}function Po(n,e){const t=Wv(e);if(t.get(1)!==n.databaseId.projectId)throw new Me(ce.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Me(ce.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new $e(Jm(t))}function Kv(n,e){return Ym(n.databaseId,e)}function Eb(n){const e=Wv(n);return 4===e.length?tn.emptyPath():Jm(e)}function Qm(n){return new tn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Jm(n){return xt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function Xm(n,e,t){return{name:Oc(n,e),fields:t.value.mapValue.fields}}function Zv(n,e,t){const r=Po(n,e.name),i=zr(e.updateTime),u=new bi({mapValue:{fields:e.fields}}),c=Rn.newFoundDocument(r,i,u);return t&&c.setHasCommittedMutations(),t?c.setHasCommittedMutations():c}function Dp(n,e){let t;if(e instanceof $m)t={update:Xm(n,e.key,e.value)};else if(e instanceof Hm)t={delete:Oc(n,e.key)};else if(e instanceof ol)t={update:Xm(n,e.key,e.data),updateMask:Ab(e.fieldMask)};else{if(!(e instanceof Gm))return et();t={verify:Oc(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,u){const c=u.transform;if(c instanceof mh)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof sl)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Xa)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof ua)return{fieldPath:u.field.canonicalString(),increment:c.k};throw et()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:QI(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:et()),t;var i}function Jv(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?er.updateTime(zr(i.updateTime)):void 0!==i.exists?er.exists(i.exists):er.none():er.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(u,c){let f=null;"setToServerValue"in c?(xt("REQUEST_TIME"===c.setToServerValue),f=new mh):"appendMissingElements"in c?f=new sl(c.appendMissingElements.values||[]):"removeAllFromArray"in c?f=new Xa(c.removeAllFromArray.values||[]):"increment"in c?f=new ua(u,c.increment):et();const y=Xn.fromServerFormat(c.fieldPath);return new yh(y,f)}(n,i)):[];var i;if(e.update){const i=Po(n,e.update.name),u=new bi({mapValue:{fields:e.update.fields}});if(e.updateMask){const c=new uh((e.updateMask.fieldPaths||[]).map(b=>Xn.fromServerFormat(b)));return new ol(i,u,c,t,r)}return new $m(i,u,t,r)}if(e.delete){const i=Po(n,e.delete);return new Hm(i,t)}if(e.verify){const i=Po(n,e.verify);return new Gm(i,t)}return et()}function bb(n,e){return{documents:[Kv(n,e.path)]}}function Xv(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=Kv(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Kv(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(y){if(0===y.length)return;const b=y.map(A=>function(M){if("=="===M.op){if(dh(M.value))return{unaryFilter:{field:Eh(M.field),op:"IS_NAN"}};if(Rv(M.value))return{unaryFilter:{field:Eh(M.field),op:"IS_NULL"}}}else if("!="===M.op){if(dh(M.value))return{unaryFilter:{field:Eh(M.field),op:"IS_NOT_NAN"}};if(Rv(M.value))return{unaryFilter:{field:Eh(M.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Eh(M.field),op:Tb(M.op),value:M.value}}}(A));return 1===b.length?b[0]:{compositeFilter:{op:"AND",filters:b}}}(e.filters);i&&(t.structuredQuery.where=i);const u=function(y){if(0!==y.length)return y.map(b=>{return{field:Eh((A=b).field),direction:Ib(A.dir)};var A})}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const c=(b=e.limit,n.N||bc(b)?b:{value:b});var b,f,y;return null!==c&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt={before:(f=e.startAt).inclusive,values:f.position}),e.endAt&&(t.structuredQuery.endAt={before:!(y=e.endAt).inclusive,values:y.position}),t}function ey(n){let e=Eb(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){xt(1===r);const A=t.from[0];A.allDescendants?i=A.collectionId:e=e.child(A.collectionId)}let u=[];t.where&&(u=Cb(t.where));let c=[];t.orderBy&&(c=t.orderBy.map(A=>{return new Ac(Nc((M=A).field),function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(M.direction));var M}));let f=null;t.limit&&(f=function(A){let M;return M="object"==typeof A?A.value:A,bc(M)?null:M}(t.limit));let y=null;var A;t.startAt&&(y=new il((A=t.startAt).values||[],!!A.before));let b=null;return t.endAt&&(b=function(A){return new il(A.values||[],!A.before)}(t.endAt)),Bm(e,i,c,u,f,"F",y,b)}function Cb(n){return n?void 0!==n.unaryFilter?[XI(n)]:void 0!==n.fieldFilter?[Sb(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>Cb(e)).reduce((e,t)=>e.concat(t)):et():[]}function Ib(n){return KI[n]}function Tb(n){return ZI[n]}function Eh(n){return{fieldPath:n.canonicalString()}}function Nc(n){return Xn.fromServerFormat(n.fieldPath)}function Sb(n){return ii.create(Nc(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return et()}}(n.fieldFilter.op),n.fieldFilter.value)}function XI(n){switch(n.unaryFilter.op){case"IS_NAN":const e=Nc(n.unaryFilter.field);return ii.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Nc(n.unaryFilter.field);return ii.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Nc(n.unaryFilter.field);return ii.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Nc(n.unaryFilter.field);return ii.create(i,"!=",{nullValue:"NULL_VALUE"});default:return et()}}function Ab(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Mb(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function wn(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=xb(e)),e=bh(n.get(t),e);return xb(e)}function bh(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const u=n.charAt(i);switch(u){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=u}}return t}function xb(n){return n+"\x01\x01"}function ca(n){const e=n.length;if(xt(e>=2),2===e)return xt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),tn.emptyPath();const t=e-2,r=[];let i="";for(let u=0;u<e;){const c=n.indexOf("\x01",u);switch((c<0||c>t)&&et(),n.charAt(c+1)){case"\x01":const f=n.substring(u,c);let y;0===i.length?y=f:(i+=f,y=i,i=""),r.push(y);break;case"\x10":i+=n.substring(u,c),i+="\0";break;case"\x11":i+=n.substring(u,c+1);break;default:et()}u=c+2}return new tn(r)}const eT=["userId","batchId"];function cl(n,e){return[n,wn(e)]}function Rb(n,e,t){return[n,wn(e),t]}const e0={},tT=["prefixPath","collectionGroup","readTime","documentId"],Ob=["prefixPath","collectionGroup","documentId"],nT=["collectionGroup","readTime","prefixPath","documentId"],rT=["canonicalId","targetId"],t0=["targetId","path"],Nb=["path","targetId"],kb=["collectionId","parent"],ty=["indexId","uid"],n0=["uid","sequenceNumber"],CM=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Pb=["indexId","uid","orderedDocumentKey"],iT=["userId","collectionPath","documentId"],Fb=["userId","collectionPath","largestBatchId"],ny=["userId","collectionGroup","largestBatchId"],r0=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],sT=[...r0,"documentOverlays"],ry=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],s0=[...ry,"indexConfiguration","indexState","indexEntries"],oT="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Lb{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class pe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&et(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new pe((r,i)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,i)},this.catchCallback=u=>{this.wrapFailure(t,u).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof pe?t:pe.resolve(t)}catch(t){return pe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):pe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):pe.reject(t)}static resolve(e){return new pe((t,r)=>{t(e)})}static reject(e){return new pe((t,r)=>{r(e)})}static waitFor(e){return new pe((t,r)=>{let i=0,u=0,c=!1;e.forEach(f=>{++i,f.next(()=>{++u,c&&u===i&&t()},y=>r(y))}),c=!0,u===i&&t()})}static or(e){let t=pe.resolve(!1);for(const r of e)t=t.next(i=>i?pe.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,u)=>{r.push(t.call(this,i,u))}),this.waitFor(r)}}class Cp{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.At=new ri,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{t.error?this.At.reject(new Dh(e,t.error)):this.At.resolve()},this.transaction.onerror=r=>{const i=a0(r.target.error);this.At.reject(new Dh(e,i))}}static open(e,t,r,i){try{return new Cp(t,e.transaction(i,r))}catch(u){throw new Dh(t,u)}}get Rt(){return this.At.promise}abort(e){e&&this.At.reject(e),this.aborted||(ke("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}Pt(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new uT(t)}}class no{constructor(e,t,r){this.name=e,this.version=t,this.bt=r,12.2===no.Vt((0,Yt.z$)())&&ur("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return ke("SimpleDb","Removing database:",e),kc(window.indexedDB.deleteDatabase(e)).toPromise()}static vt(){if(!(0,Yt.hl)())return!1;if(no.St())return!0;const e=(0,Yt.z$)(),t=no.Vt(e),r=0<t&&t<10,i=no.Dt(e),u=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||u)}static St(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Ct)}static xt(e,t){return e.store(t)}static Vt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static Dt(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}Nt(e){var t=this;return(0,_e.Z)(function*(){return t.db||(ke("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const u=indexedDB.open(t.name,t.version);u.onsuccess=c=>{r(c.target.result)},u.onblocked=()=>{i(new Dh(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},u.onerror=c=>{const f=c.target.error;i("VersionError"===f.name?new Me(ce.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===f.name?new Me(ce.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+f):new Dh(e,f))},u.onupgradeneeded=c=>{ke("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',c.oldVersion),t.bt.kt(c.target.result,u.transaction,c.oldVersion,t.version).next(()=>{ke("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.Mt&&(t.db.onversionchange=r=>t.Mt(r)),t.db})()}Ot(e){this.Mt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var u=this;return(0,_e.Z)(function*(){const c="readonly"===t;let f=0;for(;;){++f;try{u.db=yield u.Nt(e);const y=Cp.open(u.db,e,c?"readonly":"readwrite",r),b=i(y).next(A=>(y.Pt(),A)).catch(A=>(y.abort(A),pe.reject(A))).toPromise();return b.catch(()=>{}),yield y.Rt,b}catch(y){const b="FirebaseError"!==y.name&&f<3;if(ke("SimpleDb","Transaction failed with error:",y.message,"Retrying:",b),u.close(),!b)return Promise.reject(y)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class aT{constructor(e){this.Ft=e,this.$t=!1,this.Bt=null}get isDone(){return this.$t}get Lt(){return this.Bt}set cursor(e){this.Ft=e}done(){this.$t=!0}Ut(e){this.Bt=e}delete(){return kc(this.Ft.delete())}}class Dh extends Me{constructor(e,t){super(ce.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function dl(n){return"IndexedDbTransactionError"===n.name}class uT{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(ke("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(ke("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),kc(r)}add(e){return ke("SimpleDb","ADD",this.store.name,e,e),kc(this.store.add(e))}get(e){return kc(this.store.get(e)).next(t=>(void 0===t&&(t=null),ke("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return ke("SimpleDb","DELETE",this.store.name,e),kc(this.store.delete(e))}count(){return ke("SimpleDb","COUNT",this.store.name),kc(this.store.count())}qt(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),u=[];return this.Kt(i,(c,f)=>{u.push(f)}).next(()=>u)}{const i=this.store.getAll(r.range);return new pe((u,c)=>{i.onerror=f=>{c(f.target.error)},i.onsuccess=f=>{u(f.target.result)}})}}Gt(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new pe((i,u)=>{r.onerror=c=>{u(c.target.error)},r.onsuccess=c=>{i(c.target.result)}})}Qt(e,t){ke("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.jt=!1;const i=this.cursor(r);return this.Kt(i,(u,c,f)=>f.delete())}Wt(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.Kt(i,t)}zt(e){const t=this.cursor({});return new pe((r,i)=>{t.onerror=u=>{const c=a0(u.target.error);i(c)},t.onsuccess=u=>{const c=u.target.result;c?e(c.primaryKey,c.value).next(f=>{f?c.continue():r()}):r()}})}Kt(e,t){const r=[];return new pe((i,u)=>{e.onerror=c=>{u(c.target.error)},e.onsuccess=c=>{const f=c.target.result;if(!f)return void i();const y=new aT(f),b=t(f.primaryKey,f.value,y);if(b instanceof pe){const A=b.catch(M=>(y.done(),pe.reject(M)));r.push(A)}y.isDone?i():null===y.Lt?f.continue():f.continue(y.Lt)}}).next(()=>pe.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.jt?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function kc(n){return new pe((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=a0(r.target.error);t(i)}})}let o0=!1;function a0(n){const e=no.Vt((0,Yt.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Me("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return o0||(o0=!0,setTimeout(()=>{throw r},0)),r}}return n}class u0 extends Lb{constructor(e,t){super(),this.Ht=e,this.currentSequenceNumber=t}}function Vr(n,e){const t=Ge(n);return no.xt(t.Ht,e)}class iy{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const u=this.mutations[i];u.key.isEqual(e.key)&&GI(u,e,r[i])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&Hv(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&Hv(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const r=e.get(t.key),i=r;this.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(It.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),fn())}isEqual(e){return this.batchId===e.batchId&&Ec(this.mutations,e.mutations,(t,r)=>Gv(t,r))&&Ec(this.baseMutations,e.baseMutations,(t,r)=>Gv(t,r))}}class sy{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){xt(e.mutations.length===r.length);let i=_b;const u=e.mutations;for(let c=0;c<u.length;c++)i=i.insert(u[c].key,r[c].version);return new sy(e,t,r,i)}}class l0{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class hl{constructor(e,t,r,i,u=It.min(),c=It.min(),f=Lr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=f}withSequenceNumber(e){return new hl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new hl(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new hl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class lT{constructor(e){this.Jt=e}}function cT(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:c0(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:Oc(i=n.Jt,(u=e).key),fields:u.data.value.mapValue.fields,updateTime:ll(i,u.version.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Ch(e.version)};else{if(!e.isUnknownDocument())return et();r.unknownDocument={path:t.path.toArray(),version:Ch(e.version)}}var i,u;return r}function c0(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Ch(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Ih(n){const e=new lr(n.seconds,n.nanoseconds);return It.fromTimestamp(e)}function Ip(n,e){const t=(e.baseMutations||[]).map(u=>Jv(n.Jt,u));for(let u=0;u<e.mutations.length-1;++u){const c=e.mutations[u];u+1<e.mutations.length&&void 0!==e.mutations[u+1].transform&&(c.updateTransforms=e.mutations[u+1].transform.fieldTransforms,e.mutations.splice(u+1,1),++u)}const r=e.mutations.map(u=>Jv(n.Jt,u)),i=lr.fromMillis(e.localWriteTimeMs);return new iy(e.batchId,i,t,r)}function oy(n){const e=Ih(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Ih(n.lastLimboFreeSnapshotVersion):It.min();let r;var i;return void 0!==n.query.documents?(xt(1===(i=n.query).documents.length),r=to(Mc(Eb(i.documents[0])))):r=to(ey(n.query)),new hl(r,n.targetId,0,n.lastListenSequenceNumber,e,t,Lr.fromBase64String(n.resumeToken))}function dT(n,e){const t=Ch(e.snapshotVersion),r=Ch(e.lastLimboFreeSnapshotVersion);let i;i=Vm(e.target)?bb(n.Jt,e.target):Xv(n.Jt,e.target);const u=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Tc(e.target),readTime:t,resumeToken:u,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function Bb(n){const e=ey({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Lv(e,e.limit,"L"):e}function Th(n,e){return new l0(e.largestBatchId,Jv(n.Jt,e.overlayMutation))}function hT(n,e){const t=e.path.lastSegment();return[n,wn(e.path.popLast()),t]}class Ub{getBundleMetadata(e,t){return ay(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:Ih(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return ay(e).put({bundleId:(r=t).id,createTime:Ch(zr(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return d0(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:Bb(i.bundledQuery),readTime:Ih(i.readTime)};var i})}saveNamedQuery(e,t){return d0(e).put({name:(r=t).name,readTime:Ch(zr(r.readTime)),bundledQuery:r.bundledQuery});var r}}function ay(n){return Vr(n,"bundles")}function d0(n){return Vr(n,"namedQueries")}class uy{constructor(e,t){this.M=e,this.userId=t}static Yt(e,t){return new uy(e,t.uid||"")}getOverlay(e,t){return ly(e).get(hT(this.userId,t)).next(r=>r?Th(this.M,r):null)}saveOverlays(e,t,r){const i=[];return r.forEach((u,c)=>{const f=new l0(t,c);i.push(this.Xt(e,f))}),pe.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(c=>i.add(wn(c.getCollectionPath())));const u=[];return i.forEach(c=>{const f=IDBKeyRange.bound([this.userId,c,r],[this.userId,c,r+1],!1,!0);u.push(ly(e).Qt("collectionPathOverlayIndex",f))}),pe.waitFor(u)}getOverlaysForCollection(e,t,r){const i=vh(),u=wn(t),c=IDBKeyRange.bound([this.userId,u,r],[this.userId,u,Number.POSITIVE_INFINITY],!0);return ly(e).qt("collectionPathOverlayIndex",c).next(f=>{for(const y of f){const b=Th(this.M,y);i.set(b.getKey(),b)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const u=vh();let c;const f=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return ly(e).Wt({index:"collectionGroupOverlayIndex",range:f},(y,b,A)=>{const M=Th(this.M,b);u.size()<i||M.largestBatchId===c?(u.set(M.getKey(),M),c=M.largestBatchId):A.done()}).next(()=>u)}Xt(e,t){return ly(e).put(function(r,i,u){const[c,f,y]=hT(i,u.mutation.key);return{userId:i,collectionPath:f,documentId:y,collectionGroup:u.mutation.key.getCollectionGroup(),largestBatchId:u.largestBatchId,overlayMutation:Dp(r.Jt,u.mutation)}}(this.M,this.userId,t))}}function ly(n){return Vr(n,"documentOverlays")}class eu{constructor(){}Zt(e,t){this.te(e,t),t.ee()}te(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(zn(e.integerValue));else if("doubleValue"in e){const r=zn(e.doubleValue);isNaN(r)?this.ne(t,13):(this.ne(t,15),ch(r)?t.se(0):t.se(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ne(t,20),"string"==typeof r?t.ie(r):(t.ie(`${r.seconds||""}`),t.se(r.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(nl(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ne(t,45),t.se(r.latitude||0),t.se(r.longitude||0)}else"mapValue"in e?KE(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):et()}re(e,t){this.ne(t,25),this.le(e,t)}le(e,t){t.ie(e)}ce(e,t){const r=e.fields||{};this.ne(t,55);for(const i of Object.keys(r))this.re(i,t),this.te(r[i],t)}he(e,t){const r=e.values||[];this.ne(t,50);for(const i of r)this.te(i,t)}ae(e,t){this.ne(t,37),$e.fromName(e).path.forEach(r=>{this.ne(t,60),this.le(r,t)})}ne(e,t){e.se(t)}oe(e){e.se(2)}}function jb(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function h0(n){const e=64-function(t){let r=0;for(let i=0;i<8;++i){const u=jb(255&t[i]);if(r+=u,8!==u)break}return r}(n);return Math.ceil(e/8)}eu.fe=new eu;class $b{constructor(){this.buffer=new Uint8Array(1024),this.position=0}de(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this._e(r.value),r=t.next();this.we()}me(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.ge(r.value),r=t.next();this.ye()}pe(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this._e(r);else if(r<2048)this._e(960|r>>>6),this._e(128|63&r);else if(t<"\ud800"||"\udbff"<t)this._e(480|r>>>12),this._e(128|63&r>>>6),this._e(128|63&r);else{const i=t.codePointAt(0);this._e(240|i>>>18),this._e(128|63&i>>>12),this._e(128|63&i>>>6),this._e(128|63&i)}}this.we()}Ie(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.ge(r);else if(r<2048)this.ge(960|r>>>6),this.ge(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.ge(480|r>>>12),this.ge(128|63&r>>>6),this.ge(128|63&r);else{const i=t.codePointAt(0);this.ge(240|i>>>18),this.ge(128|63&i>>>12),this.ge(128|63&i>>>6),this.ge(128|63&i)}}this.ye()}Te(e){const t=this.Ee(e),r=h0(t);this.Ae(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Re(e){const t=this.Ee(e),r=h0(t);this.Ae(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}Pe(){this.be(255),this.be(255)}Ve(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}Se(){return this.buffer.slice(0,this.position)}Ee(e){const t=function(i){const u=new DataView(new ArrayBuffer(8));return u.setFloat64(0,i,!1),new Uint8Array(u.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}_e(e){const t=255&e;0===t?(this.be(0),this.be(255)):255===t?(this.be(255),this.be(0)):this.be(t)}ge(e){const t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}we(){this.be(0),this.be(1)}ye(){this.ve(0),this.ve(1)}be(e){this.Ae(1),this.buffer[this.position++]=e}ve(e){this.Ae(1),this.buffer[this.position++]=~e}Ae(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class IM{constructor(e){this.De=e}ue(e){this.De.de(e)}ie(e){this.De.pe(e)}se(e){this.De.Te(e)}ee(){this.De.Pe()}}class Hb{constructor(e){this.De=e}ue(e){this.De.me(e)}ie(e){this.De.Ie(e)}se(e){this.De.Re(e)}ee(){this.De.Ve()}}class Tp{constructor(){this.De=new $b,this.Ce=new IM(this.De),this.xe=new Hb(this.De)}seed(e){this.De.seed(e)}Ne(e){return 0===e?this.Ce:this.xe}Se(){return this.De.Se()}reset(){this.De.reset()}}class da{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new da(this.indexId,this.documentKey,this.arrayValue,r)}}function Pc(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=fT(n.arrayValue,e.arrayValue),0!==t?t:(t=fT(n.directionalValue,e.directionalValue),0!==t?t:$e.comparator(n.documentKey,e.documentKey)))}function fT(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class TM{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Me=e.orderBy,this.Oe=[];for(const t of e.filters){const r=t;r.S()?this.Fe=r:this.Oe.push(r)}}$e(e){const t=Nv(e);if(void 0!==t&&!this.Be(t))return!1;const r=rl(e);let i=0,u=0;for(;i<r.length&&this.Be(r[i]);++i);if(i===r.length)return!0;if(void 0!==this.Fe){const c=r[i];if(!this.Le(this.Fe,c)||!this.Ue(this.Me[u++],c))return!1;++i}for(;i<r.length;++i){const c=r[i];if(u>=this.Me.length||!this.Ue(this.Me[u++],c))return!1}return!0}Be(e){for(const t of this.Oe)if(this.Le(t,e))return!0;return!1}Le(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Ue(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class SM{constructor(){this.qe=new f0}addToCollectionParentIndex(e,t){return this.qe.add(t),pe.resolve()}getCollectionParents(e,t){return pe.resolve(this.qe.getEntries(t))}addFieldIndex(e,t){return pe.resolve()}deleteFieldIndex(e,t){return pe.resolve()}getDocumentsMatchingTarget(e,t){return pe.resolve(null)}getFieldIndex(e,t){return pe.resolve(null)}getFieldIndexes(e,t){return pe.resolve([])}getNextCollectionGroupToUpdate(e){return pe.resolve(null)}updateCollectionGroup(e,t,r){return pe.resolve()}updateIndexEntries(e,t){return pe.resolve()}}class f0{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new On(tn.comparator),u=!i.has(r);return this.index[t]=i.add(r),u}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new On(tn.comparator)).toArray()}}const Sh=new Uint8Array(0);class pT{constructor(e,t){this.user=e,this.databaseId=t,this.Ke=new f0,this.Ge=new al(r=>Tc(r),(r,i)=>Sc(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ke.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.Ke.add(t)});const u={collectionId:r,parent:wn(i)};return gT(e).put(u)}return pe.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[zE(t),""],!1,!0);return gT(e).qt(i).next(u=>{for(const c of u){if(c.collectionId!==t)break;r.push(ca(c.parent))}return r})}addFieldIndex(e,t){const r=Ah(e),i={indexId:(u=t).indexId,collectionGroup:u.collectionGroup,fields:u.fields.map(c=>[c.fieldPath.canonicalString(),c.kind])};var u;return delete i.indexId,r.add(i).next()}deleteFieldIndex(e,t){const r=Ah(e),i=cy(e),u=Sp(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>u.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=Sp(e);let i=!0;const u=new Map;return pe.forEach(this.Qe(t),c=>this.getFieldIndex(e,c).next(f=>{i&&(i=!!f),u.set(c,f)})).next(()=>{if(i){let c=fn();const f=[];return pe.forEach(u,(y,b)=>{var A;ke("IndexedDbIndexManager",`Using index ${A=y,`id=${A.indexId}|cg=${A.collectionGroup}|f=${A.fields.map(Ue=>`${Ue.fieldPath}:${Ue.kind}`).join(",")}`} to execute ${Tc(t)}`);const M=function(Ue,Xe){const vt=Nv(Xe);if(void 0===vt)return null;for(const Tt of pp(Ue,vt.fieldPath))switch(Tt.op){case"array-contains-any":return Tt.value.arrayValue.values||[];case"array-contains":return[Tt.value]}return null}(b,y),F=function(Ue,Xe){const vt=new Map;for(const Tt of rl(Xe))for(const Ht of pp(Ue,Tt.fieldPath))switch(Ht.op){case"==":case"in":vt.set(Tt.fieldPath.canonicalString(),Ht.value);break;case"not-in":case"!=":return vt.set(Tt.fieldPath.canonicalString(),Ht.value),Array.from(vt.values())}return null}(b,y),B=function(Ue,Xe){const vt=[];let Tt=!0;for(const Ht of rl(Xe)){const nr=0===Ht.kind?eb(Ue,Ht.fieldPath,Ue.startAt):tb(Ue,Ht.fieldPath,Ue.startAt);if(!nr.value)return null;vt.push(nr.value),Tt&&(Tt=nr.inclusive)}return new il(vt,Tt)}(b,y),G=function(Ue,Xe){const vt=[];let Tt=!0;for(const Ht of rl(Xe)){const nr=0===Ht.kind?tb(Ue,Ht.fieldPath,Ue.endAt):eb(Ue,Ht.fieldPath,Ue.endAt);if(!nr.value)return null;vt.push(nr.value),Tt&&(Tt=nr.inclusive)}return new il(vt,Tt)}(b,y),te=this.je(y,b,B),Ee=this.je(y,b,G),We=this.We(y,b,F),Ze=this.ze(y.indexId,M,te,!!B&&B.inclusive,Ee,!!G&&G.inclusive,We);return pe.forEach(Ze,Ue=>r.Gt(Ue,t.limit).next(Xe=>{Xe.forEach(vt=>{const Tt=$e.fromSegments(vt.documentKey);c.has(Tt)||(c=c.add(Tt),f.push(Tt))})}))}).next(()=>f)}return pe.resolve(null)})}Qe(e){let t=this.Ge.get(e);return t||(t=[e],this.Ge.set(e,t),t)}ze(e,t,r,i,u,c,f){const y=(null!=t?t.length:1)*Math.max(null!=r?r.length:1,null!=u?u.length:1),b=y/(null!=t?t.length:1),A=[];for(let M=0;M<y;++M){const F=t?this.He(t[M/b]):Sh,B=r?this.Je(e,F,r[M%b],i):this.Ye(e),G=u?this.Xe(e,F,u[M%b],c):this.Ye(e+1);A.push(...this.createRange(B,G,f.map(te=>this.Je(e,F,te,!0))))}return A}Je(e,t,r,i){const u=new da(e,$e.empty(),t,r);return i?u:u.ke()}Xe(e,t,r,i){const u=new da(e,$e.empty(),t,r);return i?u.ke():u}Ye(e){return new da(e,$e.empty(),Sh,Sh)}getFieldIndex(e,t){const r=new TM(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(u=>{const c=u.filter(f=>r.$e(f));return c.sort((f,y)=>y.fields.length-f.fields.length),c.length>0?c[0]:null})}Ze(e,t){const r=new Tp;for(const i of rl(e)){const u=t.data.field(i.fieldPath);if(null==u)return null;const c=r.Ne(i.kind);eu.fe.Zt(u,c)}return r.Se()}He(e){const t=new Tp;return eu.fe.Zt(e,t.Ne(0)),t.Se()}tn(e,t){const r=new Tp;return eu.fe.Zt(aa(this.databaseId,t),r.Ne(function(i){const u=rl(i);return 0===u.length?0:u[u.length-1].kind}(e))),r.Se()}We(e,t,r){if(null===r)return[];let i=[];i.push(new Tp);let u=0;for(const c of rl(e)){const f=r[u++];for(const y of i)if(this.en(t,c.fieldPath)&&dp(f))i=this.nn(i,c,f);else{const b=y.Ne(c.kind);eu.fe.Zt(f,b)}}return this.sn(i)}je(e,t,r){return null==r?null:this.We(e,t,r.position)}sn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Se();return t}nn(e,t,r){const i=[...e],u=[];for(const c of r.arrayValue.values||[])for(const f of i){const y=new Tp;y.seed(f.Se()),eu.fe.Zt(c,y.Ne(t.kind)),u.push(y)}return u}en(e,t){return!!e.filters.find(r=>r instanceof ii&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=Ah(e),i=cy(e);return(t?r.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.qt()).next(u=>{const c=[];return pe.forEach(u,f=>i.get([f.indexId,this.uid]).next(y=>{c.push(function(b,A){const M=A?new hh(A.sequenceNumber,new Ja(Ih(A.readTime),new $e(ca(A.documentKey)),A.largestBatchId)):hh.empty(),F=b.fields.map(([B,G])=>new Lm(Xn.fromServerFormat(B),G));return new fp(b.indexId,b.collectionGroup,F,M)}(f,y))})).next(()=>c)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const u=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==u?u:$t(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=Ah(e),u=cy(e);return this.rn(e).next(c=>i.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(f=>pe.forEach(f,y=>{return u.put({indexId:y.indexId,uid:this.user.uid||"",sequenceNumber:c,readTime:Ch((F=r).readTime),documentKey:wn(F.documentKey.path),largestBatchId:F.largestBatchId});var F})))}updateIndexEntries(e,t){const r=new Map;return pe.forEach(t,(i,u)=>{const c=r.get(i.collectionGroup);return(c?pe.resolve(c):this.getFieldIndexes(e,i.collectionGroup)).next(f=>(r.set(i.collectionGroup,f),pe.forEach(f,y=>this.on(e,i,y).next(b=>{const A=this.un(u,y);return b.isEqual(A)?pe.resolve():this.an(e,u,y,b,A)}))))})}cn(e,t,r,i){return Sp(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.tn(r,t.key),documentKey:t.key.path.toArray()})}hn(e,t,r,i){return Sp(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.tn(r,t.key),t.key.path.toArray()])}on(e,t,r){const i=Sp(e);let u=new On(Pc);return i.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.tn(r,t)])},(c,f)=>{u=u.add(new da(r.indexId,t,f.arrayValue,f.directionalValue))}).next(()=>u)}un(e,t){let r=new On(Pc);const i=this.Ze(t,e);if(null==i)return r;const u=Nv(t);if(null!=u){const c=e.data.field(u.fieldPath);if(dp(c))for(const f of c.arrayValue.values||[])r=r.add(new da(t.indexId,e.key,this.He(f),i))}else r=r.add(new da(t.indexId,e.key,Sh,i));return r}an(e,t,r,i,u){ke("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const c=[];return function(f,y,b,A,M){const F=f.getIterator(),B=y.getIterator();let G=la(F),te=la(B);for(;G||te;){let Ee=!1,We=!1;if(G&&te){const Ze=b(G,te);Ze<0?We=!0:Ze>0&&(Ee=!0)}else null!=G?We=!0:Ee=!0;Ee?(A(te),te=la(B)):We?(M(G),G=la(F)):(G=la(F),te=la(B))}}(i,u,Pc,f=>{c.push(this.cn(e,t,r,f))},f=>{c.push(this.hn(e,t,r,f))}),pe.waitFor(c)}rn(e){let t=1;return cy(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,u)=>{u.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((c,f)=>Pc(c,f)).filter((c,f,y)=>!f||0!==Pc(c,y[f-1]));const i=[];i.push(e);for(const c of r){const f=Pc(c,e),y=Pc(c,t);if(0===f)i[0]=e.ke();else if(f>0&&y<0)i.push(c),i.push(c.ke());else if(y>0)break}i.push(t);const u=[];for(let c=0;c<i.length;c+=2)u.push(IDBKeyRange.bound([i[c].indexId,this.uid,i[c].arrayValue,i[c].directionalValue,Sh,[]],[i[c+1].indexId,this.uid,i[c+1].arrayValue,i[c+1].directionalValue,Sh,[]]));return u}}function gT(n){return Vr(n,"collectionParents")}function Sp(n){return Vr(n,"indexEntries")}function Ah(n){return Vr(n,"indexConfiguration")}function cy(n){return Vr(n,"indexState")}const ro={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class zi{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new zi(e,zi.DEFAULT_COLLECTION_PERCENTILE,zi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function dy(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),u=[],c=IDBKeyRange.only(t.batchId);let f=0;const y=r.Wt({range:c},(A,M,F)=>(f++,F.delete()));u.push(y.next(()=>{xt(1===f)}));const b=[];for(const A of t.mutations){const M=Rb(e,A.key.path,t.batchId);u.push(i.delete(M)),b.push(A.key)}return pe.waitFor(u).next(()=>b)}function hy(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw et();e=n.noDocument}return JSON.stringify(e).length}zi.DEFAULT_COLLECTION_PERCENTILE=10,zi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,zi.DEFAULT=new zi(41943040,zi.DEFAULT_COLLECTION_PERCENTILE,zi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),zi.DISABLED=new zi(-1,0,0);class p0{constructor(e,t,r,i){this.userId=e,this.M=t,this.indexManager=r,this.referenceDelegate=i,this.ln={}}static Yt(e,t,r,i){xt(""!==e.uid);const u=e.isAuthenticated()?e.uid:"";return new p0(u,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return tu(e).Wt({index:"userMutationsIndex",range:r},(i,u,c)=>{t=!1,c.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const u=Fc(e),c=tu(e);return c.add({}).next(f=>{xt("number"==typeof f);const y=new iy(f,t,r,i),b=function(F,B,G){const te=G.baseMutations.map(We=>Dp(F.Jt,We)),Ee=G.mutations.map(We=>Dp(F.Jt,We));return{userId:B,batchId:G.batchId,localWriteTimeMs:G.localWriteTime.toMillis(),baseMutations:te,mutations:Ee}}(this.M,this.userId,y),A=[];let M=new On((F,B)=>$t(F.canonicalString(),B.canonicalString()));for(const F of i){const B=Rb(this.userId,F.key.path,f);M=M.add(F.key.path.popLast()),A.push(c.put(b)),A.push(u.put(B,e0))}return M.forEach(F=>{A.push(this.indexManager.addToCollectionParentIndex(e,F))}),e.addOnCommittedListener(()=>{this.ln[f]=y.keys()}),pe.waitFor(A).next(()=>y)})}lookupMutationBatch(e,t){return tu(e).get(t).next(r=>r?(xt(r.userId===this.userId),Ip(this.M,r)):null)}fn(e,t){return this.ln[t]?pe.resolve(this.ln[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.ln[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let u=null;return tu(e).Wt({index:"userMutationsIndex",range:i},(c,f,y)=>{f.userId===this.userId&&(xt(f.batchId>=r),u=Ip(this.M,f)),y.done()}).next(()=>u)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return tu(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},(i,u,c)=>{r=u.batchId,c.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return tu(e).qt("userMutationsIndex",t).next(r=>r.map(i=>Ip(this.M,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=cl(this.userId,t.path),i=IDBKeyRange.lowerBound(r),u=[];return Fc(e).Wt({range:i},(c,f,y)=>{const[b,A,M]=c,F=ca(A);if(b===this.userId&&t.path.isEqual(F))return tu(e).get(M).next(B=>{if(!B)throw et();xt(B.userId===this.userId),u.push(Ip(this.M,B))});y.done()}).next(()=>u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new On($t);const i=[];return t.forEach(u=>{const c=cl(this.userId,u.path),f=IDBKeyRange.lowerBound(c),y=Fc(e).Wt({range:f},(b,A,M)=>{const[F,B,G]=b,te=ca(B);F===this.userId&&u.path.isEqual(te)?r=r.add(G):M.done()});i.push(y)}),pe.waitFor(i).next(()=>this.dn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,u=cl(this.userId,r),c=IDBKeyRange.lowerBound(u);let f=new On($t);return Fc(e).Wt({range:c},(y,b,A)=>{const[M,F,B]=y,G=ca(F);M===this.userId&&r.isPrefixOf(G)?G.length===i&&(f=f.add(B)):A.done()}).next(()=>this.dn(e,f))}dn(e,t){const r=[],i=[];return t.forEach(u=>{i.push(tu(e).get(u).next(c=>{if(null===c)throw et();xt(c.userId===this.userId),r.push(Ip(this.M,c))}))}),pe.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return dy(e.Ht,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this._n(t.batchId)}),pe.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}_n(e){delete this.ln[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return pe.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return Fc(e).Wt({range:r},(u,c,f)=>{if(u[0]===this.userId){const y=ca(u[1]);i.push(y)}else f.done()}).next(()=>{xt(0===i.length)})})}containsKey(e,t){return fy(e,this.userId,t)}wn(e){return Gb(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function fy(n,e,t){const r=cl(e,t.path),i=r[1],u=IDBKeyRange.lowerBound(r);let c=!1;return Fc(n).Wt({range:u,jt:!0},(f,y,b)=>{const[A,M,F]=f;A===e&&M===i&&(c=!0),b.done()}).next(()=>c)}function tu(n){return Vr(n,"mutations")}function Fc(n){return Vr(n,"documentMutations")}function Gb(n){return Vr(n,"mutationQueues")}class fl{constructor(e){this.mn=e}next(){return this.mn+=2,this.mn}static gn(){return new fl(0)}static yn(){return new fl(-1)}}class qb{constructor(e,t){this.referenceDelegate=e,this.M=t}allocateTargetId(e){return this.pn(e).next(t=>{const r=new fl(t.highestTargetId);return t.highestTargetId=r.next(),this.In(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.pn(e).next(t=>It.fromTimestamp(new lr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.pn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.pn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.In(e,i)))}addTargetData(e,t){return this.Tn(e,t).next(()=>this.pn(e).next(r=>(r.targetCount+=1,this.En(t,r),this.In(e,r))))}updateTargetData(e,t){return this.Tn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Mh(e).delete(t.targetId)).next(()=>this.pn(e)).next(r=>(xt(r.targetCount>0),r.targetCount-=1,this.In(e,r)))}removeTargets(e,t,r){let i=0;const u=[];return Mh(e).Wt((c,f)=>{const y=oy(f);y.sequenceNumber<=t&&null===r.get(y.targetId)&&(i++,u.push(this.removeTargetData(e,y)))}).next(()=>pe.waitFor(u)).next(()=>i)}forEachTarget(e,t){return Mh(e).Wt((r,i)=>{const u=oy(i);t(u)})}pn(e){return zb(e).get("targetGlobalKey").next(t=>(xt(null!==t),t))}In(e,t){return zb(e).put("targetGlobalKey",t)}Tn(e,t){return Mh(e).put(dT(this.M,t))}En(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.pn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=Tc(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let u=null;return Mh(e).Wt({range:i,index:"queryTargetsIndex"},(c,f,y)=>{const b=oy(f);Sc(t,b.target)&&(u=b,y.done())}).next(()=>u)}addMatchingKeys(e,t,r){const i=[],u=ha(e);return t.forEach(c=>{const f=wn(c.path);i.push(u.put({targetId:r,path:f})),i.push(this.referenceDelegate.addReference(e,r,c))}),pe.waitFor(i)}removeMatchingKeys(e,t,r){const i=ha(e);return pe.forEach(t,u=>{const c=wn(u.path);return pe.waitFor([i.delete([r,c]),this.referenceDelegate.removeReference(e,r,u)])})}removeMatchingKeysForTargetId(e,t){const r=ha(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=ha(e);let u=fn();return i.Wt({range:r,jt:!0},(c,f,y)=>{const b=ca(c[1]),A=new $e(b);u=u.add(A)}).next(()=>u)}containsKey(e,t){const r=wn(t.path),i=IDBKeyRange.bound([r],[zE(r)],!1,!0);let u=0;return ha(e).Wt({index:"documentTargetsIndex",jt:!0,range:i},([c,f],y,b)=>{0!==c&&(u++,b.done())}).next(()=>u>0)}Et(e,t){return Mh(e).get(t).next(r=>r?oy(r):null)}}function Mh(n){return Vr(n,"targets")}function zb(n){return Vr(n,"targetGlobal")}function ha(n){return Vr(n,"targetDocuments")}function oi(n){return g0.apply(this,arguments)}function g0(){return g0=(0,_e.Z)(function*(n){if(n.code!==ce.FAILED_PRECONDITION||n.message!==oT)throw n;ke("LocalStore","Unexpectedly lost primary lease")}),g0.apply(this,arguments)}function mT([n,e],[t,r]){const i=$t(n,t);return 0===i?$t(e,r):i}class yT{constructor(e){this.An=e,this.buffer=new On(mT),this.Rn=0}Pn(){return++this.Rn}bn(e){const t=[e,this.Pn()];if(this.buffer.size<this.An)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();mT(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Wb{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.Vn=!1,this.vn=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Sn(e)}stop(){this.vn&&(this.vn.cancel(),this.vn=null)}get started(){return null!==this.vn}Sn(e){var t=this;const r=this.Vn?3e5:6e4;ke("LruGarbageCollector",`Garbage collection scheduled in ${r}ms`),this.vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,(0,_e.Z)(function*(){t.vn=null,t.Vn=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(i){dl(i)?ke("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield oi(i)}yield t.Sn(e)}))}}class _T{constructor(e,t){this.Dn=e,this.params=t}calculateTargetCount(e,t){return this.Dn.Cn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return pe.resolve(Ei.A);const r=new yT(t);return this.Dn.forEachTarget(e,i=>r.bn(i.sequenceNumber)).next(()=>this.Dn.xn(e,i=>r.bn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Dn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Dn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(ke("LruGarbageCollector","Garbage collection skipped; disabled"),pe.resolve(ro)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ke("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ro):this.Nn(e,t))}getCacheSize(e){return this.Dn.getCacheSize(e)}Nn(e,t){let r,i,u,c,f,y,b;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(M=>(M>this.params.maximumSequenceNumbersToCollect?(ke("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${M}`),i=this.params.maximumSequenceNumbersToCollect):i=M,c=Date.now(),this.nthSequenceNumber(e,i))).next(M=>(r=M,f=Date.now(),this.removeTargets(e,r,t))).next(M=>(u=M,y=Date.now(),this.removeOrphanedDocuments(e,r))).next(M=>(b=Date.now(),Mm()<=Xs.in.DEBUG&&ke("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${c-A}ms\n\tDetermined least recently used ${i} in `+(f-c)+`ms\n\tRemoved ${u} targets in `+(y-f)+`ms\n\tRemoved ${M} documents in `+(b-y)+`ms\nTotal Duration: ${b-A}ms`),pe.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:u,documentsRemoved:M})))}}class vT{constructor(e,t){this.db=e,this.garbageCollector=new _T(this,t)}Cn(e){const t=this.kn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}kn(e){let t=0;return this.xn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}xn(e,t){return this.Mn(e,(r,i)=>t(i))}addReference(e,t,r){return Ap(e,r)}removeReference(e,t,r){return Ap(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return Ap(e,t)}On(e,t){return function(r,i){let u=!1;return Gb(r).zt(c=>fy(r,c,i).next(f=>(f&&(u=!0),pe.resolve(!f)))).next(()=>u)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let u=0;return this.Mn(e,(c,f)=>{if(f<=t){const y=this.On(e,c).next(b=>{if(!b)return u++,r.getEntry(e,c).next(()=>(r.removeEntry(c,It.min()),ha(e).delete([0,wn(c.path)])))});i.push(y)}}).next(()=>pe.waitFor(i)).next(()=>r.apply(e)).next(()=>u)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return Ap(e,t)}Mn(e,t){const r=ha(e);let i,u=Ei.A;return r.Wt({index:"documentTargetsIndex"},([c,f],{path:y,sequenceNumber:b})=>{0===c?(u!==Ei.A&&t(new $e(ca(i)),u),u=b,i=y):u=Ei.A}).next(()=>{u!==Ei.A&&t(new $e(ca(i)),u)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Ap(n,e){return ha(n).put((r=n.currentSequenceNumber,{targetId:0,path:wn(e.path),sequenceNumber:r}));var r}class Kb{constructor(){this.changes=new al(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Rn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?pe.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class AM{constructor(e){this.M=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return Lc(e).put(r)}removeEntry(e,t,r){return Lc(e).delete(function(i,u){const c=i.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],c0(u),c[c.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Fn(e,r)))}getEntry(e,t){let r=Rn.newInvalidDocument(t);return Lc(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(Mp(t))},(i,u)=>{r=this.$n(t,u)}).next(()=>r)}Bn(e,t){let r={size:0,document:Rn.newInvalidDocument(t)};return Lc(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(Mp(t))},(i,u)=>{r={document:this.$n(t,u),size:hy(u)}}).next(()=>r)}getEntries(e,t){let r=Ds();return this.Ln(e,t,(i,u)=>{const c=this.$n(i,u);r=r.insert(i,c)}).next(()=>r)}Un(e,t){let r=Ds(),i=new cr($e.comparator);return this.Ln(e,t,(u,c)=>{const f=this.$n(u,c);r=r.insert(u,f),i=i.insert(u,hy(c))}).next(()=>({documents:r,qn:i}))}Ln(e,t,r){if(t.isEmpty())return pe.resolve();let i=new On(py);t.forEach(y=>i=i.add(y));const u=IDBKeyRange.bound(Mp(i.first()),Mp(i.last())),c=i.getIterator();let f=c.getNext();return Lc(e).Wt({index:"documentKeyIndex",range:u},(y,b,A)=>{const M=$e.fromSegments([...b.prefixPath,b.collectionGroup,b.documentId]);for(;f&&py(f,M)<0;)r(f,null),f=c.getNext();f&&f.isEqual(M)&&(r(f,b),f=c.hasNext()?c.getNext():null),f?A.Ut(Mp(f)):A.done()}).next(()=>{for(;f;)r(f,null),f=c.hasNext()?c.getNext():null})}getAllFromCollection(e,t,r){const i=[t.popLast().toArray(),t.lastSegment(),c0(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],u=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Lc(e).qt(IDBKeyRange.bound(i,u,!0)).next(c=>{let f=Ds();for(const y of c){const b=this.$n($e.fromSegments(y.prefixPath.concat(y.collectionGroup,y.documentId)),y);f=f.insert(b.key,b)}return f})}getAllFromCollectionGroup(e,t,r,i){let u=Ds();const c=y0(t,r),f=y0(t,Ja.max());return Lc(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(c,f,!0)},(y,b,A)=>{const M=this.$n($e.fromSegments(b.prefixPath.concat(b.collectionGroup,b.documentId)),b);u=u.insert(M.key,M),u.size===i&&A.done()}).next(()=>u)}newChangeBuffer(e){return new Zb(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return m0(e).get("remoteDocumentGlobalKey").next(t=>(xt(!!t),t))}Fn(e,t){return m0(e).put("remoteDocumentGlobalKey",t)}$n(e,t){if(t){const r=function Vb(n,e){let t;if(e.document)t=Zv(n.Jt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=$e.fromSegments(e.noDocument.path),i=Ih(e.noDocument.readTime);t=Rn.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return et();{const r=$e.fromSegments(e.unknownDocument.path),i=Ih(e.unknownDocument.version);t=Rn.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(r){const i=new lr(r[0],r[1]);return It.fromTimestamp(i)}(e.readTime)),t}(this.M,t);if(!r.isNoDocument()||!r.version.isEqual(It.min()))return r}return Rn.newInvalidDocument(e)}}class Zb extends Kb{constructor(e,t){super(),this.Kn=e,this.trackRemovals=t,this.Gn=new al(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new On((u,c)=>$t(u.canonicalString(),c.canonicalString()));return this.changes.forEach((u,c)=>{const f=this.Gn.get(u);if(t.push(this.Kn.removeEntry(e,u,f.readTime)),c.isValidDocument()){const y=cT(this.Kn.M,c);i=i.add(u.path.popLast()),r+=hy(y)-f.size,t.push(this.Kn.addEntry(e,u,y))}else if(r-=f.size,this.trackRemovals){const y=cT(this.Kn.M,c.convertToNoDocument(It.min()));t.push(this.Kn.addEntry(e,u,y))}}),i.forEach(u=>{t.push(this.Kn.indexManager.addToCollectionParentIndex(e,u))}),t.push(this.Kn.updateMetadata(e,r)),pe.waitFor(t)}getFromCache(e,t){return this.Kn.Bn(e,t).next(r=>(this.Gn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.Kn.Un(e,t).next(({documents:r,qn:i})=>(i.forEach((u,c)=>{this.Gn.set(u,{size:c,readTime:r.get(u).readTime})}),r))}}function m0(n){return Vr(n,"remoteDocumentGlobal")}function Lc(n){return Vr(n,"remoteDocumentsV14")}function Mp(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function y0(n,e){const t=e.documentKey.path.toArray();return[n,c0(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function py(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let u=0;u<t.length-2&&u<r.length-2;++u)if(i=$t(t[u],r[u]),i)return i;return i=$t(t.length,r.length),i||(i=$t(t[t.length-2],r[r.length-2]),i||$t(t[t.length-1],r[r.length-1]))}class _0{constructor(e){this.M=e}kt(e,t,r,i){const u=new Cp("createOrUpgrade",t);var f;r<1&&i>=1&&(e.createObjectStore("owner"),(f=e).createObjectStore("mutationQueues",{keyPath:"userId"}),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",eT,{unique:!0}),f.createObjectStore("documentMutations"),v0(e),function(f){f.createObjectStore("remoteDocuments")}(e));let c=pe.resolve();return r<3&&i>=3&&(0!==r&&(function(f){f.deleteObjectStore("targetDocuments"),f.deleteObjectStore("targets"),f.deleteObjectStore("targetGlobal")}(e),v0(e)),c=c.next(()=>function(f){const y=f.store("targetGlobal"),b={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:It.min().toTimestamp(),targetCount:0};return y.put("targetGlobalKey",b)}(u))),r<4&&i>=4&&(0!==r&&(c=c.next(()=>function(f,y){return y.store("mutations").qt().next(b=>{f.deleteObjectStore("mutations"),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",eT,{unique:!0});const A=y.store("mutations"),M=b.map(F=>A.put(F));return pe.waitFor(M)})}(e,u))),c=c.next(()=>{!function(f){f.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(c=c.next(()=>this.Qn(u))),r<6&&i>=6&&(c=c.next(()=>(function(f){f.createObjectStore("remoteDocumentGlobal")}(e),this.jn(u)))),r<7&&i>=7&&(c=c.next(()=>this.Wn(u))),r<8&&i>=8&&(c=c.next(()=>this.zn(e,u))),r<9&&i>=9&&(c=c.next(()=>{!function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(c=c.next(()=>this.Hn(u))),r<11&&i>=11&&(c=c.next(()=>{(function(f){f.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(f){f.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(c=c.next(()=>{!function(f){const y=f.createObjectStore("documentOverlays",{keyPath:iT});y.createIndex("collectionPathOverlayIndex",Fb,{unique:!1}),y.createIndex("collectionGroupOverlayIndex",ny,{unique:!1})}(e)})),r<13&&i>=13&&(c=c.next(()=>function(f){const y=f.createObjectStore("remoteDocumentsV14",{keyPath:tT});y.createIndex("documentKeyIndex",Ob),y.createIndex("collectionGroupIndex",nT)}(e)).next(()=>this.Jn(e,u)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(c=c.next(()=>{!function(f){f.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),f.createObjectStore("indexState",{keyPath:ty}).createIndex("sequenceNumberIndex",n0,{unique:!1}),f.createObjectStore("indexEntries",{keyPath:CM}).createIndex("documentKeyIndex",Pb,{unique:!1})}(e)})),c}jn(e){let t=0;return e.store("remoteDocuments").Wt((r,i)=>{t+=hy(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Qn(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.qt().next(i=>pe.forEach(i,u=>{const c=IDBKeyRange.bound([u.userId,-1],[u.userId,u.lastAcknowledgedBatchId]);return r.qt("userMutationsIndex",c).next(f=>pe.forEach(f,y=>{xt(y.userId===u.userId);const b=Ip(this.M,y);return dy(e,u.userId,b).next(()=>{})}))}))}Wn(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const u=[];return r.Wt((c,f)=>{const y=new tn(c),b=[0,wn(y)];u.push(t.get(b).next(A=>A?pe.resolve():t.put({targetId:0,path:wn(y),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>pe.waitFor(u))})}zn(e,t){e.createObjectStore("collectionParents",{keyPath:kb});const r=t.store("collectionParents"),i=new f0,u=c=>{if(i.add(c)){const f=c.lastSegment(),y=c.popLast();return r.put({collectionId:f,parent:wn(y)})}};return t.store("remoteDocuments").Wt({jt:!0},(c,f)=>{const y=new tn(c);return u(y.popLast())}).next(()=>t.store("documentMutations").Wt({jt:!0},([c,f,y],b)=>{const A=ca(f);return u(A.popLast())}))}Hn(e){const t=e.store("targets");return t.Wt((r,i)=>{const u=oy(i),c=dT(this.M,u);return t.put(c)})}Jn(e,t){const r=t.store("remoteDocuments"),i=[];return r.Wt((u,c)=>{const f=t.store("remoteDocumentsV14"),y=(b=c,b.document?new $e(tn.fromString(b.document.name).popFirst(5)):b.noDocument?$e.fromSegments(b.noDocument.path):b.unknownDocument?$e.fromSegments(b.unknownDocument.path):et()).path.toArray();var b;const A={prefixPath:y.slice(0,y.length-2),collectionGroup:y[y.length-2],documentId:y[y.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};i.push(f.put(A))}).next(()=>pe.waitFor(i))}}function v0(n){n.createObjectStore("targetDocuments",{keyPath:t0}).createIndex("documentTargetsIndex",Nb,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",rT,{unique:!0}),n.createObjectStore("targetGlobal")}const w0="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class gy{constructor(e,t,r,i,u,c,f,y,b,A,M=13){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Yn=u,this.window=c,this.document=f,this.Xn=b,this.Zn=A,this.ts=M,this.es=null,this.ns=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ss=null,this.inForeground=!1,this.rs=null,this.os=null,this.us=Number.NEGATIVE_INFINITY,this.cs=F=>Promise.resolve(),!gy.vt())throw new Me(ce.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new vT(this,i),this.hs=t+"main",this.M=new lT(y),this.ls=new no(this.hs,this.ts,new _0(this.M)),this.fs=new qb(this.referenceDelegate,this.M),this.ds=new AM(this.M),this._s=new Ub,this.window&&this.window.localStorage?this.ws=this.window.localStorage:(this.ws=null,!1===A&&ur("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.gs().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Me(ce.FAILED_PRECONDITION,w0);return this.ys(),this.ps(),this.Is(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.fs.getHighestSequenceNumber(e))}).then(e=>{this.es=new Ei(e,this.Xn)}).then(()=>{this.ns=!0}).catch(e=>(this.ls&&this.ls.close(),Promise.reject(e)))}Ts(e){var t=this;return this.cs=function(){var r=(0,_e.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ls.Ot(function(){var t=(0,_e.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Yn.enqueueAndForget((0,_e.Z)(function*(){t.started&&(yield t.gs())})))}gs(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>my(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Es(e).next(t=>{t||(this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)))})}).next(()=>this.As(e)).next(t=>this.isPrimary&&!t?this.Rs(e).next(()=>!1):!!t&&this.Ps(e).next(()=>!0))).catch(e=>{if(dl(e))return ke("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return ke("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Yn.enqueueRetryable(()=>this.cs(e)),this.isPrimary=e})}Es(e){return xh(e).get("owner").next(t=>pe.resolve(this.bs(t)))}Vs(e){return my(e).delete(this.clientId)}vs(){var e=this;return(0,_e.Z)(function*(){if(e.isPrimary&&!e.Ss(e.us,18e5)){e.us=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=Vr(r,"clientMetadata");return i.qt().next(u=>{const c=e.Ds(u,18e5),f=u.filter(y=>-1===c.indexOf(y));return pe.forEach(f,y=>i.delete(y.clientId)).next(()=>f)})}).catch(()=>[]);if(e.ws)for(const r of t)e.ws.removeItem(e.Cs(r.clientId))}})()}Is(){this.os=this.Yn.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.gs().then(()=>this.vs()).then(()=>this.Is()))}bs(e){return!!e&&e.ownerId===this.clientId}As(e){return this.Zn?pe.resolve(!0):xh(e).get("owner").next(t=>{if(null!==t&&this.Ss(t.leaseTimestampMs,5e3)&&!this.xs(t.ownerId)){if(this.bs(t)&&this.networkEnabled)return!0;if(!this.bs(t)){if(!t.allowTabSynchronization)throw new Me(ce.FAILED_PRECONDITION,w0);return!1}}return!(!this.networkEnabled||!this.inForeground)||my(e).qt().next(r=>void 0===this.Ds(r,5e3).find(i=>{if(this.clientId!==i.clientId){const c=!this.inForeground&&i.inForeground,f=this.networkEnabled===i.networkEnabled;if(!this.networkEnabled&&i.networkEnabled||c&&f)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&ke("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,_e.Z)(function*(){e.ns=!1,e.Ns(),e.os&&(e.os.cancel(),e.os=null),e.ks(),e.Ms(),yield e.ls.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new u0(t,Ei.A);return e.Rs(r).next(()=>e.Vs(r))}),e.ls.close(),e.Os()})()}Ds(e,t){return e.filter(r=>this.Ss(r.updateTimeMs,t)&&!this.xs(r.clientId))}Fs(){return this.runTransaction("getActiveClients","readonly",e=>my(e).qt().next(t=>this.Ds(t,18e5).map(r=>r.clientId)))}get started(){return this.ns}getMutationQueue(e,t){return p0.Yt(e,this.M,t,this.referenceDelegate)}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getIndexManager(e){return new pT(e,this.M.Jt.databaseId)}getDocumentOverlayCache(e){return uy.Yt(this.M,e)}getBundleCache(){return this._s}runTransaction(e,t,r){ke("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",u=14===(c=this.ts)?s0:13===c?ry:12===c?sT:11===c?r0:void et();var c;let f;return this.ls.runTransaction(e,i,u,y=>(f=new u0(y,this.es?this.es.next():Ei.A),"readwrite-primary"===t?this.Es(f).next(b=>!!b||this.As(f)).next(b=>{if(!b)throw ur(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)),new Me(ce.FAILED_PRECONDITION,oT);return r(f)}).next(b=>this.Ps(f).next(()=>b)):this.$s(f).next(()=>r(f)))).then(y=>(f.raiseOnCommittedEvent(),y))}$s(e){return xh(e).get("owner").next(t=>{if(null!==t&&this.Ss(t.leaseTimestampMs,5e3)&&!this.xs(t.ownerId)&&!this.bs(t)&&!(this.Zn||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Me(ce.FAILED_PRECONDITION,w0)})}Ps(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return xh(e).put("owner",t)}static vt(){return no.vt()}Rs(e){const t=xh(e);return t.get("owner").next(r=>this.bs(r)?(ke("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):pe.resolve())}Ss(e,t){const r=Date.now();return!(e<r-t||e>r&&(ur(`Detected an update time that is in the future: ${e} > ${r}`),1))}ys(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.rs=()=>{this.Yn.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.gs()))},this.document.addEventListener("visibilitychange",this.rs),this.inForeground="visible"===this.document.visibilityState)}ks(){this.rs&&(this.document.removeEventListener("visibilitychange",this.rs),this.rs=null)}ps(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ss=()=>{this.Ns(),(0,Yt.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Yn.enterRestrictedMode(!0),this.Yn.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ss))}Ms(){this.ss&&(this.window.removeEventListener("pagehide",this.ss),this.ss=null)}xs(e){var t;try{const r=null!==(null===(t=this.ws)||void 0===t?void 0:t.getItem(this.Cs(e)));return ke("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return ur("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ns(){if(this.ws)try{this.ws.setItem(this.Cs(this.clientId),String(Date.now()))}catch(e){ur("Failed to set zombie client id.",e)}}Os(){if(this.ws)try{this.ws.removeItem(this.Cs(this.clientId))}catch(e){}}Cs(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function xh(n){return Vr(n,"owner")}function my(n){return Vr(n,"clientMetadata")}function E0(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class MM{constructor(e,t,r){this.ds=e,this.Bs=t,this.indexManager=r}Ls(e,t){return this.Bs.getAllMutationBatchesAffectingDocumentKey(e,t).next(r=>this.Us(e,t,r))}Us(e,t,r){return this.ds.getEntry(e,t).next(i=>{for(const u of r)u.applyToLocalView(i);return i})}qs(e,t){e.forEach((r,i)=>{for(const u of t)u.applyToLocalView(i)})}Ks(e,t){return this.ds.getEntries(e,t).next(r=>this.Gs(e,r).next(()=>r))}Gs(e,t){return this.Bs.getAllMutationBatchesAffectingDocumentKeys(e,t).next(r=>this.qs(t,r))}Qs(e,t,r){return $e.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.js(e,t.path):Fv(t)?this.Ws(e,t,r):this.zs(e,t,r);var i}js(e,t){return this.Ls(e,new $e(t)).next(r=>{let i=zm();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}Ws(e,t,r){const i=t.collectionGroup;let u=zm();return this.indexManager.getCollectionParents(e,i).next(c=>pe.forEach(c,f=>{const y=(b=t,A=f.child(i),new No(A,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt));var b,A;return this.zs(e,y,r).next(b=>{b.forEach((A,M)=>{u=u.insert(A,M)})})}).next(()=>u))}zs(e,t,r){let i;return this.ds.getAllFromCollection(e,t.path,r).next(u=>(i=u,this.Bs.getAllMutationBatchesAffectingQuery(e,t))).next(u=>{for(const c of u)for(const f of c.mutations){const y=f.key;let b=i.get(y);null==b&&(b=Rn.newInvalidDocument(y),i=i.insert(y,b)),Hv(f,b,c.localWriteTime),b.isFoundDocument()||(i=i.remove(y))}}).next(()=>(i.forEach((u,c)=>{Bv(t,c)||(i=i.remove(u))}),i))}}class Yb{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Hs=r,this.Js=i}static Ys(e,t){let r=fn(),i=fn();for(const u of t.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:i=i.add(u.doc.key)}return new Yb(e,t.fromCache,r,i)}}class b0{Xs(e){this.Zs=e}Qs(e,t,r,i){return 0===(u=t).filters.length&&null===u.limit&&null==u.startAt&&null==u.endAt&&(0===u.explicitOrderBy.length||1===u.explicitOrderBy.length&&u.explicitOrderBy[0].field.isKeyField())||r.isEqual(It.min())?this.ti(e,t):this.Zs.Ks(e,i).next(u=>{const c=this.ei(t,u);return(fh(t)||Um(t))&&this.ni(t.limitType,c,i,r)?this.ti(e,t):(Mm()<=Xs.in.DEBUG&&ke("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),ab(t)),this.Zs.Qs(e,t,YE(r,-1)).next(f=>(c.forEach(y=>{f=f.insert(y.key,y)}),f)))});var u}ei(e,t){let r=new On(ub(e));return t.forEach((i,u)=>{Bv(e,u)&&(r=r.add(u))}),r}ni(e,t,r,i){if(r.size!==t.size)return!0;const u="F"===e?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(i)>0)}ti(e,t){return Mm()<=Xs.in.DEBUG&&ke("QueryEngine","Using full collection scan to execute query:",ab(t)),this.Zs.Qs(e,t,Ja.min())}}class wT{constructor(e,t,r,i){this.persistence=e,this.si=t,this.M=i,this.ii=new cr($t),this.ri=new al(u=>Tc(u),Sc),this.oi=new Map,this.ui=e.getRemoteDocumentCache(),this.fs=e.getTargetCache(),this._s=e.getBundleCache(),this.ai(r)}ai(e){this.indexManager=this.persistence.getIndexManager(e),this.Bs=this.persistence.getMutationQueue(e,this.indexManager),this.ci=new MM(this.ui,this.Bs,this.indexManager),this.ui.setIndexManager(this.indexManager),this.si.Xs(this.ci)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.ii))}}function Qb(n,e,t,r){return new wT(n,e,t,r)}function Jb(n,e){return Xb.apply(this,arguments)}function Xb(){return Xb=(0,_e.Z)(function*(n,e){const t=Ge(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.Bs.getAllMutationBatches(r).next(u=>(i=u,t.ai(e),t.Bs.getAllMutationBatches(r))).next(u=>{const c=[],f=[];let y=fn();for(const b of i){c.push(b.batchId);for(const A of b.mutations)y=y.add(A.key)}for(const b of u){f.push(b.batchId);for(const A of b.mutations)y=y.add(A.key)}return t.ci.Ks(r,y).next(b=>({hi:b,removedBatchIds:c,addedBatchIds:f}))})})}),Xb.apply(this,arguments)}function xM(n,e){const t=Ge(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),u=t.ui.newChangeBuffer({trackRemovals:!0});return function(c,f,y,b){const A=y.batch,M=A.keys();let F=pe.resolve();return M.forEach(B=>{F=F.next(()=>b.getEntry(f,B)).next(G=>{const te=y.docVersions.get(B);xt(null!==te),G.version.compareTo(te)<0&&(A.applyToRemoteDocument(G,y),G.isValidDocument()&&(G.setReadTime(y.commitVersion),b.addEntry(G)))})}),F.next(()=>c.Bs.removeMutationBatch(f,A))}(t,r,e,u).next(()=>u.apply(r)).next(()=>t.Bs.performConsistencyCheck(r)).next(()=>t.ci.Ks(r,i))})}function ET(n){const e=Ge(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.fs.getLastRemoteSnapshotVersion(t))}function RM(n,e){const t=Ge(n),r=e.snapshotVersion;let i=t.ii;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const c=t.ui.newChangeBuffer({trackRemovals:!0});i=t.ii;const f=[];e.targetChanges.forEach((b,A)=>{const M=i.get(A);if(!M)return;f.push(t.fs.removeMatchingKeys(u,b.removedDocuments,A).next(()=>t.fs.addMatchingKeys(u,b.addedDocuments,A)));let F=M.withSequenceNumber(u.currentSequenceNumber);var B,G,te;e.targetMismatches.has(A)?F=F.withResumeToken(Lr.EMPTY_BYTE_STRING,It.min()).withLastLimboFreeSnapshotVersion(It.min()):b.resumeToken.approximateByteSize()>0&&(F=F.withResumeToken(b.resumeToken,r)),i=i.insert(A,F),G=F,te=b,(0===(B=M).resumeToken.approximateByteSize()||G.snapshotVersion.toMicroseconds()-B.snapshotVersion.toMicroseconds()>=3e8||te.addedDocuments.size+te.modifiedDocuments.size+te.removedDocuments.size>0)&&f.push(t.fs.updateTargetData(u,F))});let y=Ds();if(e.documentUpdates.forEach(b=>{e.resolvedLimboDocuments.has(b)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(u,b))}),f.push(bT(u,c,e.documentUpdates).next(b=>{y=b})),!r.isEqual(It.min())){const b=t.fs.getLastRemoteSnapshotVersion(u).next(A=>t.fs.setTargetsMetadata(u,u.currentSequenceNumber,r));f.push(b)}return pe.waitFor(f).next(()=>c.apply(u)).next(()=>t.ci.Gs(u,y)).next(()=>y)}).then(u=>(t.ii=i,u))}function bT(n,e,t){let r=fn();return t.forEach(i=>r=r.add(i)),e.getEntries(n,r).next(i=>{let u=Ds();return t.forEach((c,f)=>{const y=i.get(c);f.isNoDocument()&&f.version.isEqual(It.min())?(e.removeEntry(c,f.readTime),u=u.insert(c,f)):!y.isValidDocument()||f.version.compareTo(y.version)>0||0===f.version.compareTo(y.version)&&y.hasPendingWrites?(e.addEntry(f),u=u.insert(c,f)):ke("LocalStore","Ignoring outdated watch update for ",c,". Current version:",y.version," Watch version:",f.version)}),u})}function DT(n,e){const t=Ge(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.Bs.getNextMutationBatchAfterBatchId(r,e)))}function nu(n,e){const t=Ge(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.fs.getTargetData(r,e).next(u=>u?(i=u,pe.resolve(i)):t.fs.allocateTargetId(r).next(c=>(i=new hl(e,c,0,r.currentSequenceNumber),t.fs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.ii.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.ii=t.ii.insert(r.targetId,r),t.ri.set(e,r.targetId)),r})}function Rh(n,e,t){return D0.apply(this,arguments)}function D0(){return D0=(0,_e.Z)(function*(n,e,t){const r=Ge(n),i=r.ii.get(e),u=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",u,c=>r.persistence.referenceDelegate.removeTarget(c,i)))}catch(c){if(!dl(c))throw c;ke("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}r.ii=r.ii.remove(e),r.ri.delete(i.target)}),D0.apply(this,arguments)}function xp(n,e,t){const r=Ge(n);let i=It.min(),u=fn();return r.persistence.runTransaction("Execute query","readonly",c=>function(f,y,b){const A=Ge(f),M=A.ri.get(b);return void 0!==M?pe.resolve(A.ii.get(M)):A.fs.getTargetData(y,b)}(r,c,to(e)).next(f=>{if(f)return i=f.lastLimboFreeSnapshotVersion,r.fs.getMatchingKeysForTargetId(c,f.targetId).next(y=>{u=y})}).next(()=>r.si.Qs(c,e,t?i:It.min(),t?u:fn())).next(f=>(yy(r,yp(e),f),{documents:f,li:u})))}function pl(n,e){const t=Ge(n),r=Ge(t.fs),i=t.ii.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",u=>r.Et(u,e).next(c=>c?c.target:null))}function C0(n,e){const t=Ge(n),r=t.oi.get(e)||It.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.ui.getAllFromCollectionGroup(i,e,YE(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(yy(t,e,i),i))}function yy(n,e,t){let r=It.min();t.forEach((i,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)}),n.oi.set(e,r)}function T0(){return T0=(0,_e.Z)(function*(n,e,t,r){const i=Ge(n);let u=fn(),c=Ds();for(const b of t){const A=e.fi(b.metadata.name);b.document&&(u=u.add(A));const M=e.di(b);M.setReadTime(e._i(b.metadata.readTime)),c=c.insert(A,M)}const f=i.ui.newChangeBuffer({trackRemovals:!0}),y=yield nu(i,(b=r,to(Mc(tn.fromString(`__bundle__/docs/${b}`)))));var b;return i.persistence.runTransaction("Apply bundle documents","readwrite",b=>bT(b,f,c).next(A=>(f.apply(b),A)).next(A=>i.fs.removeMatchingKeysForTargetId(b,y.targetId).next(()=>i.fs.addMatchingKeys(b,u,y.targetId)).next(()=>i.ci.Gs(b,A)).next(()=>A)))}),T0.apply(this,arguments)}function S0(n,e){return Rp.apply(this,arguments)}function Rp(){return Rp=(0,_e.Z)(function*(n,e,t=fn()){const r=yield nu(n,to(Bb(e.bundledQuery))),i=Ge(n);return i.persistence.runTransaction("Save named query","readwrite",u=>{const c=zr(e.readTime);if(r.snapshotVersion.compareTo(c)>=0)return i._s.saveNamedQuery(u,e);const f=r.withResumeToken(Lr.EMPTY_BYTE_STRING,c);return i.ii=i.ii.insert(f.targetId,f),i.fs.updateTargetData(u,f).next(()=>i.fs.removeMatchingKeysForTargetId(u,r.targetId)).next(()=>i.fs.addMatchingKeys(u,t,r.targetId)).next(()=>i._s.saveNamedQuery(u,e))})}),Rp.apply(this,arguments)}class _y{constructor(e){this.M=e,this.wi=new Map,this.mi=new Map}getBundleMetadata(e,t){return pe.resolve(this.wi.get(t))}saveBundleMetadata(e,t){var r;return this.wi.set(t.id,{id:(r=t).id,version:r.version,createTime:zr(r.createTime)}),pe.resolve()}getNamedQuery(e,t){return pe.resolve(this.mi.get(t))}saveNamedQuery(e,t){return this.mi.set(t.name,{name:(r=t).name,query:Bb(r.bundledQuery),readTime:zr(r.readTime)}),pe.resolve();var r}}class OM{constructor(){this.overlays=new cr($e.comparator),this.gi=new Map}getOverlay(e,t){return pe.resolve(this.overlays.get(t))}saveOverlays(e,t,r){return r.forEach((i,u)=>{this.Xt(e,t,u)}),pe.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.gi.get(r);return void 0!==i&&(i.forEach(u=>this.overlays=this.overlays.remove(u)),this.gi.delete(r)),pe.resolve()}getOverlaysForCollection(e,t,r){const i=vh(),u=t.length+1,c=new $e(t.child("")),f=this.overlays.getIteratorFrom(c);for(;f.hasNext();){const y=f.getNext().value,b=y.getKey();if(!t.isPrefixOf(b.path))break;b.path.length===u&&y.largestBatchId>r&&i.set(y.getKey(),y)}return pe.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let u=new cr((b,A)=>b-A);const c=this.overlays.getIterator();for(;c.hasNext();){const b=c.getNext().value;if(b.getKey().getCollectionGroup()===t&&b.largestBatchId>r){let A=u.get(b.largestBatchId);null===A&&(A=vh(),u=u.insert(b.largestBatchId,A)),A.set(b.getKey(),b)}}const f=vh(),y=u.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach((b,A)=>f.set(b,A)),!(f.size()>=i)););return pe.resolve(f)}Xt(e,t,r){if(null===r)return;const i=this.overlays.get(r.key);if(null!==i){const c=this.gi.get(i.largestBatchId).delete(r.key);this.gi.set(i.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new l0(t,r));let u=this.gi.get(t);void 0===u&&(u=fn(),this.gi.set(t,u)),this.gi.set(t,u.add(r.key))}}class eD{constructor(){this.yi=new On(ai.pi),this.Ii=new On(ai.Ti)}isEmpty(){return this.yi.isEmpty()}addReference(e,t){const r=new ai(e,t);this.yi=this.yi.add(r),this.Ii=this.Ii.add(r)}Ei(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Ai(new ai(e,t))}Ri(e,t){e.forEach(r=>this.removeReference(r,t))}Pi(e){const t=new $e(new tn([])),r=new ai(t,e),i=new ai(t,e+1),u=[];return this.Ii.forEachInRange([r,i],c=>{this.Ai(c),u.push(c.key)}),u}bi(){this.yi.forEach(e=>this.Ai(e))}Ai(e){this.yi=this.yi.delete(e),this.Ii=this.Ii.delete(e)}Vi(e){const t=new $e(new tn([])),r=new ai(t,e),i=new ai(t,e+1);let u=fn();return this.Ii.forEachInRange([r,i],c=>{u=u.add(c.key)}),u}containsKey(e){const t=new ai(e,0),r=this.yi.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class ai{constructor(e,t){this.key=e,this.vi=t}static pi(e,t){return $e.comparator(e.key,t.key)||$t(e.vi,t.vi)}static Ti(e,t){return $t(e.vi,t.vi)||$e.comparator(e.key,t.key)}}class NM{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.Bs=[],this.Si=1,this.Di=new On(ai.pi)}checkEmpty(e){return pe.resolve(0===this.Bs.length)}addMutationBatch(e,t,r,i){const u=this.Si;this.Si++;const c=new iy(u,t,r,i);this.Bs.push(c);for(const f of i)this.Di=this.Di.add(new ai(f.key,u)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return pe.resolve(c)}lookupMutationBatch(e,t){return pe.resolve(this.Ci(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.xi(t+1),u=i<0?0:i;return pe.resolve(this.Bs.length>u?this.Bs[u]:null)}getHighestUnacknowledgedBatchId(){return pe.resolve(0===this.Bs.length?-1:this.Si-1)}getAllMutationBatches(e){return pe.resolve(this.Bs.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new ai(t,0),i=new ai(t,Number.POSITIVE_INFINITY),u=[];return this.Di.forEachInRange([r,i],c=>{const f=this.Ci(c.vi);u.push(f)}),pe.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new On($t);return t.forEach(i=>{const u=new ai(i,0),c=new ai(i,Number.POSITIVE_INFINITY);this.Di.forEachInRange([u,c],f=>{r=r.add(f.vi)})}),pe.resolve(this.Ni(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let u=r;$e.isDocumentKey(u)||(u=u.child(""));const c=new ai(new $e(u),0);let f=new On($t);return this.Di.forEachWhile(y=>{const b=y.key.path;return!!r.isPrefixOf(b)&&(b.length===i&&(f=f.add(y.vi)),!0)},c),pe.resolve(this.Ni(f))}Ni(e){const t=[];return e.forEach(r=>{const i=this.Ci(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){xt(0===this.ki(t.batchId,"removed")),this.Bs.shift();let r=this.Di;return pe.forEach(t.mutations,i=>{const u=new ai(i.key,t.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Di=r})}_n(e){}containsKey(e,t){const r=new ai(t,0),i=this.Di.firstAfterOrEqual(r);return pe.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return pe.resolve()}ki(e,t){return this.xi(e)}xi(e){return 0===this.Bs.length?0:e-this.Bs[0].batchId}Ci(e){const t=this.xi(e);return t<0||t>=this.Bs.length?null:this.Bs[t]}}class tD{constructor(e){this.Mi=e,this.docs=new cr($e.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),u=i?i.size:0,c=this.Mi(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:c}),this.size+=c-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return pe.resolve(r?r.document.mutableCopy():Rn.newInvalidDocument(t))}getEntries(e,t){let r=Ds();return t.forEach(i=>{const u=this.docs.get(i);r=r.insert(i,u?u.document.mutableCopy():Rn.newInvalidDocument(i))}),pe.resolve(r)}getAllFromCollection(e,t,r){let i=Ds();const u=new $e(t.child("")),c=this.docs.getIteratorFrom(u);for(;c.hasNext();){const{key:f,value:{document:y}}=c.getNext();if(!t.isPrefixOf(f.path))break;f.path.length>t.length+1||QE(kv(y),r)<=0||(i=i.insert(y.key,y.mutableCopy()))}return pe.resolve(i)}getAllFromCollectionGroup(e,t,r,i){et()}Oi(e,t){return pe.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new CT(this)}getSize(e){return pe.resolve(this.size)}}class CT extends Kb{constructor(e){super(),this.Kn=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Kn.addEntry(e,i)):this.Kn.removeEntry(r)}),pe.waitFor(t)}getFromCache(e,t){return this.Kn.getEntry(e,t)}getAllFromCache(e,t){return this.Kn.getEntries(e,t)}}class IT{constructor(e){this.persistence=e,this.Fi=new al(t=>Tc(t),Sc),this.lastRemoteSnapshotVersion=It.min(),this.highestTargetId=0,this.$i=0,this.Bi=new eD,this.targetCount=0,this.Li=fl.gn()}forEachTarget(e,t){return this.Fi.forEach((r,i)=>t(i)),pe.resolve()}getLastRemoteSnapshotVersion(e){return pe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return pe.resolve(this.$i)}allocateTargetId(e){return this.highestTargetId=this.Li.next(),pe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.$i&&(this.$i=t),pe.resolve()}Tn(e){this.Fi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Li=new fl(t),this.highestTargetId=t),e.sequenceNumber>this.$i&&(this.$i=e.sequenceNumber)}addTargetData(e,t){return this.Tn(t),this.targetCount+=1,pe.resolve()}updateTargetData(e,t){return this.Tn(t),pe.resolve()}removeTargetData(e,t){return this.Fi.delete(t.target),this.Bi.Pi(t.targetId),this.targetCount-=1,pe.resolve()}removeTargets(e,t,r){let i=0;const u=[];return this.Fi.forEach((c,f)=>{f.sequenceNumber<=t&&null===r.get(f.targetId)&&(this.Fi.delete(c),u.push(this.removeMatchingKeysForTargetId(e,f.targetId)),i++)}),pe.waitFor(u).next(()=>i)}getTargetCount(e){return pe.resolve(this.targetCount)}getTargetData(e,t){const r=this.Fi.get(t)||null;return pe.resolve(r)}addMatchingKeys(e,t,r){return this.Bi.Ei(t,r),pe.resolve()}removeMatchingKeys(e,t,r){this.Bi.Ri(t,r);const i=this.persistence.referenceDelegate,u=[];return i&&t.forEach(c=>{u.push(i.markPotentiallyOrphaned(e,c))}),pe.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.Bi.Pi(t),pe.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Bi.Vi(t);return pe.resolve(r)}containsKey(e,t){return pe.resolve(this.Bi.containsKey(t))}}class TT{constructor(e,t){this.Ui={},this.overlays={},this.es=new Ei(0),this.ns=!1,this.ns=!0,this.referenceDelegate=e(this),this.fs=new IT(this),this.indexManager=new SM,this.ds=new tD(r=>this.referenceDelegate.qi(r)),this.M=new lT(t),this._s=new _y(this.M)}start(){return Promise.resolve()}shutdown(){return this.ns=!1,Promise.resolve()}get started(){return this.ns}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new OM,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Ui[e.toKey()];return r||(r=new NM(t,this.referenceDelegate),this.Ui[e.toKey()]=r),r}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getBundleCache(){return this._s}runTransaction(e,t,r){ke("MemoryPersistence","Starting transaction:",e);const i=new ST(this.es.next());return this.referenceDelegate.Ki(),r(i).next(u=>this.referenceDelegate.Gi(i).next(()=>u)).toPromise().then(u=>(i.raiseOnCommittedEvent(),u))}Qi(e,t){return pe.or(Object.values(this.Ui).map(r=>()=>r.containsKey(e,t)))}}class ST extends Lb{constructor(e){super(),this.currentSequenceNumber=e}}class vy{constructor(e){this.persistence=e,this.ji=new eD,this.Wi=null}static zi(e){return new vy(e)}get Hi(){if(this.Wi)return this.Wi;throw et()}addReference(e,t,r){return this.ji.addReference(r,t),this.Hi.delete(r.toString()),pe.resolve()}removeReference(e,t,r){return this.ji.removeReference(r,t),this.Hi.add(r.toString()),pe.resolve()}markPotentiallyOrphaned(e,t){return this.Hi.add(t.toString()),pe.resolve()}removeTarget(e,t){this.ji.Pi(t.targetId).forEach(i=>this.Hi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(u=>this.Hi.add(u.toString()))}).next(()=>r.removeTargetData(e,t))}Ki(){this.Wi=new Set}Gi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return pe.forEach(this.Hi,r=>{const i=$e.fromPath(r);return this.Ji(e,i).next(u=>{u||t.removeEntry(i,It.min())})}).next(()=>(this.Wi=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ji(e,t).next(r=>{r?this.Hi.delete(t.toString()):this.Hi.add(t.toString())})}qi(e){return 0}Ji(e,t){return pe.or([()=>pe.resolve(this.ji.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Qi(e,t)])}}function A0(n,e){return`firestore_clients_${n}_${e}`}function M0(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function x0(n,e){return`firestore_targets_${n}_${e}`}class wy{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static Yi(e,t,r){const i=JSON.parse(r);let u,c="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return c&&i.error&&(c="string"==typeof i.error.message&&"string"==typeof i.error.code,c&&(u=new Me(i.error.code,i.error.message))),c?new wy(e,t,i.state,u):(ur("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}Xi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Oh{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Yi(e,t){const r=JSON.parse(t);let i,u="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return u&&r.error&&(u="string"==typeof r.error.message&&"string"==typeof r.error.code,u&&(i=new Me(r.error.code,r.error.message))),u?new Oh(e,r.state,i):(ur("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Xi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Nh{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Yi(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,u=Wm();for(let c=0;i&&c<r.activeTargetIds.length;++c)i=Av(r.activeTargetIds[c]),u=u.add(r.activeTargetIds[c]);return i?new Nh(e,u):(ur("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class nD{constructor(e,t){this.clientId=e,this.onlineState=t}static Yi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new nD(t.clientId,t.onlineState):(ur("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Ey{constructor(){this.activeTargetIds=Wm()}Zi(e){this.activeTargetIds=this.activeTargetIds.add(e)}tr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Xi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Op{constructor(e,t,r,i,u){this.window=e,this.Yn=t,this.persistenceKey=r,this.er=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.nr=this.sr.bind(this),this.ir=new cr($t),this.started=!1,this.rr=[];const c=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=u,this.ur=A0(this.persistenceKey,this.er),this.ar=`firestore_sequence_number_${this.persistenceKey}`,this.ir=this.ir.insert(this.er,new Ey),this.cr=new RegExp(`^firestore_clients_${c}_([^_]*)$`),this.hr=new RegExp(`^firestore_mutations_${c}_(\\d+)(?:_(.*))?$`),this.lr=new RegExp(`^firestore_targets_${c}_(\\d+)$`),this.dr=`firestore_online_state_${this.persistenceKey}`,this._r=function(f){return`firestore_bundle_loaded_v2_${f}`}(this.persistenceKey),this.window.addEventListener("storage",this.nr)}static vt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,_e.Z)(function*(){const t=yield e.syncEngine.Fs();for(const i of t){if(i===e.er)continue;const u=e.getItem(A0(e.persistenceKey,i));if(u){const c=Nh.Yi(i,u);c&&(e.ir=e.ir.insert(c.clientId,c))}}e.wr();const r=e.storage.getItem(e.dr);if(r){const i=e.mr(r);i&&e.gr(i)}for(const i of e.rr)e.sr(i);e.rr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ar,JSON.stringify(e))}getAllActiveQueryTargets(){return this.yr(this.ir)}isActiveQueryTarget(e){let t=!1;return this.ir.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.pr(e,"pending")}updateMutationState(e,t,r){this.pr(e,t,r),this.Ir(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(x0(this.persistenceKey,e));if(r){const i=Oh.Yi(e,r);i&&(t=i.state)}}return this.Tr.Zi(e),this.wr(),t}removeLocalQueryTarget(e){this.Tr.tr(e),this.wr()}isLocalQueryTarget(e){return this.Tr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(x0(this.persistenceKey,e))}updateQueryState(e,t,r){this.Er(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.Ir(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Ar(e)}notifyBundleLoaded(e){this.Rr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.nr),this.removeItem(this.ur),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return ke("SharedClientState","READ",e,t),t}setItem(e,t){ke("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){ke("SharedClientState","REMOVE",e),this.storage.removeItem(e)}sr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(ke("SharedClientState","EVENT",r.key,r.newValue),r.key===this.ur)return void ur("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Yn.enqueueRetryable((0,_e.Z)(function*(){if(t.started){if(null!==r.key)if(t.cr.test(r.key)){if(null==r.newValue){const i=t.Pr(r.key);return t.br(i,null)}{const i=t.Vr(r.key,r.newValue);if(i)return t.br(i.clientId,i)}}else if(t.hr.test(r.key)){if(null!==r.newValue){const i=t.vr(r.key,r.newValue);if(i)return t.Sr(i)}}else if(t.lr.test(r.key)){if(null!==r.newValue){const i=t.Dr(r.key,r.newValue);if(i)return t.Cr(i)}}else if(r.key===t.dr){if(null!==r.newValue){const i=t.mr(r.newValue);if(i)return t.gr(i)}}else if(r.key===t.ar){const i=function(u){let c=Ei.A;if(null!=u)try{const f=JSON.parse(u);xt("number"==typeof f),c=f}catch(f){ur("SharedClientState","Failed to read sequence number from WebStorage",f)}return c}(r.newValue);i!==Ei.A&&t.sequenceNumberHandler(i)}else if(r.key===t._r){const i=t.Nr(r.newValue);yield Promise.all(i.map(u=>t.syncEngine.kr(u)))}}else t.rr.push(r)}))}}get Tr(){return this.ir.get(this.er)}wr(){this.setItem(this.ur,this.Tr.Xi())}pr(e,t,r){const i=new wy(this.currentUser,e,t,r),u=M0(this.persistenceKey,this.currentUser,e);this.setItem(u,i.Xi())}Ir(e){const t=M0(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Ar(e){this.storage.setItem(this.dr,JSON.stringify({clientId:this.er,onlineState:e}))}Er(e,t,r){const i=x0(this.persistenceKey,e),u=new Oh(e,t,r);this.setItem(i,u.Xi())}Rr(e){const t=JSON.stringify(Array.from(e));this.setItem(this._r,t)}Pr(e){const t=this.cr.exec(e);return t?t[1]:null}Vr(e,t){const r=this.Pr(e);return Nh.Yi(r,t)}vr(e,t){const r=this.hr.exec(e),i=Number(r[1]);return wy.Yi(new qr(void 0!==r[2]?r[2]:null),i,t)}Dr(e,t){const r=this.lr.exec(e),i=Number(r[1]);return Oh.Yi(i,t)}mr(e){return nD.Yi(e)}Nr(e){return JSON.parse(e)}Sr(e){var t=this;return(0,_e.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Mr(e.batchId,e.state,e.error);ke("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Cr(e){return this.syncEngine.Or(e.targetId,e.state,e.error)}br(e,t){const r=t?this.ir.insert(e,t):this.ir.remove(e),i=this.yr(this.ir),u=this.yr(r),c=[],f=[];return u.forEach(y=>{i.has(y)||c.push(y)}),i.forEach(y=>{u.has(y)||f.push(y)}),this.syncEngine.Fr(c,f).then(()=>{this.ir=r})}gr(e){this.ir.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}yr(e){let t=Wm();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class rD{constructor(){this.$r=new Ey,this.Br={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.$r.Zi(e),this.Br[e]||"not-current"}updateQueryState(e,t,r){this.Br[e]=t}removeLocalQueryTarget(e){this.$r.tr(e)}isLocalQueryTarget(e){return this.$r.activeTargetIds.has(e)}clearQueryState(e){delete this.Br[e]}getAllActiveQueryTargets(){return this.$r.activeTargetIds}isActiveQueryTarget(e){return this.$r.activeTargetIds.has(e)}start(){return this.$r=new Ey,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class AT{Lr(e){}shutdown(){}}class MT{constructor(){this.Ur=()=>this.qr(),this.Kr=()=>this.Gr(),this.Qr=[],this.jr()}Lr(e){this.Qr.push(e)}shutdown(){window.removeEventListener("online",this.Ur),window.removeEventListener("offline",this.Kr)}jr(){window.addEventListener("online",this.Ur),window.addEventListener("offline",this.Kr)}qr(){ke("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Qr)e(0)}Gr(){ke("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Qr)e(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const kM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class PM{constructor(e){this.Wr=e.Wr,this.zr=e.zr}Hr(e){this.Jr=e}Yr(e){this.Xr=e}onMessage(e){this.Zr=e}close(){this.zr()}send(e){this.Wr(e)}eo(){this.Jr()}no(e){this.Xr(e)}so(e){this.Zr(e)}}class xT extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.io=(e.ssl?"https":"http")+"://"+e.host,this.ro="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}oo(e,t,r,i,u){const c=this.uo(e,t);ke("RestConnection","Sending: ",c,r);const f={};return this.ao(f,i,u),this.co(e,c,f,r).then(y=>(ke("RestConnection","Received: ",y),y),y=>{throw ah("RestConnection",`${e} failed with error: `,y,"url: ",c,"request:",r),y})}ho(e,t,r,i,u){return this.oo(e,t,r,i,u)}ao(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+wc,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,u)=>e[u]=i),r&&r.headers.forEach((i,u)=>e[u]=i)}uo(e,t){return`${this.io}/v1/${t}:${kM[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}co(e,t,r,i){return new Promise((u,c)=>{const f=new $E;f.listenOnce(wI.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case bv.NO_ERROR:const b=f.getResponseJson();ke("Connection","XHR received:",JSON.stringify(b)),u(b);break;case bv.TIMEOUT:ke("Connection",'RPC "'+e+'" timed out'),c(new Me(ce.DEADLINE_EXCEEDED,"Request time out"));break;case bv.HTTP_ERROR:const A=f.getStatus();if(ke("Connection",'RPC "'+e+'" failed with status:',A,"response text:",f.getResponseText()),A>0){const M=f.getResponseJson().error;if(M&&M.status&&M.message){const F=function(B){const G=B.toLowerCase().replace(/_/g,"-");return Object.values(ce).indexOf(G)>=0?G:ce.UNKNOWN}(M.status);c(new Me(F,M.message))}else c(new Me(ce.UNKNOWN,"Server responded with status "+f.getStatus()))}else c(new Me(ce.UNAVAILABLE,"Connection failed."));break;default:et()}}finally{ke("Connection",'RPC "'+e+'" completed.')}});const y=JSON.stringify(i);f.send(t,"POST",y,r,15)})}lo(e,t,r){const i=[this.io,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=_I(),c=vI(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(f.xmlHttpFactory=new bI({})),this.ao(f.initMessageHeaders,t,r),(0,Yt.uI)()||(0,Yt.b$)()||(0,Yt.d)()||(0,Yt.w1)()||(0,Yt.Mn)()||(0,Yt.ru)()||(f.httpHeadersOverwriteParam="$httpHeaders");const y=i.join("");ke("Connection","Creating WebChannel: "+y,f);const b=u.createWebChannel(y,f);let A=!1,M=!1;const F=new PM({Wr:G=>{M?ke("Connection","Not sending because WebChannel is closed:",G):(A||(ke("Connection","Opening WebChannel transport."),b.open(),A=!0),ke("Connection","WebChannel sending:",G),b.send(G))},zr:()=>b.close()}),B=(G,te,Ee)=>{G.listen(te,We=>{try{Ee(We)}catch(Ze){setTimeout(()=>{throw Ze},0)}})};return B(b,Am.EventType.OPEN,()=>{M||ke("Connection","WebChannel transport opened.")}),B(b,Am.EventType.CLOSE,()=>{M||(M=!0,ke("Connection","WebChannel transport closed"),F.no())}),B(b,Am.EventType.ERROR,G=>{M||(M=!0,ah("Connection","WebChannel transport errored:",G),F.no(new Me(ce.UNAVAILABLE,"The operation could not be completed")))}),B(b,Am.EventType.MESSAGE,G=>{var te;if(!M){const Ee=G.data[0];xt(!!Ee);const We=Ee,Ze=We.error||(null===(te=We[0])||void 0===te?void 0:te.error);if(Ze){ke("Connection","WebChannel received error:",Ze);const Ue=Ze.status;let Xe=function(Tt){const Ht=Cr[Tt];if(void 0!==Ht)return pb(Ht)}(Ue),vt=Ze.message;void 0===Xe&&(Xe=ce.INTERNAL,vt="Unknown error status: "+Ue+" with message "+Ze.message),M=!0,F.no(new Me(Xe,vt)),b.close()}else ke("Connection","WebChannel received:",Ee),F.so(Ee)}}),B(c,EI.STAT_EVENT,G=>{G.stat===jE.PROXY?ke("Connection","Detected buffering proxy"):G.stat===jE.NOPROXY&&ke("Connection","Detected no buffering proxy")}),setTimeout(()=>{F.eo()},0),F}}function iD(){return"undefined"!=typeof window?window:null}function R0(){return"undefined"!=typeof document?document:null}function by(n){return new YI(n,!0)}class sD{constructor(e,t,r=1e3,i=1.5,u=6e4){this.Yn=e,this.timerId=t,this.fo=r,this._o=i,this.wo=u,this.mo=0,this.yo=null,this.po=Date.now(),this.reset()}reset(){this.mo=0}Io(){this.mo=this.wo}To(e){this.cancel();const t=Math.floor(this.mo+this.Eo()),r=Math.max(0,Date.now()-this.po),i=Math.max(0,t-r);i>0&&ke("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.mo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.yo=this.Yn.enqueueAfterDelay(this.timerId,i,()=>(this.po=Date.now(),e())),this.mo*=this._o,this.mo<this.fo&&(this.mo=this.fo),this.mo>this.wo&&(this.mo=this.wo)}Ao(){null!==this.yo&&(this.yo.skipDelay(),this.yo=null)}cancel(){null!==this.yo&&(this.yo.cancel(),this.yo=null)}Eo(){return(Math.random()-.5)*this.mo}}class RT{constructor(e,t,r,i,u,c,f,y){this.Yn=e,this.Ro=r,this.Po=i,this.bo=u,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=f,this.listener=y,this.state=0,this.Vo=0,this.vo=null,this.So=null,this.stream=null,this.Do=new sD(e,t)}Co(){return 1===this.state||5===this.state||this.xo()}xo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.No()}stop(){var e=this;return(0,_e.Z)(function*(){e.Co()&&(yield e.close(0))})()}ko(){this.state=0,this.Do.reset()}Mo(){this.xo()&&null===this.vo&&(this.vo=this.Yn.enqueueAfterDelay(this.Ro,6e4,()=>this.Oo()))}Fo(e){this.$o(),this.stream.send(e)}Oo(){var e=this;return(0,_e.Z)(function*(){if(e.xo())return e.close(0)})()}$o(){this.vo&&(this.vo.cancel(),this.vo=null)}Bo(){this.So&&(this.So.cancel(),this.So=null)}close(e,t){var r=this;return(0,_e.Z)(function*(){r.$o(),r.Bo(),r.Do.cancel(),r.Vo++,4!==e?r.Do.reset():t&&t.code===ce.RESOURCE_EXHAUSTED?(ur(t.toString()),ur("Using maximum backoff delay to prevent overloading the backend."),r.Do.Io()):t&&t.code===ce.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Lo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Yr(t)})()}Lo(){}auth(){this.state=1;const e=this.Uo(this.Vo),t=this.Vo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Vo===t&&this.qo(r,i)},r=>{e(()=>{const i=new Me(ce.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Ko(i)})})}qo(e,t){const r=this.Uo(this.Vo);this.stream=this.Go(e,t),this.stream.Hr(()=>{r(()=>(this.state=2,this.So=this.Yn.enqueueAfterDelay(this.Po,1e4,()=>(this.xo()&&(this.state=3),Promise.resolve())),this.listener.Hr()))}),this.stream.Yr(i=>{r(()=>this.Ko(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}No(){var e=this;this.state=5,this.Do.To((0,_e.Z)(function*(){e.state=0,e.start()}))}Ko(e){return ke("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Uo(e){return t=>{this.Yn.enqueueAndForget(()=>this.Vo===e?t():(ke("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class FM extends RT{constructor(e,t,r,i,u,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,c),this.M=u}Go(e,t){return this.bo.lo("Listen",e,t)}onMessage(e){this.Do.reset();const t=function Qv(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(y=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===y?1:"REMOVE"===y?2:"CURRENT"===y?3:"RESET"===y?4:et(),i=e.targetChange.targetIds||[],u=function(y,b){return y.N?(xt(void 0===b||"string"==typeof b),Lr.fromBase64String(b||"")):(xt(void 0===b||b instanceof Uint8Array),Lr.fromUint8Array(b||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,f=c&&function(y){const b=void 0===y.code?ce.UNKNOWN:pb(y.code);return new Me(b,y.message||"")}(c);t=new Km(r,i,u,f||null)}else if("documentChange"in e){const r=e.documentChange,i=Po(n,r.document.name),u=zr(r.document.updateTime),c=new bi({mapValue:{fields:r.document.fields}}),f=Rn.newFoundDocument(i,u,c);t=new ul(r.targetIds||[],r.removedTargetIds||[],f.key,f)}else if("documentDelete"in e){const r=e.documentDelete,i=Po(n,r.document),u=r.readTime?zr(r.readTime):It.min(),c=Rn.newNoDocument(i,u);t=new ul([],r.removedTargetIds||[],c.key,c)}else if("documentRemove"in e){const r=e.documentRemove,i=Po(n,r.document);t=new ul([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return et();{const r=e.filter,u=new zv(r.count||0);t=new wb(r.targetId,u)}}var y;return t}(this.M,e),r=function(i){if(!("targetChange"in i))return It.min();const u=i.targetChange;return u.targetIds&&u.targetIds.length?It.min():u.readTime?zr(u.readTime):It.min()}(e);return this.listener.Qo(t,r)}jo(e){const t={};t.database=Qm(this.M),t.addTarget=function(i,u){let c;const f=u.target;return c=Vm(f)?{documents:bb(i,f)}:{query:Xv(i,f)},c.targetId=u.targetId,u.resumeToken.approximateByteSize()>0?c.resumeToken=bp(i,u.resumeToken):u.snapshotVersion.compareTo(It.min())>0&&(c.readTime=ll(i,u.snapshotVersion.toTimestamp())),c}(this.M,e);const r=function Db(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return et()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Fo(t)}Wo(e){const t={};t.database=Qm(this.M),t.removeTarget=e,this.Fo(t)}}class OT extends RT{constructor(e,t,r,i,u,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,c),this.M=u,this.zo=!1}get Ho(){return this.zo}start(){this.zo=!1,this.lastStreamToken=void 0,super.start()}Lo(){this.zo&&this.Jo([])}Go(e,t){return this.bo.lo("Write",e,t)}onMessage(e){if(xt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.zo){this.Do.reset();const t=function JI(n,e){return n&&n.length>0?(xt(void 0!==e),n.map(t=>function(r,i){let u=zr(r.updateTime?r.updateTime:i);return u.isEqual(It.min())&&(u=zr(i)),new HI(u,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=zr(e.commitTime);return this.listener.Yo(r,t)}return xt(!e.writeResults||0===e.writeResults.length),this.zo=!0,this.listener.Xo()}Zo(){const e={};e.database=Qm(this.M),this.Fo(e)}Jo(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>Dp(this.M,r))};this.Fo(t)}}class LM extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.bo=r,this.M=i,this.tu=!1}eu(){if(this.tu)throw new Me(ce.FAILED_PRECONDITION,"The client has already been terminated.")}oo(e,t,r){return this.eu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,u])=>this.bo.oo(e,t,r,i,u)).catch(i=>{throw"FirebaseError"===i.name?(i.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Me(ce.UNKNOWN,i.toString())})}ho(e,t,r){return this.eu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,u])=>this.bo.ho(e,t,r,i,u)).catch(i=>{throw"FirebaseError"===i.name?(i.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Me(ce.UNKNOWN,i.toString())})}terminate(){this.tu=!0}}class VM{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.nu=0,this.su=null,this.iu=!0}ru(){0===this.nu&&(this.ou("Unknown"),this.su=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.su=null,this.uu("Backend didn't respond within 10 seconds."),this.ou("Offline"),Promise.resolve())))}au(e){"Online"===this.state?this.ou("Unknown"):(this.nu++,this.nu>=1&&(this.cu(),this.uu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ou("Offline")))}set(e){this.cu(),this.nu=0,"Online"===e&&(this.iu=!1),this.ou(e)}ou(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}uu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.iu?(ur(t),this.iu=!1):ke("OnlineStateTracker",t)}cu(){null!==this.su&&(this.su.cancel(),this.su=null)}}class BM{constructor(e,t,r,i,u){var c=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.hu=[],this.lu=new Map,this.fu=new Set,this.du=[],this._u=u,this._u.Lr(f=>{r.enqueueAndForget((0,_e.Z)(function*(){var y;T(c)&&(ke("RemoteStore","Restarting streams for network reachability change."),yield(y=(0,_e.Z)(function*(b){const A=Ge(b);A.fu.add(4),yield o(A),A.wu.set("Unknown"),A.fu.delete(4),yield Dy(A)}),function(b){return y.apply(this,arguments)})(c))}))}),this.wu=new VM(r,i)}}function Dy(n){return s.apply(this,arguments)}function s(){return s=(0,_e.Z)(function*(n){if(T(n))for(const e of n.du)yield e(!0)}),s.apply(this,arguments)}function o(n){return a.apply(this,arguments)}function a(){return a=(0,_e.Z)(function*(n){for(const e of n.du)yield e(!1)}),a.apply(this,arguments)}function l(n,e){const t=Ge(n);t.lu.has(e.targetId)||(t.lu.set(e.targetId,e),D(t)?E(t):Ty(t).xo()&&g(t,e))}function d(n,e){const t=Ge(n),r=Ty(t);t.lu.delete(e),r.xo()&&v(t,e),0===t.lu.size&&(r.xo()?r.Mo():T(t)&&t.wu.set("Unknown"))}function g(n,e){n.mu.Z(e.targetId),Ty(n).jo(e)}function v(n,e){n.mu.Z(e),Ty(n).Wo(e)}function E(n){n.mu=new WI({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.lu.get(e)||null}),Ty(n).start(),n.wu.ru()}function D(n){return T(n)&&!Ty(n).Co()&&n.lu.size>0}function T(n){return 0===Ge(n).fu.size}function x(n){n.mu=void 0}function P(n){return U.apply(this,arguments)}function U(){return U=(0,_e.Z)(function*(n){n.lu.forEach((e,t)=>{g(n,e)})}),U.apply(this,arguments)}function Z(n,e){return ye.apply(this,arguments)}function ye(){return ye=(0,_e.Z)(function*(n,e){x(n),D(n)?(n.wu.au(e),E(n)):n.wu.set("Unknown")}),ye.apply(this,arguments)}function Pe(n,e,t){return je.apply(this,arguments)}function je(){return je=(0,_e.Z)(function*(n,e,t){if(n.wu.set("Online"),e instanceof Km&&2===e.state&&e.cause)try{yield(r=(0,_e.Z)(function*(i,u){const c=u.cause;for(const f of u.targetIds)i.lu.has(f)&&(yield i.remoteSyncer.rejectListen(f,c),i.lu.delete(f),i.mu.removeTarget(f))}),function(i,u){return r.apply(this,arguments)})(n,e)}catch(r){ke("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield tt(n,r)}else if(e instanceof ul?n.mu.ut(e):e instanceof wb?n.mu._t(e):n.mu.ht(e),!t.isEqual(It.min()))try{const r=yield ET(n.localStore);t.compareTo(r)>=0&&(yield function(i,u){const c=i.mu.yt(u);return c.targetChanges.forEach((f,y)=>{if(f.resumeToken.approximateByteSize()>0){const b=i.lu.get(y);b&&i.lu.set(y,b.withResumeToken(f.resumeToken,u))}}),c.targetMismatches.forEach(f=>{const y=i.lu.get(f);if(!y)return;i.lu.set(f,y.withResumeToken(Lr.EMPTY_BYTE_STRING,y.snapshotVersion)),v(i,f);const b=new hl(y.target,f,1,y.sequenceNumber);g(i,b)}),i.remoteSyncer.applyRemoteEvent(c)}(n,t))}catch(r){ke("RemoteStore","Failed to raise snapshot:",r),yield tt(n,r)}var r}),je.apply(this,arguments)}function tt(n,e,t){return Ce.apply(this,arguments)}function Ce(){return Ce=(0,_e.Z)(function*(n,e,t){if(!dl(e))throw e;n.fu.add(1),yield o(n),n.wu.set("Offline"),t||(t=()=>ET(n.localStore)),n.asyncQueue.enqueueRetryable((0,_e.Z)(function*(){ke("RemoteStore","Retrying IndexedDB access"),yield t(),n.fu.delete(1),yield Dy(n)}))}),Ce.apply(this,arguments)}function gt(n,e){return e().catch(t=>tt(n,t,e))}function Ut(n){return cn.apply(this,arguments)}function cn(){return cn=(0,_e.Z)(function*(n){const e=Ge(n),t=kh(e);let r=e.hu.length>0?e.hu[e.hu.length-1].batchId:-1;for(;Cs(e);)try{const i=yield DT(e.localStore,r);if(null===i){0===e.hu.length&&t.Mo();break}r=i.batchId,Vc(e,i)}catch(i){yield tt(e,i)}Cy(e)&&Iy(e)}),cn.apply(this,arguments)}function Cs(n){return T(n)&&n.hu.length<10}function Vc(n,e){n.hu.push(e);const t=kh(n);t.xo()&&t.Ho&&t.Jo(e.mutations)}function Cy(n){return T(n)&&!kh(n).Co()&&n.hu.length>0}function Iy(n){kh(n).start()}function O0(n){return Np.apply(this,arguments)}function Np(){return Np=(0,_e.Z)(function*(n){kh(n).Zo()}),Np.apply(this,arguments)}function N0(n){return kp.apply(this,arguments)}function kp(){return kp=(0,_e.Z)(function*(n){const e=kh(n);for(const t of n.hu)e.Jo(t.mutations)}),kp.apply(this,arguments)}function k0(n,e,t){return Pp.apply(this,arguments)}function Pp(){return Pp=(0,_e.Z)(function*(n,e,t){const r=n.hu.shift(),i=sy.from(r,e,t);yield gt(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Ut(n)}),Pp.apply(this,arguments)}function P0(n,e){return NT.apply(this,arguments)}function NT(){return NT=(0,_e.Z)(function*(n,e){var t;e&&kh(n).Ho&&(yield(t=(0,_e.Z)(function*(r,i){if(fb(u=i.code)&&u!==ce.ABORTED){const c=r.hu.shift();kh(r).ko(),yield gt(r,()=>r.remoteSyncer.rejectFailedWrite(c.batchId,i)),yield Ut(r)}var u}),function(r,i){return t.apply(this,arguments)})(n,e)),Cy(n)&&Iy(n)}),NT.apply(this,arguments)}function UM(n,e){return kT.apply(this,arguments)}function kT(){return kT=(0,_e.Z)(function*(n,e){const t=Ge(n);t.asyncQueue.verifyOperationInProgress(),ke("RemoteStore","RemoteStore received new credentials");const r=T(t);t.fu.add(3),yield o(t),r&&t.wu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.fu.delete(3),yield Dy(t)}),kT.apply(this,arguments)}function PT(n,e){return FT.apply(this,arguments)}function FT(){return FT=(0,_e.Z)(function*(n,e){const t=Ge(n);e?(t.fu.delete(2),yield Dy(t)):e||(t.fu.add(2),yield o(t),t.wu.set("Unknown"))}),FT.apply(this,arguments)}function Ty(n){return n.gu||(n.gu=function(e,t,r){const i=Ge(e);return i.eu(),new FM(t,i.bo,i.authCredentials,i.appCheckCredentials,i.M,r)}(n.datastore,n.asyncQueue,{Hr:P.bind(null,n),Yr:Z.bind(null,n),Qo:Pe.bind(null,n)}),n.du.push(function(){var e=(0,_e.Z)(function*(t){t?(n.gu.ko(),D(n)?E(n):n.wu.set("Unknown")):(yield n.gu.stop(),x(n))});return function(t){return e.apply(this,arguments)}}())),n.gu}function kh(n){return n.yu||(n.yu=function(e,t,r){const i=Ge(e);return i.eu(),new OT(t,i.bo,i.authCredentials,i.appCheckCredentials,i.M,r)}(n.datastore,n.asyncQueue,{Hr:O0.bind(null,n),Yr:P0.bind(null,n),Xo:N0.bind(null,n),Yo:k0.bind(null,n)}),n.du.push(function(){var e=(0,_e.Z)(function*(t){t?(n.yu.ko(),yield Ut(n)):(yield n.yu.stop(),n.hu.length>0&&(ke("RemoteStore",`Stopping write stream with ${n.hu.length} pending writes`),n.hu=[]))});return function(t){return e.apply(this,arguments)}}())),n.yu}class LT{constructor(e,t,r,i,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=u,this.deferred=new ri,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}static createAndSchedule(e,t,r,i,u){const c=Date.now()+r,f=new LT(e,t,c,i,u);return f.start(r),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Me(ce.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Sy(n,e){if(ur("AsyncQueue",`${e}: ${n}`),dl(n))return new Me(ce.UNAVAILABLE,`${e}: ${n}`);throw n}class Ay{constructor(e){this.comparator=e?(t,r)=>e(t,r)||$e.comparator(t.key,r.key):(t,r)=>$e.comparator(t.key,r.key),this.keyedMap=zm(),this.sortedSet=new cr(this.comparator)}static emptySet(e){return new Ay(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ay)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,u=r.getNext().key;if(!i.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Ay;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class jM{constructor(){this.pu=new cr($e.comparator)}track(e){const t=e.doc.key,r=this.pu.get(t);r?0!==e.type&&3===r.type?this.pu=this.pu.insert(t,e):3===e.type&&1!==r.type?this.pu=this.pu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.pu=this.pu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.pu=this.pu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.pu=this.pu.remove(t):1===e.type&&2===r.type?this.pu=this.pu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.pu=this.pu.insert(t,{type:2,doc:e.doc}):et():this.pu=this.pu.insert(t,e)}Iu(){const e=[];return this.pu.inorderTraversal((t,r)=>{e.push(r)}),e}}class My{constructor(e,t,r,i,u,c,f,y){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=u,this.fromCache=c,this.syncStateChanged=f,this.excludesMetadataChanges=y}static fromInitialDocuments(e,t,r,i){const u=[];return t.forEach(c=>{u.push({type:0,doc:c})}),new My(e,t,Ay.emptySet(t),u,r,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&mp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class VN{constructor(){this.Tu=void 0,this.listeners=[]}}class BN{constructor(){this.queries=new al(e=>Vv(e),mp),this.onlineState="Unknown",this.Eu=new Set}}function VT(n,e){return BT.apply(this,arguments)}function BT(){return BT=(0,_e.Z)(function*(n,e){const t=Ge(n),r=e.query;let i=!1,u=t.queries.get(r);if(u||(i=!0,u=new VN),i)try{u.Tu=yield t.onListen(r)}catch(c){const f=Sy(c,`Initialization of query '${ab(e.query)}' failed`);return void e.onError(f)}t.queries.set(r,u),u.listeners.push(e),e.Au(t.onlineState),u.Tu&&e.Ru(u.Tu)&&$T(t)}),BT.apply(this,arguments)}function UT(n,e){return jT.apply(this,arguments)}function jT(){return jT=(0,_e.Z)(function*(n,e){const t=Ge(n),r=e.query;let i=!1;const u=t.queries.get(r);if(u){const c=u.listeners.indexOf(e);c>=0&&(u.listeners.splice(c,1),i=0===u.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),jT.apply(this,arguments)}function UN(n,e){const t=Ge(n);let r=!1;for(const i of e){const c=t.queries.get(i.query);if(c){for(const f of c.listeners)f.Ru(i)&&(r=!0);c.Tu=i}}r&&$T(t)}function jN(n,e,t){const r=Ge(n),i=r.queries.get(e);if(i)for(const u of i.listeners)u.onError(t);r.queries.delete(e)}function $T(n){n.Eu.forEach(e=>{e.next()})}class HT{constructor(e,t,r){this.query=e,this.Pu=t,this.bu=!1,this.Vu=null,this.onlineState="Unknown",this.options=r||{}}Ru(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new My(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.bu?this.vu(e)&&(this.Pu.next(e),t=!0):this.Su(e,this.onlineState)&&(this.Du(e),t=!0),this.Vu=e,t}onError(e){this.Pu.error(e)}Au(e){this.onlineState=e;let t=!1;return this.Vu&&!this.bu&&this.Su(this.Vu,e)&&(this.Du(this.Vu),t=!0),t}Su(e,t){return!e.fromCache||!(this.options.Cu&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}vu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Vu&&this.Vu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Du(e){e=My.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Pu.next(e)}}class $N{constructor(e,t){this.payload=e,this.byteLength=t}xu(){return"metadata"in this.payload}}class $M{constructor(e){this.M=e}fi(e){return Po(this.M,e)}di(e){return e.metadata.exists?Zv(this.M,e.document,!1):Rn.newNoDocument(this.fi(e.metadata.name),this._i(e.metadata.readTime))}_i(e){return zr(e)}}class HN{constructor(e,t,r){this.Nu=e,this.localStore=t,this.M=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=HM(e)}ku(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const r=tn.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Mu(e){const t=new Map,r=new $M(this.M);for(const i of e)if(i.metadata.queries){const u=r.fi(i.metadata.name);for(const c of i.metadata.queries){const f=(t.get(c)||fn()).add(u);t.set(c,f)}}return t}complete(){var e=this;return(0,_e.Z)(function*(){const t=yield function I0(n,e,t,r){return T0.apply(this,arguments)}(e.localStore,new $M(e.M),e.documents,e.Nu.id),r=e.Mu(e.documents);for(const i of e.queries)yield S0(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,Ou:e.collectionGroups,Fu:t}})()}}function HM(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class GM{constructor(e){this.key=e}}class qM{constructor(e){this.key=e}}class zM{constructor(e,t){this.query=e,this.$u=t,this.Bu=null,this.current=!1,this.Lu=fn(),this.mutatedKeys=fn(),this.Uu=ub(e),this.qu=new Ay(this.Uu)}get Ku(){return this.$u}Gu(e,t){const r=t?t.Qu:new jM,i=t?t.qu:this.qu;let u=t?t.mutatedKeys:this.mutatedKeys,c=i,f=!1;const y=fh(this.query)&&i.size===this.query.limit?i.last():null,b=Um(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((A,M)=>{const F=i.get(A),B=Bv(this.query,M)?M:null,G=!!F&&this.mutatedKeys.has(F.key),te=!!B&&(B.hasLocalMutations||this.mutatedKeys.has(B.key)&&B.hasCommittedMutations);let Ee=!1;F&&B?F.data.isEqual(B.data)?G!==te&&(r.track({type:3,doc:B}),Ee=!0):this.ju(F,B)||(r.track({type:2,doc:B}),Ee=!0,(y&&this.Uu(B,y)>0||b&&this.Uu(B,b)<0)&&(f=!0)):!F&&B?(r.track({type:0,doc:B}),Ee=!0):F&&!B&&(r.track({type:1,doc:F}),Ee=!0,(y||b)&&(f=!0)),Ee&&(B?(c=c.add(B),u=te?u.add(A):u.delete(A)):(c=c.delete(A),u=u.delete(A)))}),fh(this.query)||Um(this.query))for(;c.size>this.query.limit;){const A=fh(this.query)?c.last():c.first();c=c.delete(A.key),u=u.delete(A.key),r.track({type:1,doc:A})}return{qu:c,Qu:r,ni:f,mutatedKeys:u}}ju(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.qu;this.qu=e.qu,this.mutatedKeys=e.mutatedKeys;const u=e.Qu.Iu();u.sort((b,A)=>function(M,F){const B=G=>{switch(G){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return et()}};return B(M)-B(F)}(b.type,A.type)||this.Uu(b.doc,A.doc)),this.Wu(r);const c=t?this.zu():[],f=0===this.Lu.size&&this.current?1:0,y=f!==this.Bu;return this.Bu=f,0!==u.length||y?{snapshot:new My(this.query,e.qu,i,u,e.mutatedKeys,0===f,y,!1),Hu:c}:{Hu:c}}Au(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({qu:this.qu,Qu:new jM,mutatedKeys:this.mutatedKeys,ni:!1},!1)):{Hu:[]}}Ju(e){return!this.$u.has(e)&&!!this.qu.has(e)&&!this.qu.get(e).hasLocalMutations}Wu(e){e&&(e.addedDocuments.forEach(t=>this.$u=this.$u.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.$u=this.$u.delete(t)),this.current=e.current)}zu(){if(!this.current)return[];const e=this.Lu;this.Lu=fn(),this.qu.forEach(r=>{this.Ju(r.key)&&(this.Lu=this.Lu.add(r.key))});const t=[];return e.forEach(r=>{this.Lu.has(r)||t.push(new qM(r))}),this.Lu.forEach(r=>{e.has(r)||t.push(new GM(r))}),t}Yu(e){this.$u=e.li,this.Lu=fn();const t=this.Gu(e.documents);return this.applyChanges(t,!0)}Xu(){return My.fromInitialDocuments(this.query,this.qu,this.mutatedKeys,0===this.Bu)}}class GN{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class qN{constructor(e){this.key=e,this.Zu=!1}}class zN{constructor(e,t,r,i,u,c){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=u,this.maxConcurrentLimboResolutions=c,this.ta={},this.ea=new al(f=>Vv(f),mp),this.na=new Map,this.sa=new Set,this.ia=new cr($e.comparator),this.ra=new Map,this.oa=new eD,this.ua={},this.aa=new Map,this.ca=fl.yn(),this.onlineState="Unknown",this.ha=void 0}get isPrimaryClient(){return!0===this.ha}}function WN(n,e){return GT.apply(this,arguments)}function GT(){return GT=(0,_e.Z)(function*(n,e){const t=fS(n);let r,i;const u=t.ea.get(e);if(u)r=u.targetId,t.sharedClientState.addLocalQueryTarget(r),i=u.view.Xu();else{const c=yield nu(t.localStore,to(e));t.isPrimaryClient&&l(t.remoteStore,c);const f=t.sharedClientState.addLocalQueryTarget(c.targetId);r=c.targetId,i=yield qT(t,e,r,"current"===f)}return i}),GT.apply(this,arguments)}function qT(n,e,t,r){return zT.apply(this,arguments)}function zT(){return zT=(0,_e.Z)(function*(n,e,t,r){n.la=(A,M,F)=>{return(B=(0,_e.Z)(function*(G,te,Ee,We){let Ze=te.view.Gu(Ee);Ze.ni&&(Ze=yield xp(G.localStore,te.query,!1).then(({documents:vt})=>te.view.Gu(vt,Ze)));const Ue=We&&We.targetChanges.get(te.targetId),Xe=te.view.applyChanges(Ze,G.isPrimaryClient,Ue);return nS(G,te.targetId,Xe.Hu),Xe.snapshot}),function(G,te,Ee,We){return B.apply(this,arguments)})(n,A,M,F);var B};const i=yield xp(n.localStore,e,!0),u=new zM(e,i.li),c=u.Gu(i.documents),f=Ep.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),y=u.applyChanges(c,n.isPrimaryClient,f);nS(n,t,y.Hu);const b=new GN(e,t,u);return n.ea.set(e,b),n.na.has(t)?n.na.get(t).push(e):n.na.set(t,[e]),y.snapshot}),zT.apply(this,arguments)}function KN(n,e){return WT.apply(this,arguments)}function WT(){return WT=(0,_e.Z)(function*(n,e){const t=Ge(n),r=t.ea.get(e),i=t.na.get(r.targetId);if(i.length>1)return t.na.set(r.targetId,i.filter(u=>!mp(u,e))),void t.ea.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Rh(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),d(t.remoteStore,r.targetId),xy(t,r.targetId)}).catch(oi))):(xy(t,r.targetId),yield Rh(t.localStore,r.targetId,!0))}),WT.apply(this,arguments)}function KT(){return KT=(0,_e.Z)(function*(n,e,t){const r=pS(n);try{const i=yield function(u,c){const f=Ge(u),y=lr.now(),b=c.reduce((M,F)=>M.add(F.key),fn());let A;return f.persistence.runTransaction("Locally write mutations","readwrite",M=>f.ci.Ks(M,b).next(F=>{A=F;const B=[];for(const G of c){const te=_h(G,A.get(G.key));null!=te&&B.push(new ol(G.key,te,Ic(te.value.mapValue),er.exists(!0)))}return f.Bs.addMutationBatch(M,y,B,c)})).then(M=>(M.applyToLocalDocumentSet(A),{batchId:M.batchId,changes:A}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(u,c,f){let y=u.ua[u.currentUser.toKey()];y||(y=new cr($t)),y=y.insert(c,f),u.ua[u.currentUser.toKey()]=y}(r,i.batchId,t),yield Bc(r,i.changes),yield Ut(r.remoteStore)}catch(i){const u=Sy(i,"Failed to persist write");t.reject(u)}}),KT.apply(this,arguments)}function WM(n,e){return ZT.apply(this,arguments)}function ZT(){return ZT=(0,_e.Z)(function*(n,e){const t=Ge(n);try{const r=yield RM(t.localStore,e);e.targetChanges.forEach((i,u)=>{const c=t.ra.get(u);c&&(xt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?c.Zu=!0:i.modifiedDocuments.size>0?xt(c.Zu):i.removedDocuments.size>0&&(xt(c.Zu),c.Zu=!1))}),yield Bc(t,r,e)}catch(r){yield oi(r)}}),ZT.apply(this,arguments)}function KM(n,e,t){const r=Ge(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.ea.forEach((u,c)=>{const f=c.view.Au(e);f.snapshot&&i.push(f.snapshot)}),function(u,c){const f=Ge(u);f.onlineState=c;let y=!1;f.queries.forEach((b,A)=>{for(const M of A.listeners)M.Au(c)&&(y=!0)}),y&&$T(f)}(r.eventManager,e),i.length&&r.ta.Qo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function YN(n,e,t){return YT.apply(this,arguments)}function YT(){return YT=(0,_e.Z)(function*(n,e,t){const r=Ge(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.ra.get(e),u=i&&i.key;if(u){let c=new cr($e.comparator);c=c.insert(u,Rn.newNoDocument(u,It.min()));const f=fn().add(u),y=new wp(It.min(),new Map,new On($t),c,f);yield WM(r,y),r.ia=r.ia.remove(u),r.ra.delete(e),rS(r)}else yield Rh(r.localStore,e,!1).then(()=>xy(r,e,t)).catch(oi)}),YT.apply(this,arguments)}function QN(n,e){return QT.apply(this,arguments)}function QT(){return QT=(0,_e.Z)(function*(n,e){const t=Ge(n),r=e.batch.batchId;try{const i=yield xM(t.localStore,e);tS(t,r,null),eS(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Bc(t,i)}catch(i){yield oi(i)}}),QT.apply(this,arguments)}function JN(n,e,t){return JT.apply(this,arguments)}function JT(){return JT=(0,_e.Z)(function*(n,e,t){const r=Ge(n);try{const i=yield function(u,c){const f=Ge(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let b;return f.Bs.lookupMutationBatch(y,c).next(A=>(xt(null!==A),b=A.keys(),f.Bs.removeMutationBatch(y,A))).next(()=>f.Bs.performConsistencyCheck(y)).next(()=>f.ci.Ks(y,b))})}(r.localStore,e);tS(r,e,t),eS(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Bc(r,i)}catch(i){yield oi(i)}}),JT.apply(this,arguments)}function XT(){return XT=(0,_e.Z)(function*(n,e){const t=Ge(n);T(t.remoteStore)||ke("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(u){const c=Ge(u);return c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",f=>c.Bs.getHighestUnacknowledgedBatchId(f))}(t.localStore);if(-1===r)return void e.resolve();const i=t.aa.get(r)||[];i.push(e),t.aa.set(r,i)}catch(r){const i=Sy(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),XT.apply(this,arguments)}function eS(n,e){(n.aa.get(e)||[]).forEach(t=>{t.resolve()}),n.aa.delete(e)}function tS(n,e,t){const r=Ge(n);let i=r.ua[r.currentUser.toKey()];if(i){const u=i.get(e);u&&(t?u.reject(t):u.resolve(),i=i.remove(e)),r.ua[r.currentUser.toKey()]=i}}function xy(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.na.get(e))n.ea.delete(r),t&&n.ta.fa(r,t);n.na.delete(e),n.isPrimaryClient&&n.oa.Pi(e).forEach(r=>{n.oa.containsKey(r)||ZM(n,r)})}function ZM(n,e){n.sa.delete(e.path.canonicalString());const t=n.ia.get(e);null!==t&&(d(n.remoteStore,t),n.ia=n.ia.remove(e),n.ra.delete(t),rS(n))}function nS(n,e,t){for(const r of t)r instanceof GM?(n.oa.addReference(r.key,e),ek(n,r)):r instanceof qM?(ke("SyncEngine","Document no longer in limbo: "+r.key),n.oa.removeReference(r.key,e),n.oa.containsKey(r.key)||ZM(n,r.key)):et()}function ek(n,e){const t=e.key,r=t.path.canonicalString();n.ia.get(t)||n.sa.has(r)||(ke("SyncEngine","New document in limbo: "+t),n.sa.add(r),rS(n))}function rS(n){for(;n.sa.size>0&&n.ia.size<n.maxConcurrentLimboResolutions;){const e=n.sa.values().next().value;n.sa.delete(e);const t=new $e(tn.fromString(e)),r=n.ca.next();n.ra.set(r,new qN(t)),n.ia=n.ia.insert(t,r),l(n.remoteStore,new hl(to(Mc(t.path)),r,2,Ei.A))}}function Bc(n,e,t){return iS.apply(this,arguments)}function iS(){return iS=(0,_e.Z)(function*(n,e,t){const r=Ge(n),i=[],u=[],c=[];var f;r.ea.isEmpty()||(r.ea.forEach((f,y)=>{c.push(r.la(y,e,t).then(b=>{if(b){r.isPrimaryClient&&r.sharedClientState.updateQueryState(y.targetId,b.fromCache?"not-current":"current"),i.push(b);const A=Yb.Ys(y.targetId,b);u.push(A)}}))}),yield Promise.all(c),r.ta.Qo(i),yield(f=(0,_e.Z)(function*(y,b){const A=Ge(y);try{yield A.persistence.runTransaction("notifyLocalViewChanges","readwrite",M=>pe.forEach(b,F=>pe.forEach(F.Hs,B=>A.persistence.referenceDelegate.addReference(M,F.targetId,B)).next(()=>pe.forEach(F.Js,B=>A.persistence.referenceDelegate.removeReference(M,F.targetId,B)))))}catch(M){if(!dl(M))throw M;ke("LocalStore","Failed to update sequence numbers: "+M)}for(const M of b){const F=M.targetId;if(!M.fromCache){const B=A.ii.get(F),te=B.withLastLimboFreeSnapshotVersion(B.snapshotVersion);A.ii=A.ii.insert(F,te)}}}),function(y,b){return f.apply(this,arguments)})(r.localStore,u))}),iS.apply(this,arguments)}function tk(n,e){return sS.apply(this,arguments)}function sS(){return sS=(0,_e.Z)(function*(n,e){const t=Ge(n);if(!t.currentUser.isEqual(e)){ke("SyncEngine","User change. New user:",e.toKey());const r=yield Jb(t.localStore,e);t.currentUser=e,(i=t).aa.forEach(c=>{c.forEach(f=>{f.reject(new Me(ce.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.aa.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Bc(t,r.hi)}var i}),sS.apply(this,arguments)}function nk(n,e){const t=Ge(n),r=t.ra.get(e);if(r&&r.Zu)return fn().add(r.key);{let i=fn();const u=t.na.get(e);if(!u)return i;for(const c of u){const f=t.ea.get(c);i=i.unionWith(f.view.Ku)}return i}}function rk(n,e){return oS.apply(this,arguments)}function oS(){return oS=(0,_e.Z)(function*(n,e){const t=Ge(n),r=yield xp(t.localStore,e.query,!0),i=e.view.Yu(r);return t.isPrimaryClient&&nS(t,e.targetId,i.Hu),i}),oS.apply(this,arguments)}function ik(n,e){return aS.apply(this,arguments)}function aS(){return aS=(0,_e.Z)(function*(n,e){const t=Ge(n);return C0(t.localStore,e).then(r=>Bc(t,r))}),aS.apply(this,arguments)}function sk(n,e,t,r){return uS.apply(this,arguments)}function uS(){return uS=(0,_e.Z)(function*(n,e,t,r){const i=Ge(n),u=yield function(c,f){const y=Ge(c),b=Ge(y.Bs);return y.persistence.runTransaction("Lookup mutation documents","readonly",A=>b.fn(A,f).next(M=>M?y.ci.Ks(A,M):pe.resolve(null)))}(i.localStore,e);var f;null!==u?("pending"===t?yield Ut(i.remoteStore):"acknowledged"===t||"rejected"===t?(tS(i,e,r||null),eS(i,e),f=e,Ge(Ge(i.localStore).Bs)._n(f)):et(),yield Bc(i,u)):ke("SyncEngine","Cannot apply mutation batch with id: "+e)}),uS.apply(this,arguments)}function lS(){return lS=(0,_e.Z)(function*(n,e){const t=Ge(n);if(fS(t),pS(t),!0===e&&!0!==t.ha){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield YM(t,r.toArray());t.ha=!0,yield PT(t.remoteStore,!0);for(const u of i)l(t.remoteStore,u)}else if(!1===e&&!1!==t.ha){const r=[];let i=Promise.resolve();t.na.forEach((u,c)=>{t.sharedClientState.isLocalQueryTarget(c)?r.push(c):i=i.then(()=>(xy(t,c),Rh(t.localStore,c,!0))),d(t.remoteStore,c)}),yield i,yield YM(t,r),function(u){const c=Ge(u);c.ra.forEach((f,y)=>{d(c.remoteStore,y)}),c.oa.bi(),c.ra=new Map,c.ia=new cr($e.comparator)}(t),t.ha=!1,yield PT(t.remoteStore,!1)}}),lS.apply(this,arguments)}function YM(n,e,t){return cS.apply(this,arguments)}function cS(){return cS=(0,_e.Z)(function*(n,e,t){const r=Ge(n),i=[],u=[];for(const c of e){let f;const y=r.na.get(c);if(y&&0!==y.length){f=yield nu(r.localStore,to(y[0]));for(const b of y){const A=r.ea.get(b),M=yield rk(r,A);M.snapshot&&u.push(M.snapshot)}}else{const b=yield pl(r.localStore,c);f=yield nu(r.localStore,b),yield qT(r,QM(b),c,!1)}i.push(f)}return r.ta.Qo(u),i}),cS.apply(this,arguments)}function QM(n){return Bm(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function ak(n){const e=Ge(n);return Ge(Ge(e.localStore).persistence).Fs()}function uk(n,e,t,r){return dS.apply(this,arguments)}function dS(){return dS=(0,_e.Z)(function*(n,e,t,r){const i=Ge(n);if(i.ha)return void ke("SyncEngine","Ignoring unexpected query state notification.");const u=i.na.get(e);if(u&&u.length>0)switch(t){case"current":case"not-current":{const c=yield C0(i.localStore,yp(u[0])),f=wp.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield Bc(i,c,f);break}case"rejected":yield Rh(i.localStore,e,!0),xy(i,e,r);break;default:et()}}),dS.apply(this,arguments)}function lk(n,e,t){return hS.apply(this,arguments)}function hS(){return hS=(0,_e.Z)(function*(n,e,t){const r=fS(n);if(r.ha){for(const i of e){if(r.na.has(i)){ke("SyncEngine","Adding an already active target "+i);continue}const u=yield pl(r.localStore,i),c=yield nu(r.localStore,u);yield qT(r,QM(u),c.targetId,!1),l(r.remoteStore,c)}for(const i of t)r.na.has(i)&&(yield Rh(r.localStore,i,!1).then(()=>{d(r.remoteStore,i),xy(r,i)}).catch(oi))}}),hS.apply(this,arguments)}function fS(n){const e=Ge(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=WM.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=nk.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=YN.bind(null,e),e.ta.Qo=UN.bind(null,e.eventManager),e.ta.fa=jN.bind(null,e.eventManager),e}function pS(n){const e=Ge(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=QN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=JN.bind(null,e),e}class JM{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,_e.Z)(function*(){t.M=by(e.databaseInfo.databaseId),t.sharedClientState=t._a(e),t.persistence=t.wa(e),yield t.persistence.start(),t.gcScheduler=t.ma(e),t.localStore=t.ga(e)})()}ma(e){return null}ga(e){return Qb(this.persistence,new b0,e.initialUser,this.M)}wa(e){return new TT(vy.zi,this.M)}_a(e){return new rD}terminate(){var e=this;return(0,_e.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class XM extends JM{constructor(e,t,r){super(),this.ya=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,_e.Z)(function*(){yield t().call(r,e),yield r.ya.initialize(r,e),yield pS(r.ya.syncEngine),yield Ut(r.ya.remoteStore),yield r.persistence.Ts(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()))})()}ga(e){return Qb(this.persistence,new b0,e.initialUser,this.M)}ma(e){return new Wb(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}wa(e){const t=E0(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?zi.withCacheSize(this.cacheSizeBytes):zi.DEFAULT;return new gy(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,iD(),R0(),this.M,this.sharedClientState,!!this.forceOwnership)}_a(e){return new rD}}class dk extends XM{constructor(e,t){super(e,t,!1),this.ya=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,_e.Z)(function*(){yield t().call(r,e);const i=r.ya.syncEngine;r.sharedClientState instanceof Op&&(r.sharedClientState.syncEngine={Mr:sk.bind(null,i),Or:uk.bind(null,i),Fr:lk.bind(null,i),Fs:ak.bind(null,i),kr:ik.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.Ts(function(){var u=(0,_e.Z)(function*(c){yield function ok(n,e){return lS.apply(this,arguments)}(r.ya.syncEngine,c),r.gcScheduler&&(c&&!r.gcScheduler.started?r.gcScheduler.start(r.localStore):c||r.gcScheduler.stop())});return function(c){return u.apply(this,arguments)}}())})()}_a(e){const t=iD();if(!Op.vt(t))throw new Me(ce.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=E0(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Op(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class gS{initialize(e,t){var r=this;return(0,_e.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>KM(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=tk.bind(null,r.syncEngine),yield PT(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new BN}createDatastore(e){const t=by(e.databaseInfo.databaseId),r=new xT(e.databaseInfo);return new LM(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,u=f=>KM(this.syncEngine,f,0),c=MT.vt()?new MT:new AT,new BM(t,r,i,u,c);var t,r,i,u,c}createSyncEngine(e,t){return function(r,i,u,c,f,y,b){const A=new zN(r,i,u,c,f,y);return b&&(A.ha=!0),A}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,_e.Z)(function*(t){const r=Ge(t);ke("RemoteStore","RemoteStore shutting down."),r.fu.add(5),yield o(r),r._u.shutdown(),r.wu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function ex(n,e=10240){let t=0;return{read:()=>(0,_e.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,_e.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class oD{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.pa(this.observer.next,e)}error(e){this.observer.error?this.pa(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Ia(){this.muted=!0}pa(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class hk{constructor(e,t){this.Ta=e,this.M=t,this.metadata=new ri,this.buffer=new Uint8Array,this.Ea=new TextDecoder("utf-8"),this.Aa().then(r=>{r&&r.xu()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==r?void 0:r.payload)}`))},r=>this.metadata.reject(r))}close(){return this.Ta.cancel()}getMetadata(){var e=this;return(0,_e.Z)(function*(){return e.metadata.promise})()}da(){var e=this;return(0,_e.Z)(function*(){return yield e.getMetadata(),e.Aa()})()}Aa(){var e=this;return(0,_e.Z)(function*(){const t=yield e.Ra();if(null===t)return null;const r=e.Ea.decode(t),i=Number(r);isNaN(i)&&e.Pa(`length string (${r}) is not valid number`);const u=yield e.ba(i);return new $N(JSON.parse(u),t.length+i)})()}Va(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Ra(){var e=this;return(0,_e.Z)(function*(){for(;e.Va()<0&&!(yield e.va()););if(0===e.buffer.length)return null;const t=e.Va();t<0&&e.Pa("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}ba(e){var t=this;return(0,_e.Z)(function*(){for(;t.buffer.length<e;)(yield t.va())&&t.Pa("Reached the end of bundle when more is expected.");const r=t.Ea.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Pa(e){throw this.Ta.cancel(),new Error(`Invalid bundle format: ${e}`)}va(){var e=this;return(0,_e.Z)(function*(){const t=yield e.Ta.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class fk{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,_e.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Me(ce.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,_e.Z)(function*(u,c){const f=Ge(u),y=Qm(f.M)+"/documents",b={documents:c.map(B=>Oc(f.M,B))},A=yield f.ho("BatchGetDocuments",y,b),M=new Map;A.forEach(B=>{const G=function Yv(n,e){return"found"in e?function(t,r){xt(!!r.found);const i=Po(t,r.found.name),u=zr(r.found.updateTime),c=new bi({mapValue:{fields:r.found.fields}});return Rn.newFoundDocument(i,u,c)}(n,e):"missing"in e?function(t,r){xt(!!r.missing),xt(!!r.readTime);const i=Po(t,r.missing),u=zr(r.readTime);return Rn.newNoDocument(i,u)}(n,e):et()}(f.M,B);M.set(G.key.toString(),G)});const F=[];return c.forEach(B=>{const G=M.get(B.toString());xt(!!G),F.push(G)}),F}),function(u,c){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Hm(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,_e.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const u=$e.fromPath(i);e.mutations.push(new Gm(u,e.precondition(u)))}),yield(r=(0,_e.Z)(function*(i,u){const c=Ge(i),f=Qm(c.M)+"/documents",y={writes:u.map(b=>Dp(c.M,b))};yield c.oo("Commit",f,y)}),function(i,u){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw et();t=It.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Me(ce.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?er.updateTime(t):er.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(It.min()))throw new Me(ce.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return er.updateTime(t)}return er.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class pk{constructor(e,t,r,i){this.asyncQueue=e,this.datastore=t,this.updateFunction=r,this.deferred=i,this.Sa=5,this.Do=new sD(this.asyncQueue,"transaction_retry")}run(){this.Sa-=1,this.Da()}Da(){var e=this;this.Do.To((0,_e.Z)(function*(){const t=new fk(e.datastore),r=e.Ca(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(u=>{e.xa(u)}))}).catch(i=>{e.xa(i)})}))}Ca(e){try{const t=this.updateFunction(e);return!bc(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}xa(e){this.Sa>0&&this.Na(e)?(this.Sa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Da(),Promise.resolve()))):this.deferred.reject(e)}Na(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!fb(t)}return!1}}class gk{constructor(e,t,r,i){var u=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=qr.UNAUTHENTICATED,this.clientId=qn.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var c=(0,_e.Z)(function*(f){ke("FirestoreClient","Received user=",f.uid),yield u.authCredentialListener(f),u.user=f});return function(f){return c.apply(this,arguments)}}()),this.appCheckCredentials.start(r,c=>(ke("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}getConfiguration(){var e=this;return(0,_e.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Me(ce.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new ri;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,_e.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=Sy(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function tx(n,e){return mS.apply(this,arguments)}function mS(){return mS=(0,_e.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),ke("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,_e.Z)(function*(u){r.isEqual(u)||(yield Jb(e.localStore,u),r=u)});return function(u){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),mS.apply(this,arguments)}function nx(n,e){return yS.apply(this,arguments)}function yS(){return yS=(0,_e.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield _S(n);ke("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>UM(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,u)=>UM(e.remoteStore,u)),n.onlineComponents=e}),yS.apply(this,arguments)}function _S(n){return vS.apply(this,arguments)}function vS(){return vS=(0,_e.Z)(function*(n){return n.offlineComponents||(ke("FirestoreClient","Using default OfflineComponentProvider"),yield tx(n,new JM)),n.offlineComponents}),vS.apply(this,arguments)}function aD(n){return wS.apply(this,arguments)}function wS(){return wS=(0,_e.Z)(function*(n){return n.onlineComponents||(ke("FirestoreClient","Using default OnlineComponentProvider"),yield nx(n,new gS)),n.onlineComponents}),wS.apply(this,arguments)}function rx(n){return _S(n).then(e=>e.persistence)}function ES(n){return _S(n).then(e=>e.localStore)}function ix(n){return aD(n).then(e=>e.remoteStore)}function bS(n){return aD(n).then(e=>e.syncEngine)}function Ry(n){return DS.apply(this,arguments)}function DS(){return DS=(0,_e.Z)(function*(n){const e=yield aD(n),t=e.eventManager;return t.onListen=WN.bind(null,e.syncEngine),t.onUnlisten=KN.bind(null,e.syncEngine),t}),DS.apply(this,arguments)}function sx(n,e,t={}){const r=new ri;return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return function(i,u,c,f,y){const b=new oD({next:M=>{u.enqueueAndForget(()=>UT(i,A));const F=M.docs.has(c);!F&&M.fromCache?y.reject(new Me(ce.UNAVAILABLE,"Failed to get document because the client is offline.")):F&&M.fromCache&&f&&"server"===f.source?y.reject(new Me(ce.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(M)},error:M=>y.reject(M)}),A=new HT(Mc(c.path),b,{includeMetadataChanges:!0,Cu:!0});return VT(i,A)}(yield Ry(n),n.asyncQueue,e,t,r)})),r.promise}function ox(n,e,t={}){const r=new ri;return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return function(i,u,c,f,y){const b=new oD({next:M=>{u.enqueueAndForget(()=>UT(i,A)),M.fromCache&&"server"===f.source?y.reject(new Me(ce.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(M)},error:M=>y.reject(M)}),A=new HT(c,b,{includeMetadataChanges:!0,Cu:!0});return VT(i,A)}(yield Ry(n),n.asyncQueue,e,t,r)})),r.promise}const ax=new Map;function CS(n,e,t){if(!t)throw new Me(ce.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function ux(n,e,t,r){if(!0===e&&!0===r)throw new Me(ce.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function lx(n){if(!$e.isDocumentKey(n))throw new Me(ce.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function cx(n){if($e.isDocumentKey(n))throw new Me(ce.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function uD(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":et()}function rn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Me(ce.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=uD(n);throw new Me(ce.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function dx(n,e){if(e<=0)throw new Me(ce.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class hx{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Me(ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Me(ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,ux("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class F0{constructor(e,t,r){this._authCredentials=t,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new hx({}),this._settingsFrozen=!1,e instanceof Qa?this._databaseId=e:(this._app=e,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new Me(ce.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Qa(i.options.projectId)}(e))}get app(){if(!this._app)throw new Me(ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Me(ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new hx(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new GE;switch(t.type){case"gapi":const r=t.client;return xt(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new II(r,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Me(ce.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=ax.get(e);t&&(ke("ComponentProvider","Removing Datastore"),ax.delete(e),t.terminate())}(this),Promise.resolve()}}class Wn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new gl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Wn(this.firestore,e,this._key)}}class Wi{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Wi(this.firestore,e,this._query)}}class gl extends Wi{constructor(e,t,r){super(e,t,Mc(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Wn(this.firestore,null,new $e(e))}withConverter(e){return new gl(this.firestore,e,this._path)}}function fx(n,e,...t){if(n=(0,Yt.m9)(n),CS("collection","path",e),n instanceof F0){const r=tn.fromString(e,...t);return cx(r),new gl(n,null,r)}{if(!(n instanceof Wn||n instanceof gl))throw new Me(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(tn.fromString(e,...t));return cx(r),new gl(n.firestore,null,r)}}function lD(n,e,...t){if(n=(0,Yt.m9)(n),1===arguments.length&&(e=qn.R()),CS("doc","path",e),n instanceof F0){const r=tn.fromString(e,...t);return lx(r),new Wn(n,null,new $e(r))}{if(!(n instanceof Wn||n instanceof gl))throw new Me(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(tn.fromString(e,...t));return lx(r),new Wn(n.firestore,n instanceof gl?n.converter:null,new $e(r))}}function px(n,e){return n=(0,Yt.m9)(n),e=(0,Yt.m9)(e),(n instanceof Wn||n instanceof gl)&&(e instanceof Wn||e instanceof gl)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function gx(n,e){return n=(0,Yt.m9)(n),e=(0,Yt.m9)(e),n instanceof Wi&&e instanceof Wi&&n.firestore===e.firestore&&mp(n._query,e._query)&&n.converter===e.converter}class Tk{constructor(){this.ka=Promise.resolve(),this.Ma=[],this.Oa=!1,this.Fa=[],this.$a=null,this.Ba=!1,this.La=!1,this.Ua=[],this.Do=new sD(this,"async_queue_retry"),this.qa=()=>{const t=R0();t&&ke("AsyncQueue","Visibility state changed to "+t.visibilityState),this.Do.Ao()};const e=R0();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.qa)}get isShuttingDown(){return this.Oa}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ka(),this.Ga(e)}enterRestrictedMode(e){if(!this.Oa){this.Oa=!0,this.La=e||!1;const t=R0();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.qa)}}enqueue(e){if(this.Ka(),this.Oa)return new Promise(()=>{});const t=new ri;return this.Ga(()=>this.Oa&&this.La?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ma.push(e),this.Qa()))}Qa(){var e=this;return(0,_e.Z)(function*(){if(0!==e.Ma.length){try{yield e.Ma[0](),e.Ma.shift(),e.Do.reset()}catch(t){if(!dl(t))throw t;ke("AsyncQueue","Operation failed with retryable error: "+t)}e.Ma.length>0&&e.Do.To(()=>e.Qa())}})()}Ga(e){const t=this.ka.then(()=>(this.Ba=!0,e().catch(r=>{throw this.$a=r,this.Ba=!1,ur("INTERNAL UNHANDLED ERROR: ",function(u){let c=u.message||"";return u.stack&&(c=u.stack.includes(u.message)?u.stack:u.message+"\n"+u.stack),c}(r)),r}).then(r=>(this.Ba=!1,r))));return this.ka=t,t}enqueueAfterDelay(e,t,r){this.Ka(),this.Ua.indexOf(e)>-1&&(t=0);const i=LT.createAndSchedule(this,e,t,r,u=>this.ja(u));return this.Fa.push(i),i}Ka(){this.$a&&et()}verifyOperationInProgress(){}Wa(){var e=this;return(0,_e.Z)(function*(){let t;do{t=e.ka,yield t}while(t!==e.ka)})()}za(e){for(const t of this.Fa)if(t.timerId===e)return!0;return!1}Ha(e){return this.Wa().then(()=>{this.Fa.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Fa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Wa()})}Ja(e){this.Ua.push(e)}ja(e){const t=this.Fa.indexOf(e);this.Fa.splice(t,1)}}function IS(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class Sk{constructor(){this._progressObserver={},this._taskCompletionResolver=new ri,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class tr extends F0{constructor(e,t,r){super(e,t,r),this.type="firestore",this._queue=new Tk,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||mx(this),this._firestoreClient.terminate()}}function Wr(n){return n._firestoreClient||mx(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function mx(n){var e;const t=n._freezeSettings(),r=(u=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new AI(n._databaseId,u,n._persistenceKey,(f=t).host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,f.useFetchStreams));var u,f;n._firestoreClient=new gk(n._authCredentials,n._appCheckCredentials,n._queue,r)}function yx(n,e,t){const r=new ri;return n.asyncQueue.enqueue((0,_e.Z)(function*(){try{yield tx(n,t),yield nx(n,e),r.resolve()}catch(i){if(!("FirebaseError"===(u=i).name?u.code===ce.FAILED_PRECONDITION||u.code===ce.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&u instanceof DOMException)||22===u.code||20===u.code||11===u.code))throw i;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i),r.reject(i)}var u})).then(()=>r.promise)}function _x(n){if(n._initialized||n._terminated)throw new Me(ce.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Uc{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Me(ce.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class ml{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ml(Lr.fromBase64String(e))}catch(t){throw new Me(ce.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ml(Lr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Fp{constructor(e){this._methodName=e}}class cD{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Me(ce.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Me(ce.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return $t(this._lat,e._lat)||$t(this._long,e._long)}}const Lk=/^__.*__$/;class Vk{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new ol(e,this.data,this.fieldMask,t,this.fieldTransforms):new $m(e,this.data,t,this.fieldTransforms)}}class vx{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new ol(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function wx(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw et()}}class dD{constructor(e,t,r,i,u,c){this.settings=e,this.databaseId=t,this.M=r,this.ignoreUndefinedProperties=i,void 0===u&&this.Ya(),this.fieldTransforms=u||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Xa(){return this.settings.Xa}Za(e){return new dD(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}tc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Za({path:r,ec:!1});return i.nc(e),i}sc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Za({path:r,ec:!1});return i.Ya(),i}ic(e){return this.Za({path:void 0,ec:!0})}rc(e){return pD(e,this.settings.methodName,this.settings.oc||!1,this.path,this.settings.uc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Ya(){if(this.path)for(let e=0;e<this.path.length;e++)this.nc(this.path.get(e))}nc(e){if(0===e.length)throw this.rc("Document fields must not be empty");if(wx(this.Xa)&&Lk.test(e))throw this.rc('Document fields cannot begin and end with "__"')}}class Bk{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.M=r||by(e)}ac(e,t,r,i=!1){return new dD({Xa:e,methodName:t,uc:r,path:Xn.emptyPath(),ec:!1,oc:i},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function Lp(n){const e=n._freezeSettings(),t=by(n._databaseId);return new Bk(n._databaseId,!!e.ignoreUndefinedProperties,t)}function hD(n,e,t,r,i,u={}){const c=n.ac(u.merge||u.mergeFields?2:0,e,t,i);MS("Data must be an object, but it was:",c,r);const f=Dx(r,c);let y,b;if(u.merge)y=new uh(c.fieldMask),b=c.fieldTransforms;else if(u.mergeFields){const A=[];for(const M of u.mergeFields){const F=xS(e,M,t);if(!c.contains(F))throw new Me(ce.INVALID_ARGUMENT,`Field '${F}' is specified in your field mask but missing from your input data.`);Ix(A,F)||A.push(F)}y=new uh(A),b=c.fieldTransforms.filter(M=>y.covers(M.field))}else y=null,b=c.fieldTransforms;return new Vk(new bi(f),y,b)}class L0 extends Fp{_toFieldTransform(e){if(2!==e.Xa)throw e.rc(1===e.Xa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof L0}}function Ex(n,e,t){return new dD({Xa:3,uc:e.settings.uc,methodName:n._methodName,ec:t},e.databaseId,e.M,e.ignoreUndefinedProperties)}class TS extends Fp{_toFieldTransform(e){return new yh(e.path,new mh)}isEqual(e){return e instanceof TS}}class Uk extends Fp{constructor(e,t){super(e),this.cc=t}_toFieldTransform(e){const t=Ex(this,e,!0),r=this.cc.map(u=>Vp(u,t)),i=new sl(r);return new yh(e.path,i)}isEqual(e){return this===e}}class jk extends Fp{constructor(e,t){super(e),this.cc=t}_toFieldTransform(e){const t=Ex(this,e,!0),r=this.cc.map(u=>Vp(u,t)),i=new Xa(r);return new yh(e.path,i)}isEqual(e){return this===e}}class $k extends Fp{constructor(e,t){super(e),this.hc=t}_toFieldTransform(e){const t=new ua(e.M,BI(e.M,this.hc));return new yh(e.path,t)}isEqual(e){return this===e}}function SS(n,e,t,r){const i=n.ac(1,e,t);MS("Data must be an object, but it was:",i,r);const u=[],c=bi.empty();tl(r,(y,b)=>{const A=fD(e,y,t);b=(0,Yt.m9)(b);const M=i.sc(A);if(b instanceof L0)u.push(A);else{const F=Vp(b,M);null!=F&&(u.push(A),c.set(A,F))}});const f=new uh(u);return new vx(c,f,i.fieldTransforms)}function AS(n,e,t,r,i,u){const c=n.ac(1,e,t),f=[xS(e,r,t)],y=[i];if(u.length%2!=0)throw new Me(ce.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let F=0;F<u.length;F+=2)f.push(xS(e,u[F])),y.push(u[F+1]);const b=[],A=bi.empty();for(let F=f.length-1;F>=0;--F)if(!Ix(b,f[F])){const B=f[F];let G=y[F];G=(0,Yt.m9)(G);const te=c.sc(B);if(G instanceof L0)b.push(B);else{const Ee=Vp(G,te);null!=Ee&&(b.push(B),A.set(B,Ee))}}const M=new uh(b);return new vx(A,M,c.fieldTransforms)}function bx(n,e,t,r=!1){return Vp(t,n.ac(r?4:3,e))}function Vp(n,e){if(Cx(n=(0,Yt.m9)(n)))return MS("Unsupported field value:",e,n),Dx(n,e);if(n instanceof Fp)return function(t,r){if(!wx(r.Xa))throw r.rc(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.rc(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.ec&&4!==e.Xa)throw e.rc("Nested arrays are not supported");return function(t,r){const i=[];let u=0;for(const c of t){let f=Vp(c,r.ic(u));null==f&&(f={nullValue:"NULL_VALUE"}),i.push(f),u++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,Yt.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return BI(r.M,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=lr.fromDate(t);return{timestampValue:ll(r.M,i)}}if(t instanceof lr){const i=new lr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:ll(r.M,i)}}if(t instanceof cD)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof ml)return{bytesValue:bp(r.M,t._byteString)};if(t instanceof Wn){const i=r.databaseId,u=t.firestore._databaseId;if(!u.isEqual(i))throw r.rc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Ym(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.rc(`Unsupported field value: ${uD(t)}`)}(n,e)}function Dx(n,e){const t={};return Tv(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):tl(n,(r,i)=>{const u=Vp(i,e.tc(r));null!=u&&(t[r]=u)}),{mapValue:{fields:t}}}function Cx(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof lr||n instanceof cD||n instanceof ml||n instanceof Wn||n instanceof Fp)}function MS(n,e,t){if(!Cx(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=uD(t);throw e.rc("an object"===r?n+" a custom object":n+" "+r)}var r}function xS(n,e,t){if((e=(0,Yt.m9)(e))instanceof Uc)return e._internalPath;if("string"==typeof e)return fD(n,e);throw pD("Field path arguments must be of type string or ",n,!1,void 0,t)}const Hk=new RegExp("[~\\*/\\[\\]]");function fD(n,e,t){if(e.search(Hk)>=0)throw pD(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Uc(...e.split("."))._internalPath}catch(r){throw pD(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function pD(n,e,t,r,i){const u=r&&!r.isEmpty(),c=void 0!==i;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let y="";return(u||c)&&(y+=" (found",u&&(y+=` in field ${r}`),c&&(y+=` in document ${i}`),y+=")"),new Me(ce.INVALID_ARGUMENT,f+n+y)}function Ix(n,e){return n.some(t=>t.isEqual(e))}class V0{constructor(e,t,r,i,u){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Wn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Gk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(gD("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Gk extends V0{data(){return super.data()}}function gD(n,e){return"string"==typeof e?fD(n,e):e instanceof Uc?e._internalPath:e._delegate._internalPath}class Bp{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class jc extends V0{constructor(e,t,r,i,u,c){super(e,t,r,i,c),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new B0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(gD("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class B0 extends jc{data(e={}){return super.data(e)}}class Ph{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Bp(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new B0(this._firestore,this._userDataWriter,r.key,r,new Bp(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Me(ce.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let u=0;return r._snapshot.docChanges.map(c=>({type:"added",doc:new B0(r._firestore,r._userDataWriter,c.doc.key,c.doc,new Bp(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:u++}))}{let u=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(c=>i||3!==c.type).map(c=>{const f=new B0(r._firestore,r._userDataWriter,c.doc.key,c.doc,new Bp(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter);let y=-1,b=-1;return 0!==c.type&&(y=u.indexOf(c.doc.key),u=u.delete(c.doc.key)),1!==c.type&&(u=u.add(c.doc),b=u.indexOf(c.doc.key)),{type:qk(c.type),doc:f,oldIndex:y,newIndex:b}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function qk(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return et()}}function Tx(n,e){return n instanceof jc&&e instanceof jc?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Ph&&e instanceof Ph&&n._firestore===e._firestore&&gx(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function Sx(n){if(Um(n)&&0===n.explicitOrderBy.length)throw new Me(ce.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class U0{}function Fh(n,...e){for(const t of e)n=t._apply(n);return n}class zk extends U0{constructor(e,t,r){super(),this.lc=e,this.fc=t,this.dc=r,this.type="where"}_apply(e){const t=Lp(e.firestore),r=function(i,u,c,f,y,b,A){let M;if(y.isKeyField()){if("array-contains"===b||"array-contains-any"===b)throw new Me(ce.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if("in"===b||"not-in"===b){Nx(A,b);const B=[];for(const G of A)B.push(Ox(f,i,G));M={arrayValue:{values:B}}}else M=Ox(f,i,A)}else"in"!==b&&"not-in"!==b&&"array-contains-any"!==b||Nx(A,b),M=bx(c,"where",A,"in"===b||"not-in"===b);const F=ii.create(y,b,M);return function(B,G){if(G.S()){const Ee=gp(B);if(null!==Ee&&!Ee.isEqual(G.field))throw new Me(ce.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Ee.toString()}' and '${G.field.toString()}'`);const We=Pv(B);null!==We&&kx(0,G.field,We)}const te=function(Ee,We){for(const Ze of Ee.filters)if(We.indexOf(Ze.op)>=0)return Ze.op;return null}(B,function(Ee){switch(Ee){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(G.op));if(null!==te)throw new Me(ce.INVALID_ARGUMENT,te===G.op?`Invalid query. You cannot use more than one '${G.op.toString()}' filter.`:`Invalid query. You cannot use '${G.op.toString()}' filters with '${te.toString()}' filters.`)}(i,F),F}(e._query,0,t,e.firestore._databaseId,this.lc,this.fc,this.dc);return new Wi(e.firestore,e.converter,function(i,u){const c=i.filters.concat([u]);return new No(i.path,i.collectionGroup,i.explicitOrderBy.slice(),c,i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}class Kk extends U0{constructor(e,t){super(),this.lc=e,this._c=t,this.type="orderBy"}_apply(e){const t=function(r,i,u){if(null!==r.startAt)throw new Me(ce.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Me(ce.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const c=new Ac(i,u);return function(f,y){if(null===Pv(f)){const b=gp(f);null!==b&&kx(0,b,y.field)}}(r,c),c}(e._query,this.lc,this._c);return new Wi(e.firestore,e.converter,function(r,i){const u=r.explicitOrderBy.concat([i]);return new No(r.path,r.collectionGroup,u,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class Ax extends U0{constructor(e,t,r){super(),this.type=e,this.wc=t,this.mc=r}_apply(e){return new Wi(e.firestore,e.converter,Lv(e._query,this.wc,this.mc))}}class Mx extends U0{constructor(e,t,r){super(),this.type=e,this.gc=t,this.yc=r}_apply(e){const t=Rx(e,this.type,this.gc,this.yc);return new Wi(e.firestore,e.converter,(i=t,new No((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class xx extends U0{constructor(e,t,r){super(),this.type=e,this.gc=t,this.yc=r}_apply(e){const t=Rx(e,this.type,this.gc,this.yc);return new Wi(e.firestore,e.converter,(i=t,new No((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function Rx(n,e,t,r){if(t[0]=(0,Yt.m9)(t[0]),t[0]instanceof V0)return function(i,u,c,f,y){if(!f)throw new Me(ce.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const b=[];for(const A of xc(i))if(A.field.isKeyField())b.push(aa(u,f.key));else{const M=f.data.field(A.field);if(Sv(M))throw new Me(ce.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+A.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===M){const F=A.field.canonicalString();throw new Me(ce.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${F}' (used as the orderBy) does not exist.`)}b.push(M)}return new il(b,y)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=Lp(n.firestore);return function(u,c,f,y,b,A){const M=u.explicitOrderBy;if(b.length>M.length)throw new Me(ce.INVALID_ARGUMENT,`Too many arguments provided to ${y}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const F=[];for(let B=0;B<b.length;B++){const G=b[B];if(M[B].field.isKeyField()){if("string"!=typeof G)throw new Me(ce.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${y}(), but got a ${typeof G}`);if(!Fv(u)&&-1!==G.indexOf("/"))throw new Me(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${y}() must be a plain document ID, but '${G}' contains a slash.`);const te=u.path.child(tn.fromString(G));if(!$e.isDocumentKey(te))throw new Me(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${y}() must result in a valid document path, but '${te}' is not because it contains an odd number of segments.`);const Ee=new $e(te);F.push(aa(c,Ee))}else{const te=bx(f,y,G);F.push(te)}}return new il(F,A)}(n._query,n.firestore._databaseId,i,e,t,r)}}function Ox(n,e,t){if("string"==typeof(t=(0,Yt.m9)(t))){if(""===t)throw new Me(ce.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Fv(e)&&-1!==t.indexOf("/"))throw new Me(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(tn.fromString(t));if(!$e.isDocumentKey(r))throw new Me(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return aa(n,new $e(r))}if(t instanceof Wn)return aa(n,t._key);throw new Me(ce.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${uD(t)}.`)}function Nx(n,e){if(!Array.isArray(n)||0===n.length)throw new Me(ce.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Me(ce.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function kx(n,e,t){if(!t.isEqual(e))throw new Me(ce.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class RS{convertValue(e,t="none"){switch(Dc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return zn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(nl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw et()}}convertObject(e,t){const r={};return tl(e.fields,(i,u)=>{r[i]=this.convertValue(u,t)}),r}convertGeoPoint(e){return new cD(zn(e.latitude),zn(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=lh(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Ya(e));default:return null}}convertTimestamp(e){const t=Za(e);return new lr(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=tn.fromString(e);xt(Mb(r));const i=new Qa(r.get(1),r.get(3)),u=new $e(r.popFirst(5));return i.isEqual(t)||ur(`Document ${u} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}function mD(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class nP extends RS{constructor(e){super(),this.firestore=e}convertBytes(e){return new ml(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Wn(this.firestore,null,t)}}class Px{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Lp(e)}set(e,t,r){this._verifyNotCommitted();const i=Lh(e,this._firestore),u=mD(i.converter,t,r),c=hD(this._dataReader,"WriteBatch.set",i._key,u,null!==i.converter,r);return this._mutations.push(c.toMutation(i._key,er.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const u=Lh(e,this._firestore);let c;return c="string"==typeof(t=(0,Yt.m9)(t))||t instanceof Uc?AS(this._dataReader,"WriteBatch.update",u._key,t,r,i):SS(this._dataReader,"WriteBatch.update",u._key,t),this._mutations.push(c.toMutation(u._key,er.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Lh(e,this._firestore);return this._mutations=this._mutations.concat(new Hm(t._key,er.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Me(ce.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Lh(n,e){if((n=(0,Yt.m9)(n)).firestore!==e)throw new Me(ce.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Up extends RS{constructor(e){super(),this.firestore=e}convertBytes(e){return new ml(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Wn(this.firestore,null,t)}}function Fx(n,e,t){n=rn(n,Wn);const r=rn(n.firestore,tr),i=mD(n.converter,e,t);return Oy(r,[hD(Lp(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,er.none())])}function Lx(n,e,t,...r){n=rn(n,Wn);const i=rn(n.firestore,tr),u=Lp(i);let c;return c="string"==typeof(e=(0,Yt.m9)(e))||e instanceof Uc?AS(u,"updateDoc",n._key,e,t,r):SS(u,"updateDoc",n._key,e),Oy(i,[c.toMutation(n._key,er.exists(!0))])}function Vx(n,...e){var t,r,i;n=(0,Yt.m9)(n);let u={includeMetadataChanges:!1},c=0;"object"!=typeof e[c]||IS(e[c])||(u=e[c],c++);const f={includeMetadataChanges:u.includeMetadataChanges};if(IS(e[c])){const M=e[c];e[c]=null===(t=M.next)||void 0===t?void 0:t.bind(M),e[c+1]=null===(r=M.error)||void 0===r?void 0:r.bind(M),e[c+2]=null===(i=M.complete)||void 0===i?void 0:i.bind(M)}let y,b,A;if(n instanceof Wn)b=rn(n.firestore,tr),A=Mc(n._key.path),y={next:M=>{e[c]&&e[c](OS(b,n,M))},error:e[c+1],complete:e[c+2]};else{const M=rn(n,Wi);b=rn(M.firestore,tr),A=M._query;const F=new Up(b);y={next:B=>{e[c]&&e[c](new Ph(b,F,M,B))},error:e[c+1],complete:e[c+2]},Sx(n._query)}return function(M,F,B,G){const te=new oD(G),Ee=new HT(F,te,B);return M.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return VT(yield Ry(M),Ee)})),()=>{te.Ia(),M.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return UT(yield Ry(M),Ee)}))}}(Wr(b),A,f,y)}function Oy(n,e){return function(t,r){const i=new ri;return t.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return function ZN(n,e,t){return KT.apply(this,arguments)}(yield bS(t),r,i)})),i.promise}(Wr(n),e)}function OS(n,e,t){const r=t.docs.get(e._key),i=new Up(n);return new jc(n,i,e._key,r,new Bp(t.hasPendingWrites,t.fromCache),e.converter)}class hP extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Lp(e)}get(e){const t=Lh(e,this._firestore),r=new nP(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return et();const u=i[0];if(u.isFoundDocument())return new V0(this._firestore,r,u.key,u,t.converter);if(u.isNoDocument())return new V0(this._firestore,r,t._key,null,t.converter);throw et()})}set(e,t,r){const i=Lh(e,this._firestore),u=mD(i.converter,t,r),c=hD(this._dataReader,"Transaction.set",i._key,u,null!==i.converter,r);return this._transaction.set(i._key,c),this}update(e,t,r,...i){const u=Lh(e,this._firestore);let c;return c="string"==typeof(t=(0,Yt.m9)(t))||t instanceof Uc?AS(this._dataReader,"Transaction.update",u._key,t,r,i):SS(this._dataReader,"Transaction.update",u._key,t),this._transaction.update(u._key,c),this}delete(e){const t=Lh(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Lh(e,this._firestore),r=new Up(this._firestore);return super.get(e).then(i=>new jc(this._firestore,r,t._key,i._document,new Bp(!1,!1),t.converter))}}function NS(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Me("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function Ux(){if("undefined"==typeof Uint8Array)throw new Me("unimplemented","Uint8Arrays are not available in this environment.")}function jx(){if(!function SI(){return"undefined"!=typeof atob}())throw new Me("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){wc=Gu.SDK_VERSION,(0,Gu._registerComponent)(new Hd.wA("firestore",(t,{options:r})=>{const i=t.getProvider("app").getImmediate(),u=new tr(i,new bt(t.getProvider("auth-internal")),new Rm(t.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),u._setSettings(r),u},"PUBLIC")),(0,Gu.registerVersion)(Dv,"3.4.8",n),(0,Gu.registerVersion)(Dv,"3.4.8","esm2017")}();class j0{constructor(e){this._delegate=e}static fromBase64String(e){return jx(),new j0(ml.fromBase64String(e))}static fromUint8Array(e){return Ux(),new j0(ml.fromUint8Array(e))}toBase64(){return jx(),this._delegate.toBase64()}toUint8Array(){return Ux(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function kS(n){return function EP(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class bP{enableIndexedDbPersistence(e,t){return function Mk(n,e){_x(n=rn(n,tr));const t=Wr(n),r=n._freezeSettings(),i=new gS;return yx(t,i,new XM(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function xk(n){_x(n=rn(n,tr));const e=Wr(n),t=n._freezeSettings(),r=new gS;return yx(e,r,new dk(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function Rk(n){if(n._initialized&&!n._terminated)throw new Me(ce.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new ri;return n._queue.enqueueAndForgetEvenWhileRestricted((0,_e.Z)(function*(){try{yield(t=(0,_e.Z)(function*(r){if(!no.vt())return Promise.resolve();const i=r+"main";yield no.delete(i)}),function(r){return t.apply(this,arguments)})(E0(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class $x{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Qa||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&ah("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function Ck(n,e,t,r={}){var i;const u=(n=rn(n,F0))._getSettings();if("firestore.googleapis.com"!==u.host&&u.host!==e&&ah("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},u),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let c,f;if("string"==typeof r.mockUserToken)c=r.mockUserToken,f=qr.MOCK_USER;else{c=(0,Yt.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const y=r.mockUserToken.sub||r.mockUserToken.user_id;if(!y)throw new Me(ce.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new qr(y)}n._authCredentials=new bM(new Cv(c,f))}}(this._delegate,e,t,r)}enableNetwork(){return function Nk(n){return function mk(n){return n.asyncQueue.enqueue((0,_e.Z)(function*(){const e=yield rx(n),t=yield ix(n);return e.setNetworkEnabled(!0),function(r){const i=Ge(r);return i.fu.delete(0),Dy(i)}(t)}))}(Wr(n=rn(n,tr)))}(this._delegate)}disableNetwork(){return function kk(n){return function yk(n){return n.asyncQueue.enqueue((0,_e.Z)(function*(){const e=yield rx(n),t=yield ix(n);return e.setNetworkEnabled(!1),(r=(0,_e.Z)(function*(i){const u=Ge(i);u.fu.add(0),yield o(u),u.wu.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}(Wr(n=rn(n,tr)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,ux("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function Ok(n){return function(e){const t=new ri;return e.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return function XN(n,e){return XT.apply(this,arguments)}(yield bS(e),t)})),t.promise}(Wr(n=rn(n,tr)))}(this._delegate)}onSnapshotsInSync(e){return function dP(n,e){return function wk(n,e){const t=new oD(e);return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return r=yield Ry(n),i=t,Ge(r).Eu.add(i),void i.next();var r,i})),()=>{t.Ia(),n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return r=yield Ry(n),i=t,void Ge(r).Eu.delete(i);var r,i}))}}(Wr(n=rn(n,tr)),IS(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Me("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Ny(this,fx(this._delegate,e))}catch(t){throw Is(t,"collection()","Firestore.collection()")}}doc(e){try{return new fa(this,lD(this._delegate,e))}catch(t){throw Is(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Ts(this,function Ik(n,e){if(n=rn(n,F0),CS("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Me(ce.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Wi(n,null,(t=e,new No(tn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Is(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function fP(n,e){return function Ek(n,e){const t=new ri;return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){const r=yield(i=n,aD(i).then(u=>u.datastore));var i;new pk(n.asyncQueue,r,e,t).run()})),t.promise}(Wr(n=rn(n,tr)),t=>e(new hP(n,t)))}(this._delegate,t=>e(new Hx(this,t)))}batch(){return Wr(this._delegate),new Gx(new Px(this._delegate,e=>Oy(this._delegate,e)))}loadBundle(e){return function Pk(n,e){const t=Wr(n=rn(n,tr)),r=new Sk;return function bk(n,e,t,r){const i=function(u,c){let f;return f="string"==typeof u?(new TextEncoder).encode(u):u,y=function(y,b){if(y instanceof Uint8Array)return ex(y,b);if(y instanceof ArrayBuffer)return ex(new Uint8Array(y),b);if(y instanceof ReadableStream)return y.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(f),new hk(y,c);var y}(t,by(e));n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){!function ck(n,e,t){const r=Ge(n);var i;(i=(0,_e.Z)(function*(u,c,f){try{const y=yield c.getMetadata();if(yield function(F,B){const G=Ge(F),te=zr(B.createTime);return G.persistence.runTransaction("hasNewerBundle","readonly",Ee=>G._s.getBundleMetadata(Ee,B.id)).then(Ee=>!!Ee&&Ee.createTime.compareTo(te)>=0)}(u.localStore,y))return yield c.close(),f._completeWith({taskState:"Success",documentsLoaded:(F=y).totalDocuments,bytesLoaded:F.totalBytes,totalDocuments:F.totalDocuments,totalBytes:F.totalBytes}),Promise.resolve(new Set);f._updateProgress(HM(y));const b=new HN(y,u.localStore,c.M);let A=yield c.da();for(;A;){const F=yield b.ku(A);F&&f._updateProgress(F),A=yield c.da()}const M=yield b.complete();return yield Bc(u,M.Fu,void 0),yield function(F,B){const G=Ge(F);return G.persistence.runTransaction("Save bundle","readwrite",te=>G._s.saveBundleMetadata(te,B))}(u.localStore,y),f._completeWith(M.progress),Promise.resolve(M.Ou)}catch(y){return ah("SyncEngine",`Loading bundle failed with ${y}`),f._failWith(y),Promise.resolve(new Set)}var F}),function(u,c,f){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield bS(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function Fk(n,e){return function Dk(n,e){return n.asyncQueue.enqueue((0,_e.Z)(function*(){return function(t,r){const i=Ge(t);return i.persistence.runTransaction("Get named query","readonly",u=>i._s.getNamedQuery(u,r))}(yield ES(n),e)}))}(Wr(n=rn(n,tr)),e).then(t=>t?new Wi(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Ts(this,t):null)}}class yD extends RS{constructor(e){super(),this.firestore=e}convertBytes(e){return new j0(new ml(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return fa.forKey(t,this.firestore,null)}}class Hx{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new yD(e)}get(e){const t=$p(e);return this._delegate.get(t).then(r=>new $0(this._firestore,new jc(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=$p(e);return r?(NS("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const u=$p(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...i),this}delete(e){const t=$p(e);return this._delegate.delete(t),this}}class Gx{constructor(e){this._delegate=e}set(e,t,r){const i=$p(e);return r?(NS("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const u=$p(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...i),this}delete(e){const t=$p(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class jp{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new B0(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new H0(this._firestore,r),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=jp.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let u=i.get(t);return u||(u=new jp(e,new yD(e),t),i.set(t,u)),u}}jp.INSTANCES=new WeakMap;class fa{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new yD(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Me("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new fa(t,new Wn(t._delegate,r,new $e(e)))}static forKey(e,t,r){return new fa(t,new Wn(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Ny(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Ny(this.firestore,fx(this._delegate,e))}catch(t){throw Is(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Yt.m9)(e))instanceof Wn&&px(this._delegate,e)}set(e,t){t=NS("DocumentReference.set",t);try{return t?Fx(this._delegate,e,t):Fx(this._delegate,e)}catch(r){throw Is(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?Lx(this._delegate,e):Lx(this._delegate,e,t,...r)}catch(i){throw Is(i,"updateDoc()","DocumentReference.update()")}}delete(){return function lP(n){return Oy(rn(n.firestore,tr),[new Hm(n._key,er.none())])}(this._delegate)}onSnapshot(...e){const t=qx(e),r=zx(e,i=>new $0(this.firestore,new jc(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return Vx(this._delegate,t,r)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function iP(n){n=rn(n,Wn);const e=rn(n.firestore,tr),t=Wr(e),r=new Up(e);return function _k(n,e){const t=new ri;return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return(r=(0,_e.Z)(function*(i,u,c){try{const f=yield function(y,b){const A=Ge(y);return A.persistence.runTransaction("read document","readonly",M=>A.ci.Ls(M,b))}(i,u);f.isFoundDocument()?c.resolve(f):f.isNoDocument()?c.resolve(null):c.reject(new Me(ce.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(f){const y=Sy(f,`Failed to get document '${u} from cache`);c.reject(y)}}),function(i,u,c){return r.apply(this,arguments)})(yield ES(n),e,t);var r})),t.promise}(t,n._key).then(i=>new jc(e,r,n._key,i,new Bp(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function sP(n){n=rn(n,Wn);const e=rn(n.firestore,tr);return sx(Wr(e),n._key,{source:"server"}).then(t=>OS(e,n,t))}(this._delegate):function rP(n){n=rn(n,Wn);const e=rn(n.firestore,tr);return sx(Wr(e),n._key).then(t=>OS(e,n,t))}(this._delegate),t.then(r=>new $0(this.firestore,new jc(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new fa(this.firestore,this._delegate.withConverter(e?jp.getInstance(this.firestore,e):null))}}function Is(n,e,t){return n.message=n.message.replace(e,t),n}function qx(n){for(const e of n)if("object"==typeof e&&!kS(e))return e;return{}}function zx(n,e){var t,r;let i;return i=kS(n[0])?n[0]:kS(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:u=>{i.next&&i.next(e(u))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class $0{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new fa(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return Tx(this._delegate,e._delegate)}}class H0 extends $0{data(e){const t=this._delegate.data(e);return function DI(n,e){n||et()}(void 0!==t),t}}class Ts{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new yD(e)}where(e,t,r){try{return new Ts(this.firestore,Fh(this._delegate,function Wk(n,e,t){const r=e,i=gD("where",n);return new zk(i,r,t)}(e,t,r)))}catch(i){throw Is(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Ts(this.firestore,Fh(this._delegate,function Zk(n,e="asc"){const t=e,r=gD("orderBy",n);return new Kk(r,t)}(e,t)))}catch(r){throw Is(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Ts(this.firestore,Fh(this._delegate,function Yk(n){return dx("limit",n),new Ax("limit",n,"F")}(e)))}catch(t){throw Is(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Ts(this.firestore,Fh(this._delegate,function Qk(n){return dx("limitToLast",n),new Ax("limitToLast",n,"L")}(e)))}catch(t){throw Is(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Ts(this.firestore,Fh(this._delegate,function Jk(...n){return new Mx("startAt",n,!0)}(...e)))}catch(t){throw Is(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Ts(this.firestore,Fh(this._delegate,function Xk(...n){return new Mx("startAfter",n,!1)}(...e)))}catch(t){throw Is(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Ts(this.firestore,Fh(this._delegate,function eP(...n){return new xx("endBefore",n,!1)}(...e)))}catch(t){throw Is(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Ts(this.firestore,Fh(this._delegate,function tP(...n){return new xx("endAt",n,!0)}(...e)))}catch(t){throw Is(t,"endAt()","Query.endAt()")}}isEqual(e){return gx(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function aP(n){n=rn(n,Wi);const e=rn(n.firestore,tr),t=Wr(e),r=new Up(e);return function vk(n,e){const t=new ri;return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return(r=(0,_e.Z)(function*(i,u,c){try{const f=yield xp(i,u,!0),y=new zM(u,f.li),b=y.Gu(f.documents),A=y.applyChanges(b,!1);c.resolve(A.snapshot)}catch(f){const y=Sy(f,`Failed to execute query '${u} against cache`);c.reject(y)}}),function(i,u,c){return r.apply(this,arguments)})(yield ES(n),e,t);var r})),t.promise}(t,n._query).then(i=>new Ph(e,r,n,i))}(this._delegate):"server"===(null==e?void 0:e.source)?function uP(n){n=rn(n,Wi);const e=rn(n.firestore,tr),t=Wr(e),r=new Up(e);return ox(t,n._query,{source:"server"}).then(i=>new Ph(e,r,n,i))}(this._delegate):function oP(n){n=rn(n,Wi);const e=rn(n.firestore,tr),t=Wr(e),r=new Up(e);return Sx(n._query),ox(t,n._query).then(i=>new Ph(e,r,n,i))}(this._delegate),t.then(r=>new PS(this.firestore,new Ph(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=qx(e),r=zx(e,i=>new PS(this.firestore,new Ph(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return Vx(this._delegate,t,r)}withConverter(e){return new Ts(this.firestore,this._delegate.withConverter(e?jp.getInstance(this.firestore,e):null))}}class CP{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new H0(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class PS{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Ts(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new H0(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new CP(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new H0(this._firestore,r))})}isEqual(e){return Tx(this._delegate,e._delegate)}}class Ny extends Ts{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new fa(this.firestore,e):null}doc(e){try{return new fa(this.firestore,void 0===e?lD(this._delegate):lD(this._delegate,e))}catch(t){throw Is(t,"doc()","CollectionReference.doc()")}}add(e){return function cP(n,e){const t=rn(n.firestore,tr),r=lD(n),i=mD(n.converter,e);return Oy(t,[hD(Lp(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,er.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new fa(this.firestore,t))}isEqual(e){return px(this._delegate,e._delegate)}withConverter(e){return new Ny(this.firestore,this._delegate.withConverter(e?jp.getInstance(this.firestore,e):null))}}function $p(n){return rn(n,Wn)}class FS{constructor(...e){this._delegate=new Uc(...e)}static documentId(){return new FS(Xn.keyField().canonicalString())}isEqual(e){return(e=(0,Yt.m9)(e))instanceof Uc&&this._delegate._internalPath.isEqual(e._internalPath)}}class Hp{constructor(e){this._delegate=e}static serverTimestamp(){const e=function gP(){return new TS("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Hp(e)}static delete(){const e=function pP(){return new L0("deleteField")}();return e._methodName="FieldValue.delete",new Hp(e)}static arrayUnion(...e){const t=function mP(...n){return new Uk("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Hp(t)}static arrayRemove(...e){const t=function yP(...n){return new jk("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Hp(t)}static increment(e){const t=function _P(n){return new $k("increment",n)}(e);return t._methodName="FieldValue.increment",new Hp(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const IP={Firestore:$x,GeoPoint:cD,Timestamp:lr,Blob:j0,Transaction:Hx,WriteBatch:Gx,DocumentReference:fa,DocumentSnapshot:$0,Query:Ts,QueryDocumentSnapshot:H0,QuerySnapshot:PS,CollectionReference:Ny,FieldPath:FS,FieldValue:Hp,setLogLevel:function DP(n){!function HE(n){Ka.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function SP(n){(function TP(n,e){n.INTERNAL.registerComponent(new Hd.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},IP)))})(n,(e,t)=>new $x(e,t,new bP)),n.registerVersion("@firebase/firestore-compat","0.1.17")}(yM.Z);var _D=k(5363),AP=k(6063);class MP extends jr.x{constructor(e=1/0,t=1/0,r=AP.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:u,_windowTime:c}=this;t||(r.push(e),!i&&r.push(u.now()+c)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,u=i.slice();for(let c=0;c<u.length&&!e.closed;c+=r?1:2)e.next(u[c]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,u=(i?1:2)*e;if(e<1/0&&u<r.length&&r.splice(0,r.length-u),!i){const c=t.now();let f=0;for(let y=1;y<r.length&&r[y]<=c;y+=2)f=y;f&&r.splice(0,f+1)}}}var xP=k(3099);function Wx(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=null!=n?n:1/0,(0,xP.B)({connector:()=>new MP(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function Kx(n,e){return(0,ar.m)(e)?Hr(()=>n,e):Hr(()=>n)}var LS=k(9468);k(5867);const Yx=new Map,PP={activated:!1,tokenObservers:[]},FP={initialized:!1,enabled:!1};function Di(n){return Yx.get(n)||PP}function ru(n,e){Yx.set(n,e)}function wD(){return FP}class jP{constructor(e,t,r,i,u){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=u,this.pending=null,this.nextErrorWaitInterval=i,i>u)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,_e.Z)(function*(){t.stop();try{t.pending=new Yt.BH,yield function $P(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Yt.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Ss=new Yt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Jx(n){if(!Di(n).activated)throw Ss.create("use-before-activation",{appName:n.name})}function jS(n,e){return $S.apply(this,arguments)}function $S(){return $S=(0,_e.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const M=yield i.getHeartbeatsHeader();M&&(r["X-Firebase-Client"]=M)}const u={method:"POST",body:JSON.stringify(e),headers:r};let c,f;try{c=yield fetch(n,u)}catch(M){throw Ss.create("fetch-network-error",{originalErrorMessage:M.message})}if(200!==c.status)throw Ss.create("fetch-status-error",{httpStatus:c.status});try{f=yield c.json()}catch(M){throw Ss.create("fetch-parse-error",{originalErrorMessage:M.message})}const y=f.ttl.match(/^([\d.]+)(s)$/);if(!y||!y[2]||isNaN(Number(y[1])))throw Ss.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${f.ttl}`});const b=1e3*Number(y[1]),A=Date.now();return{token:f.attestationToken,expireTimeMillis:A+b,issuedAtTimeMillis:A}}),$S.apply(this,arguments)}function WP(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const G0="firebase-app-check-store";let DD=null;function eR(){return DD||(DD=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(Ss.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(G0,{keyPath:"compositeKey"})}}catch(t){e(Ss.create("storage-open",{originalErrorMessage:t.message}))}}),DD)}function HS(){return HS=(0,_e.Z)(function*(n,e){const r=(yield eR()).transaction(G0,"readwrite"),u=r.objectStore(G0).put({compositeKey:n,value:e});return new Promise((c,f)=>{u.onsuccess=y=>{c()},r.onerror=y=>{var b;f(Ss.create("storage-set",{originalErrorMessage:null===(b=y.target.error)||void 0===b?void 0:b.message}))}})}),HS.apply(this,arguments)}const q0=new Xs.Yd("@firebase/app-check");function iR(n,e){return(0,Yt.hl)()?function QP(n,e){return function tR(n,e){return HS.apply(this,arguments)}(function rR(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{q0.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function sR(){return wD().enabled}function oR(){return WS.apply(this,arguments)}function WS(){return WS=(0,_e.Z)(function*(){const n=wD();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),WS.apply(this,arguments)}const r1={error:"UNKNOWN_ERROR"};function s1(n){return Yt.US.encodeString(JSON.stringify(n),!1)}function CD(n){return KS.apply(this,arguments)}function KS(){return KS=(0,_e.Z)(function*(n,e=!1){const t=n.app;Jx(t);const r=Di(t);let u,i=r.token;if(!i){const y=yield r.cachedTokenPromise;y&&ID(y)&&(i=y)}if(!e&&i&&ID(i))return{token:i.token};let f,c=!1;if(sR()){r.exchangeTokenPromise||(r.exchangeTokenPromise=jS(WP(t,yield oR()),n.heartbeatServiceProvider).then(b=>(r.exchangeTokenPromise=void 0,b)),c=!0);const y=yield r.exchangeTokenPromise;return yield iR(t,y),ru(t,Object.assign(Object.assign({},r),{token:y})),{token:y.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(y=>(r.exchangeTokenPromise=void 0,y)),c=!0),i=yield r.exchangeTokenPromise}catch(y){"appCheck/throttled"===y.code?q0.warn(y.message):q0.error(y),u=y}return i?(f={token:i.token},ru(t,Object.assign(Object.assign({},r),{token:i})),yield iR(t,i)):f=a1(u),c&&uR(t,f),f}),KS.apply(this,arguments)}function YS(n,e){const t=Di(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),ru(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function aR(n){const{app:e}=n,t=Di(e);let r=t.tokenRefresher;r||(r=function o1(n){const{app:e}=n;return new jP((0,_e.Z)(function*(){let r;if(r=Di(e).token?yield CD(n,!0):yield CD(n),r.error)throw r.error}),()=>!0,()=>{const t=Di(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),ru(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function uR(n,e){const t=Di(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(i){}}function ID(n){return n.expireTimeMillis-Date.now()>0}function a1(n){return{token:s1(r1),error:n}}class u1{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Di(this.app);for(const t of e)YS(this.app,t.next);return Promise.resolve()}}const mR="app-check-internal";!function b1(){(0,Gu._registerComponent)(new Hd.wA("app-check",n=>function l1(n,e){return new u1(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(mR).initialize()})),(0,Gu._registerComponent)(new Hd.wA(mR,n=>function c1(n){return{getToken:e=>CD(n,e),addTokenListener:e=>function ZS(n,e,t,r){const{app:i}=n,u=Di(i),c={next:t,error:r,type:e};if(ru(i,Object.assign(Object.assign({},u),{tokenObservers:[...u.tokenObservers,c]})),u.token&&ID(u.token)){const f=u.token;Promise.resolve().then(()=>{t({token:f.token}),aR(n)}).catch(()=>{})}u.cachedTokenPromise.then(()=>aR(n))}(n,"INTERNAL",e),removeTokenListener:e=>YS(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Gu.registerVersion)("@firebase/app-check","0.5.6")}();class eA{constructor(){return(0,Gr.vb)("app-check")}}"undefined"!=typeof window&&window;var S1=k(127);const _R=new p.OlP("angularfire2.auth.use-emulator"),vR=new p.OlP("angularfire2.auth.settings"),wR=new p.OlP("angularfire2.auth.tenant-id"),ER=new p.OlP("angularfire2.auth.langugage-code"),bR=new p.OlP("angularfire2.auth.use-device-language"),DR=new p.OlP("angularfire.auth.persistence"),CR=(n,e,t,r,i,u,c,f)=>(0,as.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const y=e.runOutsideAngular(()=>n.auth());if(t&&y.useEmulator(...t),r&&(y.tenantId=r),y.languageCode=i,u&&y.useDeviceLanguage(),c)for(const[b,A]of Object.entries(c))y.settings[b]=A;return f&&y.setPersistence(f),y},[t,r,i,u,c,f]);let IR=(()=>{class n{constructor(t,r,i,u,c,f,y,b,A,M,F,B){const G=new jr.x,te=_t(void 0).pipe((0,_D.Q)(c.outsideAngular),Hr(()=>u.runOutsideAngular(()=>Promise.resolve().then(k.bind(k,820)))),(0,yt.U)(()=>(0,as.on)(t,u,r)),(0,yt.U)(Ee=>CR(Ee,u,f,b,A,M,y,F)),Wx({bufferSize:1,refCount:!1}));if(_r(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=_t(null);else{te.pipe(Ln()).subscribe();const We=te.pipe(Hr(Xe=>Xe.getRedirectResult().then(vt=>vt,()=>null)),Gr.iC,Wx({bufferSize:1,refCount:!1})),Ze=te.pipe(Hr(Xe=>new Cn.y(vt=>({unsubscribe:u.runOutsideAngular(()=>Xe.onAuthStateChanged(Tt=>vt.next(Tt),Tt=>vt.error(Tt),()=>vt.complete()))})))),Ue=te.pipe(Hr(Xe=>new Cn.y(vt=>({unsubscribe:u.runOutsideAngular(()=>Xe.onIdTokenChanged(Tt=>vt.next(Tt),Tt=>vt.error(Tt),()=>vt.complete()))}))));this.authState=We.pipe(Kx(Ze),(0,LS.R)(c.outsideAngular),(0,_D.Q)(c.insideAngular)),this.user=We.pipe(Kx(Ue),(0,LS.R)(c.outsideAngular),(0,_D.Q)(c.insideAngular)),this.idToken=this.user.pipe(Hr(Xe=>Xe?(0,In.D)(Xe.getIdToken()):_t(null))),this.idTokenResult=this.user.pipe(Hr(Xe=>Xe?(0,In.D)(Xe.getIdTokenResult()):_t(null))),this.credential=(0,sf.T)(We,G,this.authState.pipe(Qs(Xe=>!Xe))).pipe((0,yt.U)(Xe=>(null==Xe?void 0:Xe.user)?Xe:null),(0,LS.R)(c.outsideAngular),(0,_D.Q)(c.insideAngular))}return(0,as.pX)(this,te,u,{spy:{apply:(Ee,We,Ze)=>{(Ee.startsWith("signIn")||Ee.startsWith("createUser"))&&Ze.then(Ue=>G.next(Ue))}}})}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(as.Dh),p.LFG(as.xv,8),p.LFG(p.Lbi),p.LFG(p.R0b),p.LFG(Gr.HU),p.LFG(_R,8),p.LFG(vR,8),p.LFG(wR,8),p.LFG(ER,8),p.LFG(bR,8),p.LFG(DR,8),p.LFG(eA,8))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function TR(n,e){return function M1(n,e=Kw.z){return new Cn.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=r&&r()}})}(n,e)}function nA(n,e){return TR(n,e).pipe((0,yt.U)(t=>({payload:t,type:"query"})))}function SD(n,e){return nA(n,e).pipe(bd(void 0),Ao(),(0,yt.U)(([t,r])=>{const i=r.payload.docChanges(),u=i.map(c=>({type:c.type,payload:c}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((c,f)=>{const y=i.find(A=>A.doc.ref.isEqual(c.ref)),b=null==t?void 0:t.payload.docs.find(A=>A.ref.isEqual(c.ref));y&&JSON.stringify(y.doc.metadata)===JSON.stringify(c.metadata)||!y&&b&&JSON.stringify(b.metadata)===JSON.stringify(c.metadata)||u.push({type:"modified",payload:{oldIndex:f,newIndex:f,type:"modified",doc:c}})}),u}))}function SR(n,e,t){return SD(n,t).pipe(Lu((r,i)=>function R1(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function O1(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return rA(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return rA(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return rA(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(u=>u.payload),e),[]),function Yg(n,e=Pu.y){return n=null!=n?n:QC,(0,ei.e)((t,r)=>{let i,u=!0;t.subscribe((0,$r.x)(r,c=>{const f=e(c);(u||!n(i,f))&&(u=!1,i=f,r.next(c))}))})}(),(0,yt.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function rA(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function AR(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class MR{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=SD(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,yt.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(bd(void 0),Ao(),Qs(([r,i])=>i.length>0||!r),(0,yt.U)(([r,i])=>i),Gr.iC)}auditTrail(e){return this.stateChanges(e).pipe(Lu((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=AR(e);return SR(this.query,t,this.afs.schedulers.outsideAngular).pipe(Gr.iC)}valueChanges(e={}){return nA(this.query,this.afs.schedulers.outsideAngular).pipe((0,yt.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),Gr.iC)}get(e){return(0,In.D)(this.query.get(e)).pipe(Gr.iC)}add(e){return this.ref.add(e)}doc(e){return new xR(this.ref.doc(e),this.afs)}}class xR{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:u}=NR(r,t);return new MR(i,u,this.afs)}snapshotChanges(){return function x1(n,e){return TR(n,e).pipe(bd(void 0),Ao(),(0,yt.U)(([t,r])=>r.exists?(null==t?void 0:t.exists)?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Gr.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,yt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,In.D)(this.ref.get(e)).pipe(Gr.iC)}}class N1{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?SD(this.query,this.afs.schedulers.outsideAngular).pipe((0,yt.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),Qs(t=>t.length>0),Gr.iC):SD(this.query,this.afs.schedulers.outsideAngular).pipe(Gr.iC)}auditTrail(e){return this.stateChanges(e).pipe(Lu((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=AR(e);return SR(this.query,t,this.afs.schedulers.outsideAngular).pipe(Gr.iC)}valueChanges(e={}){return nA(this.query,this.afs.schedulers.outsideAngular).pipe((0,yt.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),Gr.iC)}get(e){return(0,In.D)(this.query.get(e)).pipe(Gr.iC)}}const RR=new p.OlP("angularfire2.enableFirestorePersistence"),OR=new p.OlP("angularfire2.firestore.persistenceSettings"),k1=new p.OlP("angularfire2.firestore.settings"),P1=new p.OlP("angularfire2.firestore.use-emulator");function NR(n,e=(t=>t)){return{query:e(n),ref:n}}let iA=(()=>{class n{constructor(t,r,i,u,c,f,y,b,A,M,F,B,G,te,Ee,We,Ze){this.schedulers=y;const Ue=(0,as.on)(t,f,r),Xe=A;M&&CR(Ue,f,F,G,te,Ee,B,We),[this.firestore,this.persistenceEnabled$]=(0,as.cc)(`${Ue.name}.firestore`,"AngularFirestore",Ue.name,()=>{const vt=f.runOutsideAngular(()=>Ue.firestore());if(u&&vt.settings(u),Xe&&vt.useEmulator(...Xe),i&&!_r(c)){const Tt=()=>{try{return(0,In.D)(vt.enablePersistence(b||void 0).then(()=>!0,()=>!1))}catch(Ht){return"undefined"!=typeof console&&console.warn(Ht),_t(!1)}};return[vt,f.runOutsideAngular(Tt)]}return[vt,_t(!1)]},[u,Xe,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:u,query:c}=NR(i,r),f=this.schedulers.ngZone.run(()=>u);return new MR(f,c,this)}collectionGroup(t,r){const i=r||(c=>c),u=this.firestore.collectionGroup(t);return new N1(i(u),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new xR(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(as.Dh),p.LFG(as.xv,8),p.LFG(RR,8),p.LFG(k1,8),p.LFG(p.Lbi),p.LFG(p.R0b),p.LFG(Gr.HU),p.LFG(OR,8),p.LFG(P1,8),p.LFG(IR,8),p.LFG(_R,8),p.LFG(vR,8),p.LFG(wR,8),p.LFG(ER,8),p.LFG(bR,8),p.LFG(DR,8),p.LFG(eA,8))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),kR=(()=>{class n{constructor(){S1.Z.registerVersion("angularfire",Gr.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:RR,useValue:!0},{provide:OR,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=p.oAB({type:n}),n.\u0275inj=p.cJS({providers:[iA]}),n})();const PR=(n,e)=>{if(void 0===e)return n;const t=Object.keys(e);return n.filter(i=>((i,u,c)=>void 0===i.find(f=>u[f]!==c[f]))(t,i,e))};let FR=(()=>{class n{constructor(t){this._client=t}getAll(t){return this._client.collection("images").valueChanges({idField:"id"}).pipe((0,yt.U)(r=>PR(r,t)))}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(iA))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})(),F1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=p.oAB({type:n}),n.\u0275inj=p.cJS({providers:[FR,{provide:Zg,useExisting:FR}],imports:[[kR]]}),n})(),L1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=p.oAB({type:n}),n.\u0275inj=p.cJS({providers:[],imports:[[yr,$d.forChild([{path:"",component:qw}]),zw,Ww,F1]]}),n})();const LR=new p.OlP("GETS_ALL_TASK_DTO"),VR=new p.OlP("SETS_TASK_DTO"),BR=new p.OlP("REMOVES_TASK_DTO");class AD{}const $c="*";function UR(n,e=null){return{type:2,steps:n,options:e}}function MD(n){return{type:6,styles:n,offset:null}}function jR(n){Promise.resolve(null).then(n)}class z0{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){jR(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class $R{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const u=this.players.length;0==u?jR(()=>this._onFinish()):this.players.forEach(c=>{c.onDone(()=>{++t==u&&this._onFinish()}),c.onDestroy(()=>{++r==u&&this._onDestroy()}),c.onStart(()=>{++i==u&&this._onStart()})}),this.totalTime=this.players.reduce((c,f)=>Math.max(c,f.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}const U1=function(n){return{dropdown:n}},j1=["*"],HR=[MD({height:0,overflow:"hidden"}),function B1(n,e=null){return{type:4,styles:e,timings:n}}("220ms cubic-bezier(0, 0, 0.2, 1)",MD({height:"*",overflow:"hidden"}))];let Gp=(()=>{class n{constructor(){this.direction="down",this.autoClose=!0,this.insideClick=!1,this.isAnimated=!1,this.stopOnClickPropagation=!1,this.isOpenChange=new p.vpe,this.isDisabledChange=new p.vpe,this.toggleClick=new p.vpe,this.counts=0,this.dropdownMenu=new Promise(t=>{this.resolveDropdownMenu=t})}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),H1=(()=>{class n{constructor(t,r,i,u,c){this._state=t,this.cd=r,this._renderer=i,this._element=u,this.isOpen=!1,this._factoryDropDownAnimation=c.build(HR),this._subscription=t.isOpenChange.subscribe(f=>{this.isOpen=f;const y=this._element.nativeElement.querySelector(".dropdown-menu");this._renderer.addClass(this._element.nativeElement.querySelector("div"),"open"),y&&!Mi()&&(this._renderer.addClass(y,"show"),(y.classList.contains("dropdown-menu-right")||y.classList.contains("dropdown-menu-end"))&&(this._renderer.setStyle(y,"left","auto"),this._renderer.setStyle(y,"right","0")),"up"===this.direction&&(this._renderer.setStyle(y,"top","auto"),this._renderer.setStyle(y,"transform","translateY(-101%)"))),y&&this._state.isAnimated&&this._factoryDropDownAnimation.create(y).play(),this.cd.markForCheck(),this.cd.detectChanges()})}get direction(){return this._state.direction}_contains(t){return this._element.nativeElement.contains(t)}ngOnDestroy(){this._subscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(p.Y36(Gp),p.Y36(p.sBO),p.Y36(p.Qsj),p.Y36(p.SBq),p.Y36(AD))},n.\u0275cmp=p.Xpm({type:n,selectors:[["bs-dropdown-container"]],hostAttrs:[2,"display","block","position","absolute","z-index","1040"],ngContentSelectors:j1,decls:2,vars:9,consts:[[3,"ngClass"]],template:function(t,r){1&t&&(p.F$t(),p.TgZ(0,"div",0),p.Hsn(1),p.qZA()),2&t&&(p.ekj("dropup","up"===r.direction)("show",r.isOpen)("open",r.isOpen),p.Q6J("ngClass",p.VKq(7,U1,"down"===r.direction)))},directives:[Xi],encapsulation:2,changeDetection:0}),n})(),G1=(()=>{class n{constructor(){this.autoClose=!0,this.insideClick=!1,this.isAnimated=!1,this.stopOnClickPropagation=!1}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),GR=(()=>{class n{constructor(t,r,i,u,c,f,y){this._elementRef=t,this._renderer=r,this._viewContainerRef=i,this._cis=u,this._state=c,this._config=f,this.dropup=!1,this._isInlineOpen=!1,this._isDisabled=!1,this._subscriptions=[],this._isInited=!1,this._state.autoClose=this._config.autoClose,this._state.insideClick=this._config.insideClick,this._state.isAnimated=this._config.isAnimated,this._state.stopOnClickPropagation=this._config.stopOnClickPropagation,this._factoryDropDownAnimation=y.build(HR),this._dropdown=this._cis.createLoader(this._elementRef,this._viewContainerRef,this._renderer).provide({provide:Gp,useValue:this._state}),this.onShown=this._dropdown.onShown,this.onHidden=this._dropdown.onHidden,this.isOpenChange=this._state.isOpenChange}set autoClose(t){this._state.autoClose=t}get autoClose(){return this._state.autoClose}set isAnimated(t){this._state.isAnimated=t}get isAnimated(){return this._state.isAnimated}set insideClick(t){this._state.insideClick=t}get insideClick(){return this._state.insideClick}set isDisabled(t){this._isDisabled=t,this._state.isDisabledChange.emit(t),t&&this.hide()}get isDisabled(){return this._isDisabled}get isOpen(){return this._showInline?this._isInlineOpen:this._dropdown.isShown}set isOpen(t){t?this.show():this.hide()}get isBs4(){return!Mi()}get _showInline(){return!this.container}ngOnInit(){this._isInited||(this._isInited=!0,this._dropdown.listen({outsideClick:!1,triggers:this.triggers,show:()=>this.show()}),this._subscriptions.push(this._state.toggleClick.subscribe(t=>this.toggle(t))),this._subscriptions.push(this._state.isDisabledChange.pipe(Qs(t=>t)).subscribe(()=>this.hide())))}show(){if(!this.isOpen&&!this.isDisabled){if(this._showInline)return this._inlinedMenu||this._state.dropdownMenu.then(t=>{this._dropdown.attachInline(t.viewContainer,t.templateRef),this._inlinedMenu=this._dropdown._inlineViewRef,this.addBs4Polyfills(),this._inlinedMenu&&this._renderer.addClass(this._inlinedMenu.rootNodes[0].parentNode,"open"),this.playAnimation()}).catch(),this.addBs4Polyfills(),this._isInlineOpen=!0,this.onShown.emit(!0),this._state.isOpenChange.emit(!0),void this.playAnimation();this._state.dropdownMenu.then(t=>{const r=this.dropup||void 0!==this.dropup&&this.dropup;this._state.direction=r?"up":"down";const i=this.placement||(r?"top start":"bottom start");this._dropdown.attach(H1).to(this.container).position({attachment:i}).show({content:t.templateRef,placement:i}),this._state.isOpenChange.emit(!0)}).catch()}}hide(){!this.isOpen||(this._showInline?(this.removeShowClass(),this.removeDropupStyles(),this._isInlineOpen=!1,this.onHidden.emit(!0)):this._dropdown.hide(),this._state.isOpenChange.emit(!1))}toggle(t){return this.isOpen||!t?this.hide():this.show()}_contains(t){return this._elementRef.nativeElement.contains(t.target)||this._dropdown.instance&&this._dropdown.instance._contains(t.target)}navigationClick(t){const r=this._elementRef.nativeElement.querySelector(".dropdown-menu");if(!r)return;const i=this._elementRef.nativeElement.ownerDocument.activeElement,u=r.querySelectorAll(".dropdown-item");switch(t.keyCode){case 38:this._state.counts>0&&u[--this._state.counts].focus();break;case 40:this._state.counts+1<u.length&&(i.classList!==u[this._state.counts].classList?u[this._state.counts].focus():u[++this._state.counts].focus())}t.preventDefault()}ngOnDestroy(){for(const t of this._subscriptions)t.unsubscribe();this._dropdown.dispose()}addBs4Polyfills(){Mi()||(this.addShowClass(),this.checkRightAlignment(),this.addDropupStyles())}playAnimation(){this._state.isAnimated&&this._inlinedMenu&&setTimeout(()=>{this._inlinedMenu&&this._factoryDropDownAnimation.create(this._inlinedMenu.rootNodes[0]).play()})}addShowClass(){this._inlinedMenu&&this._inlinedMenu.rootNodes[0]&&this._renderer.addClass(this._inlinedMenu.rootNodes[0],"show")}removeShowClass(){this._inlinedMenu&&this._inlinedMenu.rootNodes[0]&&this._renderer.removeClass(this._inlinedMenu.rootNodes[0],"show")}checkRightAlignment(){if(this._inlinedMenu&&this._inlinedMenu.rootNodes[0]){const t=this._inlinedMenu.rootNodes[0].classList.contains("dropdown-menu-right")||this._inlinedMenu.rootNodes[0].classList.contains("dropdown-menu-end");this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"left",t?"auto":"0"),this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"right",t?"0":"auto")}}addDropupStyles(){this._inlinedMenu&&this._inlinedMenu.rootNodes[0]&&(this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"top",this.dropup?"auto":"100%"),this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"transform",this.dropup?"translateY(-101%)":"translateY(0)"),this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"bottom","auto"))}removeDropupStyles(){this._inlinedMenu&&this._inlinedMenu.rootNodes[0]&&(this._renderer.removeStyle(this._inlinedMenu.rootNodes[0],"top"),this._renderer.removeStyle(this._inlinedMenu.rootNodes[0],"transform"),this._renderer.removeStyle(this._inlinedMenu.rootNodes[0],"bottom"))}}return n.\u0275fac=function(t){return new(t||n)(p.Y36(p.SBq),p.Y36(p.Qsj),p.Y36(p.s_b),p.Y36(ku),p.Y36(Gp),p.Y36(G1),p.Y36(AD))},n.\u0275dir=p.lG2({type:n,selectors:[["","bsDropdown",""],["","dropdown",""]],hostVars:6,hostBindings:function(t,r){1&t&&p.NdJ("keydown.arrowDown",function(u){return r.navigationClick(u)})("keydown.arrowUp",function(u){return r.navigationClick(u)}),2&t&&p.ekj("dropup",r.dropup)("open",r.isOpen)("show",r.isOpen&&r.isBs4)},inputs:{placement:"placement",triggers:"triggers",container:"container",dropup:"dropup",autoClose:"autoClose",isAnimated:"isAnimated",insideClick:"insideClick",isDisabled:"isDisabled",isOpen:"isOpen"},outputs:{isOpenChange:"isOpenChange",onShown:"onShown",onHidden:"onHidden"},exportAs:["bs-dropdown"],features:[p._Bn([Gp])]}),n})(),q1=(()=>{class n{constructor(t,r,i){t.resolveDropdownMenu({templateRef:i,viewContainer:r})}}return n.\u0275fac=function(t){return new(t||n)(p.Y36(Gp),p.Y36(p.s_b),p.Y36(p.Rgc))},n.\u0275dir=p.lG2({type:n,selectors:[["","bsDropdownMenu",""],["","dropdownMenu",""]],exportAs:["bs-dropdown-menu"]}),n})(),z1=(()=>{class n{constructor(t,r,i,u,c){this._changeDetectorRef=t,this._dropdown=r,this._element=i,this._renderer=u,this._state=c,this.isOpen=!1,this._subscriptions=[],this._subscriptions.push(this._state.isOpenChange.subscribe(f=>{this.isOpen=f,f?(this._documentClickListener=this._renderer.listen("document","click",y=>{this._state.autoClose&&2!==y.button&&!this._element.nativeElement.contains(y.target)&&(!this._state.insideClick||!this._dropdown._contains(y))&&(this._state.toggleClick.emit(!1),this._changeDetectorRef.detectChanges())}),this._escKeyUpListener=this._renderer.listen(this._element.nativeElement,"keyup.esc",()=>{this._state.autoClose&&(this._state.toggleClick.emit(!1),this._changeDetectorRef.detectChanges())})):(this._documentClickListener&&this._documentClickListener(),this._escKeyUpListener&&this._escKeyUpListener())})),this._subscriptions.push(this._state.isDisabledChange.subscribe(f=>this.isDisabled=f||void 0))}onClick(t){this._state.stopOnClickPropagation&&t.stopPropagation(),!this.isDisabled&&this._state.toggleClick.emit(!0)}ngOnDestroy(){this._documentClickListener&&this._documentClickListener(),this._escKeyUpListener&&this._escKeyUpListener();for(const t of this._subscriptions)t.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(p.Y36(p.sBO),p.Y36(GR),p.Y36(p.SBq),p.Y36(p.Qsj),p.Y36(Gp))},n.\u0275dir=p.lG2({type:n,selectors:[["","bsDropdownToggle",""],["","dropdownToggle",""]],hostVars:3,hostBindings:function(t,r){1&t&&p.NdJ("click",function(u){return r.onClick(u)}),2&t&&p.uIk("aria-haspopup",!0)("disabled",r.isDisabled)("aria-expanded",r.isOpen)},exportAs:["bs-dropdown-toggle"]}),n})(),W1=(()=>{class n{static forRoot(){return{ngModule:n,providers:[ku,Fa,Gp]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=p.oAB({type:n}),n.\u0275inj=p.cJS({imports:[[yr]]}),n})();function K1(n,e){if(1&n){const t=p.EpF();p.TgZ(0,"ul",14)(1,"li",15)(2,"a",16),p.NdJ("click",function(){p.CHM(t);const i=p.oxw().$implicit;return p.oxw().clickConfirm(i.id)}),p._uU(3," Delete "),p.qZA(),p.TgZ(4,"a",17),p._uU(5," Edit "),p.qZA()()()}}const Z1=function(n){return{"input:checked":n}},Y1=function(n){return{"text-decoration-line-through":n}};function Q1(n,e){if(1&n){const t=p.EpF();p.TgZ(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5)(4,"input",6),p.NdJ("click",function(){const u=p.CHM(t).$implicit;return p.oxw().onItemClicked(u)}),p.qZA(),p.TgZ(5,"label",7)(6,"p",8),p._uU(7),p.qZA()()(),p.TgZ(8,"div",9)(9,"div",10)(10,"button",11),p._uU(11," \u{1f5d1} "),p._UZ(12,"span",12),p.qZA(),p.YNc(13,K1,6,0,"ul",13),p.qZA()()()()()}if(2&n){const t=e.$implicit;p.xp6(4),p.Q6J("ngClass",p.VKq(4,Z1,!0===t.done))("checked",t.done),p.xp6(2),p.Q6J("ngClass",p.VKq(6,Y1,!0===t.done)),p.xp6(1),p.hij(" ",t.task," ")}}function J1(n,e){1&n&&(p.TgZ(0,"div",18),p._uU(1," task deleted!\n"),p.qZA())}let X1=(()=>{class n{constructor(t,r,i){this._getsAllTaskDto=t,this._setsTaskDto=r,this._removesTaskDto=i,this.tasks$=this._getsAllTaskDto.getAll().pipe((0,yt.U)(u=>u.sort((c,f)=>c.created-f.created))),this.items$=["Delete","Edit"],this.deleteTaskAlert=!1}onItemClicked(t){this._setsTaskDto.set(!1===t.done?{id:t.id,done:!0}:{id:t.id,done:!1})}removeTask(t){this._removesTaskDto.remove(t)}clickConfirm(t){confirm("Are you sure to delete this task?")&&this._removesTaskDto.remove(t)}showDeleteTask(){this.deleteTaskAlert=!0}}return n.\u0275fac=function(t){return new(t||n)(p.Y36(LR),p.Y36(VR),p.Y36(BR))},n.\u0275cmp=p.Xpm({type:n,selectors:[["lib-task-list"]],decls:3,vars:4,consts:[["class","form-check",4,"ngFor","ngForOf"],["class","alert alert-success position-absolute top-0 end-0","role","alert",4,"ngIf"],[1,"form-check"],[1,"mycontainer"],[1,"row"],[1,"col"],["type","checkbox",1,"form-check-input",2,"border-radius","100%",3,"ngClass","checked","click"],["for","",1,"form-check-label"],[1,"d-inline",3,"ngClass"],[1,"col",2,"text-align","center"],["dropdown","",1,"btn-group"],["id","button-animated","dropdownToggle","","type","button","aria-controls","dropdown-animated",1,"dropdown-btn"],[1,"caret"],["id","dropdown-animated","class","dropdown-menu","role","menu","aria-labelledby","button-animated",4,"dropdownMenu"],["id","dropdown-animated","role","menu","aria-labelledby","button-animated",1,"dropdown-menu"],["role","menuitem"],[1,"dropdown-item",3,"click"],[1,"dropdown-item"],["role","alert",1,"alert","alert-success","position-absolute","top-0","end-0"]],template:function(t,r){1&t&&(p.YNc(0,Q1,14,8,"div",0),p.ALo(1,"async"),p.YNc(2,J1,2,0,"div",1)),2&t&&(p.Q6J("ngForOf",p.lcZ(1,2,r.tasks$)),p.xp6(2),p.Q6J("ngIf",r.deleteTaskAlert))},directives:[or,Xi,GR,z1,q1,hi],pipes:[lu],encapsulation:2,changeDetection:0}),n})(),qR=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(p.Y36(p.Qsj),p.Y36(p.SBq))},n.\u0275dir=p.lG2({type:n}),n})(),qp=(()=>{class n extends qR{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=p.n5z(n)))(r||n)}}(),n.\u0275dir=p.lG2({type:n,features:[p.qOj]}),n})();const yl=new p.OlP("NgValueAccessor"),nF={provide:yl,useExisting:(0,p.Gpc)(()=>xD),multi:!0},iF=new p.OlP("CompositionEventMode");let xD=(()=>{class n extends qR{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function rF(){const n=N()?N().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(p.Y36(p.Qsj),p.Y36(p.SBq),p.Y36(iF,8))},n.\u0275dir=p.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&p.NdJ("input",function(u){return r._handleInput(u.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(u){return r._compositionEnd(u.target.value)})},features:[p._Bn([nF]),p.qOj]}),n})();const Ki=new p.OlP("NgValidators"),Bh=new p.OlP("NgAsyncValidators");function nO(n){return null!=n}function rO(n){const e=(0,p.QGY)(n)?(0,In.D)(n):n;return(0,p.CqO)(e),e}function iO(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function sO(n,e){return e.map(t=>t(n))}function oO(n){return n.map(e=>function oF(n){return!n.validate}(e)?e:t=>e.validate(t))}function oA(n){return null!=n?function aO(n){if(!n)return null;const e=n.filter(nO);return 0==e.length?null:function(t){return iO(sO(t,e))}}(oO(n)):null}function aA(n){return null!=n?function uO(n){if(!n)return null;const e=n.filter(nO);return 0==e.length?null:function(t){return function eF(...n){const e=(0,fs.jO)(n),{args:t,keys:r}=cf(n),i=new Cn.y(u=>{const{length:c}=t;if(!c)return void u.complete();const f=new Array(c);let y=c,b=c;for(let A=0;A<c;A++){let M=!1;(0,wo.Xf)(t[A]).subscribe((0,$r.x)(u,F=>{M||(M=!0,b--),f[A]=F},()=>y--,void 0,()=>{(!y||!M)&&(b||u.next(r?Zy(r,f):f),u.complete())}))}});return e?i.pipe(ka(e)):i}(sO(t,e).map(rO)).pipe((0,yt.U)(iO))}}(oO(n)):null}function lO(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function cO(n){return n._rawValidators}function dO(n){return n._rawAsyncValidators}function uA(n){return n?Array.isArray(n)?n:[n]:[]}function OD(n,e){return Array.isArray(n)?n.includes(e):n===e}function hO(n,e){const t=uA(e);return uA(n).forEach(i=>{OD(t,i)||t.push(i)}),t}function fO(n,e){return uA(e).filter(t=>!OD(n,t))}class pO{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=oA(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=aA(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Uh extends pO{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class As extends pO{get formDirective(){return null}get path(){return null}}class gO{constructor(e){this._cd=e}is(e){var t,r,i;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(i=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===i?void 0:i[e])}}let mO=(()=>{class n extends gO{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(p.Y36(Uh,2))},n.\u0275dir=p.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&p.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[p.qOj]}),n})(),yO=(()=>{class n extends gO{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(p.Y36(As,10))},n.\u0275dir=p.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&p.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[p.qOj]}),n})();function W0(n,e){dA(n,e),e.valueAccessor.writeValue(n.value),function pF(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&vO(n,e)})}(n,e),function mF(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function gF(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&vO(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function fF(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function PD(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),LD(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function FD(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function dA(n,e){const t=cO(n);null!==e.validator?n.setValidators(lO(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=dO(n);null!==e.asyncValidator?n.setAsyncValidators(lO(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();FD(e._rawValidators,i),FD(e._rawAsyncValidators,i)}function LD(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=cO(n);if(Array.isArray(i)&&i.length>0){const u=i.filter(c=>c!==e.validator);u.length!==i.length&&(t=!0,n.setValidators(u))}}if(null!==e.asyncValidator){const i=dO(n);if(Array.isArray(i)&&i.length>0){const u=i.filter(c=>c!==e.asyncValidator);u.length!==i.length&&(t=!0,n.setAsyncValidators(u))}}}const r=()=>{};return FD(e._rawValidators,r),FD(e._rawAsyncValidators,r),t}function vO(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function pA(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const K0="VALID",VD="INVALID",ky="PENDING",Z0="DISABLED";function mA(n){return(BD(n)?n.validators:n)||null}function DO(n){return Array.isArray(n)?oA(n):n||null}function yA(n,e){return(BD(e)?e.asyncValidators:n)||null}function CO(n){return Array.isArray(n)?aA(n):n||null}function BD(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const IO=n=>n instanceof wA,_A=n=>n instanceof UD;function TO(n){return IO(n)?n.value:n.getRawValue()}function SO(n,e){const t=_A(n),r=n.controls;if(!(t?Object.keys(r):r).length)throw new p.vHH(1e3,"");if(!r[e])throw new p.vHH(1001,"")}function AO(n,e){_A(n),n._forEachChild((r,i)=>{if(void 0===e[i])throw new p.vHH(1002,"")})}class vA{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=DO(this._rawValidators),this._composedAsyncValidatorFn=CO(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===K0}get invalid(){return this.status===VD}get pending(){return this.status==ky}get disabled(){return this.status===Z0}get enabled(){return this.status!==Z0}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=DO(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=CO(e)}addValidators(e){this.setValidators(hO(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(hO(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(fO(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(fO(e,this._rawAsyncValidators))}hasValidator(e){return OD(this._rawValidators,e)}hasAsyncValidator(e){return OD(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=ky,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Z0,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=K0,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===K0||this.status===ky)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Z0:K0}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=ky,this._hasOwnPendingAsyncValidator=!0;const t=rO(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function wF(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(t)),Array.isArray(e)&&0===e.length))return null;let r=n;return e.forEach(i=>{r=_A(r)?r.controls.hasOwnProperty(i)?r.controls[i]:null:(n=>n instanceof bF)(r)&&r.at(i)||null}),r}(this,e,".")}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new p.vpe,this.statusChanges=new p.vpe}_calculateStatus(){return this._allControlsDisabled()?Z0:this.errors?VD:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ky)?ky:this._anyControlsHaveStatus(VD)?VD:K0}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){BD(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class wA extends vA{constructor(e=null,t,r){super(mA(t),yA(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),BD(t)&&t.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){pA(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){pA(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class UD extends vA{constructor(e,t,r){super(mA(t),yA(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){AO(this,e),Object.keys(e).forEach(r=>{SO(this,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=TO(t),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const r=this.controls[t];if(this.contains(t)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,r)=>((t.enabled||this.disabled)&&(e[r]=t.value),e))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,u)=>{r=t(r,i,u)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class bF extends vA{constructor(e,t,r){super(mA(t),yA(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){AO(this,e),e.forEach((r,i)=>{SO(this,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>TO(e))}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}let NO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=p.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),PO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=p.oAB({type:n}),n.\u0275inj=p.cJS({}),n})();const bA=new p.OlP("NgModelWithFormControlWarning"),RF={provide:As,useExisting:(0,p.Gpc)(()=>jD)};let jD=(()=>{class n extends As{constructor(t,r){super(),this.validators=t,this.asyncValidators=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new p.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(LD(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return W0(r,t),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){PD(t.control||null,t,!1),pA(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function bO(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(PD(r||null,t),IO(i)&&(W0(i,t),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function wO(n,e){dA(n,e)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function yF(n,e){return LD(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){dA(this.form,this),this._oldForm&&LD(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(p.Y36(Ki,10),p.Y36(Bh,10))},n.\u0275dir=p.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&p.NdJ("submit",function(u){return r.onSubmit(u)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[p._Bn([RF]),p.qOj,p.TTD]}),n})();const kF={provide:Uh,useExisting:(0,p.Gpc)(()=>IA)};let IA=(()=>{class n extends Uh{constructor(t,r,i,u,c){super(),this._ngModelWarningConfig=c,this._added=!1,this.update=new p.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function fA(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(u=>{u.constructor===xD?t=u:function vF(n){return Object.getPrototypeOf(n.constructor)===qp}(u)?r=u:i=u}),i||r||t||null}(0,u)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),function hA(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function kD(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(p.Y36(As,13),p.Y36(Ki,10),p.Y36(Bh,10),p.Y36(yl,10),p.Y36(bA,8))},n.\u0275dir=p.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[p._Bn([kF]),p.qOj,p.TTD]}),n})(),YF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=p.oAB({type:n}),n.\u0275inj=p.cJS({imports:[[PO]]}),n})(),QO=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:bA,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=p.oAB({type:n}),n.\u0275inj=p.cJS({imports:[YF]}),n})();const JO=new p.OlP("ADDS_TASK_DTO");let QF=(()=>{class n{constructor(t){this._addsTaskDto=t,this.addTask=new UD({task:new wA})}onAddTaskSubmited(t){var r;t.invalid||(this._addsTaskDto.add({task:null===(r=t.get("task"))||void 0===r?void 0:r.value,done:!1,created:Date.now()}),this.addTask.reset())}cancelAnimationFrame(){this.addTask.reset()}}return n.\u0275fac=function(t){return new(t||n)(p.Y36(JO))},n.\u0275cmp=p.Xpm({type:n,selectors:[["lib-add-task"]],decls:7,vars:1,consts:[[3,"formGroup","ngSubmit"],[1,"mb-3"],["formControlName","task","aria-label","With textarea","placeholder","Write your next task here",1,"form-control"],["type","submit","value","Submit",1,"mybutton"],["type","button",1,"cancel-button",2,"margin-left","16px",3,"click"]],template:function(t,r){1&t&&(p.TgZ(0,"form",0),p.NdJ("ngSubmit",function(){return r.onAddTaskSubmited(r.addTask)}),p.TgZ(1,"div",1),p._UZ(2,"textarea",2),p.qZA(),p.TgZ(3,"button",3),p._uU(4," Add task "),p.qZA(),p.TgZ(5,"button",4),p.NdJ("click",function(){return r.cancelAnimationFrame()}),p._uU(6," Cancel "),p.qZA()()),2&t&&p.Q6J("formGroup",r.addTask)},directives:[NO,yO,jD,xD,mO,IA],encapsulation:2,changeDetection:0}),n})(),JF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=p.Xpm({type:n,selectors:[["app-tasks-page"]],decls:3,vars:0,template:function(t,r){1&t&&p._UZ(0,"h1")(1,"lib-task-list")(2,"lib-add-task")},directives:[X1,QF],encapsulation:2,changeDetection:0}),n})(),XF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=p.oAB({type:n}),n.\u0275inj=p.cJS({providers:[],imports:[[yr,QO,lf.forRoot(),W1.forRoot()]]}),n})(),Q0=(()=>{class n{constructor(t){this._client=t}getAll(t){return this._client.collection("tasks").valueChanges({idField:"id"}).pipe((0,yt.U)(r=>PR(r,t)))}add(t){this._client.collection("tasks").add(t)}set(t){this._client.doc("tasks/"+t.id).update(t)}remove(t){this._client.doc("tasks/"+t).delete()}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(iA))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})(),eL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=p.oAB({type:n}),n.\u0275inj=p.cJS({providers:[Q0,{provide:LR,useExisting:Q0},{provide:JO,useExisting:Q0},{provide:VR,useExisting:Q0},{provide:BR,useExisting:Q0}],imports:[[kR]]}),n})(),tL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=p.oAB({type:n}),n.\u0275inj=p.cJS({providers:[],imports:[[yr,QO]]}),n})(),nL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=p.oAB({type:n}),n.\u0275inj=p.cJS({providers:[],imports:[[yr,$d.forChild([{path:"",component:JF}]),XF,eL,tL,lf]]}),n})();const rL=[{path:"",loadChildren:()=>L1},{path:"tasks",loadChildren:()=>nL}];let iL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=p.oAB({type:n}),n.\u0275inj=p.cJS({imports:[[$d.forRoot(rL)],$d]}),n})(),sL=(()=>{class n{constructor(){this.today=Date.now()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=p.Xpm({type:n,selectors:[["lib-date"]],decls:10,vars:4,consts:[[1,"d-flex","justify-content-start",2,"margin-left","176px","margin-top","32px"],[1,"border-bottom"],[1,"d-inline-flex"],[1,"d-inline-flex","p-2","align-self:","center;",2,"margin-left","6px"]],template:function(t,r){1&t&&(p.TgZ(0,"div",0)(1,"span",1)(2,"div",2)(3,"h1")(4,"strong"),p._uU(5,"TODAY"),p.qZA()()(),p.TgZ(6,"div",3)(7,"p"),p._uU(8),p.ALo(9,"date"),p.qZA()()()()),2&t&&(p.xp6(8),p.Oqu(p.xi3(9,1,r.today,"EE dd MMM")))},pipes:[Wh],encapsulation:2,changeDetection:0}),n})(),oL=(()=>{class n{constructor(){this.title="todo-app"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=p.Xpm({type:n,selectors:[["app-root"]],decls:7,vars:0,consts:[[1,"mynavbar"],["routerLink","/",1,"container-fluid"]],template:function(t,r){1&t&&(p._UZ(0,"h1"),p.TgZ(1,"nav",0)(2,"div",1)(3,"a"),p._uU(4," AWESOME TODO APP"),p.qZA()()(),p._UZ(5,"lib-date")(6,"router-outlet"))},directives:[kf,sL,Mf],styles:[""]}),n})();const nn=!1;function XO(n){return new p.vHH(3e3,nn)}function UL(){return"undefined"!=typeof window&&void 0!==window.document}function MA(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function jh(n){switch(n.length){case 0:return new z0;case 1:return n[0];default:return new $R(n)}}function eN(n,e,t,r,i={},u={}){const c=[],f=[];let y=-1,b=null;if(r.forEach(A=>{const M=A.offset,F=M==y,B=F&&b||{};Object.keys(A).forEach(G=>{let te=G,Ee=A[G];if("offset"!==G)switch(te=e.normalizePropertyName(te,c),Ee){case"!":Ee=i[G];break;case $c:Ee=u[G];break;default:Ee=e.normalizeStyleValue(G,te,Ee,c)}B[te]=Ee}),F||f.push(B),b=B,y=M}),c.length)throw function ML(n){return new p.vHH(3502,nn)}();return f}function xA(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&RA(t,"start",n)));break;case"done":n.onDone(()=>r(t&&RA(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&RA(t,"destroy",n)))}}function RA(n,e,t){const r=t.totalTime,u=OA(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,null==r?n.totalTime:r,!!t.disabled),c=n._data;return null!=c&&(u._data=c),u}function OA(n,e,t,r,i="",u=0,c){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:u,disabled:!!c}}function Fo(n,e,t){let r;return n instanceof Map?(r=n.get(e),r||n.set(e,r=t)):(r=n[e],r||(r=n[e]=t)),r}function tN(n){const e=n.indexOf(":");return[n.substring(1,e),n.substr(e+1)]}let NA=(n,e)=>!1,nN=(n,e,t)=>[],rN=null;function kA(n){const e=n.parentNode||n.host;return e===rN?null:e}(MA()||"undefined"!=typeof Element)&&(UL()?(rN=(()=>document.documentElement)(),NA=(n,e)=>{for(;e;){if(e===n)return!0;e=kA(e)}return!1}):NA=(n,e)=>n.contains(e),nN=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let Wp=null,iN=!1;function sN(n){Wp||(Wp=function $L(){return"undefined"!=typeof document?document.body:null}()||{},iN=!!Wp.style&&"WebkitAppearance"in Wp.style);let e=!0;return Wp.style&&!function jL(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Wp.style,!e&&iN&&(e="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in Wp.style)),e}const oN=NA,aN=nN;let uN=(()=>{class n{validateStyleProperty(t){return sN(t)}matchesElement(t,r){return!1}containsElement(t,r){return oN(t,r)}getParentElement(t){return kA(t)}query(t,r,i){return aN(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,u,c,f=[],y){return new z0(i,u)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})(),PA=(()=>{class n{}return n.NOOP=new uN,n})();const FA="ng-enter",HD="ng-leave",GD="ng-trigger",qD=".ng-trigger",cN="ng-animating",LA=".ng-animating";function Kp(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:VA(parseFloat(e[1]),e[2])}function VA(n,e){return"s"===e?1e3*n:n}function zD(n,e,t){return n.hasOwnProperty("duration")?n:function qL(n,e,t){let i,u=0,c="";if("string"==typeof n){const f=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===f)return e.push(XO()),{duration:0,delay:0,easing:""};i=VA(parseFloat(f[1]),f[2]);const y=f[3];null!=y&&(u=VA(parseFloat(y),f[4]));const b=f[5];b&&(c=b)}else i=n;if(!t){let f=!1,y=e.length;i<0&&(e.push(function aL(){return new p.vHH(3100,nn)}()),f=!0),u<0&&(e.push(function uL(){return new p.vHH(3101,nn)}()),f=!0),f&&e.splice(y,0,XO())}return{duration:i,delay:u,easing:c}}(n,e,t)}function Py(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function $h(n,e,t={}){if(e)for(let r in n)t[r]=n[r];else Py(n,t);return t}function hN(n,e,t){return t?e+":"+t+";":""}function fN(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=hN(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=hN(0,KL(t),n.style[t]));n.setAttribute("style",e)}function _l(n,e,t){n.style&&(Object.keys(e).forEach(r=>{const i=UA(r);t&&!t.hasOwnProperty(r)&&(t[r]=n.style[i]),n.style[i]=e[r]}),MA()&&fN(n))}function Zp(n,e){n.style&&(Object.keys(e).forEach(t=>{const r=UA(t);n.style[r]=""}),MA()&&fN(n))}function J0(n){return Array.isArray(n)?1==n.length?n[0]:UR(n):n}const BA=new RegExp("{{\\s*(.+?)\\s*}}","g");function pN(n){let e=[];if("string"==typeof n){let t;for(;t=BA.exec(n);)e.push(t[1]);BA.lastIndex=0}return e}function WD(n,e,t){const r=n.toString(),i=r.replace(BA,(u,c)=>{let f=e[c];return e.hasOwnProperty(c)||(t.push(function cL(n){return new p.vHH(3003,nn)}()),f=""),f.toString()});return i==r?n:i}function KD(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const WL=/-+([a-z0-9])/g;function UA(n){return n.replace(WL,(...e)=>e[1].toUpperCase())}function KL(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Lo(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function dL(n){return new p.vHH(3004,nn)}()}}function gN(n,e){return window.getComputedStyle(n)[e]}function eV(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function tV(n,e,t){if(":"==n[0]){const y=function nV(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function IL(n){return new p.vHH(3016,nn)}()),"* => *"}}(n,t);if("function"==typeof y)return void e.push(y);n=y}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function CL(n){return new p.vHH(3015,nn)}()),e;const i=r[1],u=r[2],c=r[3];e.push(mN(i,c));"<"==u[0]&&!("*"==i&&"*"==c)&&e.push(mN(c,i))}(r,t,e)):t.push(n),t}const JD=new Set(["true","1"]),XD=new Set(["false","0"]);function mN(n,e){const t=JD.has(n)||XD.has(n),r=JD.has(e)||XD.has(e);return(i,u)=>{let c="*"==n||n==i,f="*"==e||e==u;return!c&&t&&"boolean"==typeof i&&(c=i?JD.has(n):XD.has(n)),!f&&r&&"boolean"==typeof u&&(f=u?JD.has(e):XD.has(e)),c&&f}}const rV=new RegExp("s*:selfs*,?","g");function jA(n,e,t,r){return new iV(n).build(e,t,r)}class iV{constructor(e){this._driver=e}build(e,t,r){const i=new aV(t);this._resetContextStyleTimingState(i);const u=Lo(this,J0(e),i);return i.unsupportedCSSPropertiesFound.size&&i.unsupportedCSSPropertiesFound.keys(),u}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const u=[],c=[];return"@"==e.name.charAt(0)&&t.errors.push(function fL(){return new p.vHH(3006,nn)}()),e.definitions.forEach(f=>{if(this._resetContextStyleTimingState(t),0==f.type){const y=f,b=y.name;b.toString().split(/\s*,\s*/).forEach(A=>{y.name=A,u.push(this.visitState(y,t))}),y.name=b}else if(1==f.type){const y=this.visitTransition(f,t);r+=y.queryCount,i+=y.depCount,c.push(y)}else t.errors.push(function pL(){return new p.vHH(3007,nn)}())}),{type:7,name:e.name,states:u,transitions:c,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const u=new Set,c=i||{};r.styles.forEach(f=>{if(eC(f)){const y=f;Object.keys(y).forEach(b=>{pN(y[b]).forEach(A=>{c.hasOwnProperty(A)||u.add(A)})})}}),u.size&&(KD(u.values()),t.errors.push(function gL(n,e){return new p.vHH(3008,nn)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=Lo(this,J0(e.animation),t);return{type:1,matchers:eV(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:Yp(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>Lo(this,r,t)),options:Yp(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const u=e.steps.map(c=>{t.currentTime=r;const f=Lo(this,c,t);return i=Math.max(i,t.currentTime),f});return t.currentTime=i,{type:3,steps:u,options:Yp(e.options)}}visitAnimate(e,t){const r=function lV(n,e){let t=null;if(n.hasOwnProperty("duration"))t=n;else if("number"==typeof n)return $A(zD(n,e).duration,0,"");const r=n;if(r.split(/\s+/).some(u=>"{"==u.charAt(0)&&"{"==u.charAt(1))){const u=$A(0,0,"");return u.dynamic=!0,u.strValue=r,u}return t=t||zD(r,e),$A(t.duration,t.delay,t.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,u=e.styles?e.styles:MD({});if(5==u.type)i=this.visitKeyframes(u,t);else{let c=e.styles,f=!1;if(!c){f=!0;const b={};r.easing&&(b.easing=r.easing),c=MD(b)}t.currentTime+=r.duration+r.delay;const y=this.visitStyle(c,t);y.isEmptyStep=f,i=y}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[];Array.isArray(e.styles)?e.styles.forEach(c=>{"string"==typeof c?c==$c?r.push(c):t.errors.push(function mL(n){return new p.vHH(3002,nn)}()):r.push(c)}):r.push(e.styles);let i=!1,u=null;return r.forEach(c=>{if(eC(c)){const f=c,y=f.easing;if(y&&(u=y,delete f.easing),!i)for(let b in f)if(f[b].toString().indexOf("{{")>=0){i=!0;break}}}),{type:6,styles:r,easing:u,offset:e.offset,containsDynamicStyles:i,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,u=t.currentTime;r&&u>0&&(u-=r.duration+r.delay),e.styles.forEach(c=>{"string"!=typeof c&&Object.keys(c).forEach(f=>{if(!this._driver.validateStyleProperty(f))return delete c[f],void t.unsupportedCSSPropertiesFound.add(f);const y=t.collectedStyles[t.currentQuerySelector],b=y[f];let A=!0;b&&(u!=i&&u>=b.startTime&&i<=b.endTime&&(t.errors.push(function yL(n,e,t,r,i){return new p.vHH(3010,nn)}()),A=!1),u=b.startTime),A&&(y[f]={startTime:u,endTime:i}),t.options&&function zL(n,e,t){const r=e.params||{},i=pN(n);i.length&&i.forEach(u=>{r.hasOwnProperty(u)||t.push(function lL(n){return new p.vHH(3001,nn)}())})}(c[f],t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function _L(){return new p.vHH(3011,nn)}()),r;let u=0;const c=[];let f=!1,y=!1,b=0;const A=e.steps.map(We=>{const Ze=this._makeStyleAst(We,t);let Ue=null!=Ze.offset?Ze.offset:function uV(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(eC(t)&&t.hasOwnProperty("offset")){const r=t;e=parseFloat(r.offset),delete r.offset}});else if(eC(n)&&n.hasOwnProperty("offset")){const t=n;e=parseFloat(t.offset),delete t.offset}return e}(Ze.styles),Xe=0;return null!=Ue&&(u++,Xe=Ze.offset=Ue),y=y||Xe<0||Xe>1,f=f||Xe<b,b=Xe,c.push(Xe),Ze});y&&t.errors.push(function vL(){return new p.vHH(3012,nn)}()),f&&t.errors.push(function wL(){return new p.vHH(3200,nn)}());const M=e.steps.length;let F=0;u>0&&u<M?t.errors.push(function EL(){return new p.vHH(3202,nn)}()):0==u&&(F=1/(M-1));const B=M-1,G=t.currentTime,te=t.currentAnimateTimings,Ee=te.duration;return A.forEach((We,Ze)=>{const Ue=F>0?Ze==B?1:F*Ze:c[Ze],Xe=Ue*Ee;t.currentTime=G+te.delay+Xe,te.duration=Xe,this._validateStyleAst(We,t),We.offset=Ue,r.styles.push(We)}),r}visitReference(e,t){return{type:8,animation:Lo(this,J0(e.animation),t),options:Yp(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Yp(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Yp(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[u,c]=function sV(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(rV,"")),n=n.replace(/@\*/g,qD).replace(/@\w+/g,t=>qD+"-"+t.substr(1)).replace(/:animating/g,LA),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+u:u,Fo(t.collectedStyles,t.currentQuerySelector,{});const f=Lo(this,J0(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:u,limit:i.limit||0,optional:!!i.optional,includeSelf:c,animation:f,originalSelector:e.selector,options:Yp(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function bL(){return new p.vHH(3013,nn)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:zD(e.timings,t.errors,!0);return{type:12,animation:Lo(this,J0(e.animation),t),timings:r,options:null}}}class aV{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function eC(n){return!Array.isArray(n)&&"object"==typeof n}function Yp(n){return n?(n=Py(n)).params&&(n.params=function oV(n){return n?Py(n):null}(n.params)):n={},n}function $A(n,e,t){return{duration:n,delay:e,easing:t}}function HA(n,e,t,r,i,u,c=null,f=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:u,totalTime:i+u,easing:c,subTimeline:f}}class tC{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const hV=new RegExp(":enter","g"),pV=new RegExp(":leave","g");function GA(n,e,t,r,i,u={},c={},f,y,b=[]){return(new gV).buildKeyframes(n,e,t,r,i,u,c,f,y,b)}class gV{buildKeyframes(e,t,r,i,u,c,f,y,b,A=[]){b=b||new tC;const M=new qA(e,t,b,i,u,A,[]);M.options=y,M.currentTimeline.setStyles([c],null,M.errors,y),Lo(this,r,M);const F=M.timelines.filter(B=>B.containsAnimation());if(Object.keys(f).length){let B;for(let G=F.length-1;G>=0;G--){const te=F[G];if(te.element===t){B=te;break}}B&&!B.allowOnlyTimelineStyles()&&B.setStyles([f],null,M.errors,y)}return F.length?F.map(B=>B.buildKeyframes()):[HA(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),u=t.currentTimeline.currentTime,c=this._visitSubInstructions(r,i,i.options);u!=c&&t.transformIntoNewTimeline(c)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,r){let u=t.currentTimeline.currentTime;const c=null!=r.duration?Kp(r.duration):null,f=null!=r.delay?Kp(r.delay):null;return 0!==c&&e.forEach(y=>{const b=t.appendInstructionToTimeline(y,c,f);u=Math.max(u,b.duration+b.delay)}),u}visitReference(e,t){t.updateOptions(e.options,!0),Lo(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const u=e.options;if(u&&(u.params||u.delay)&&(i=t.createSubContext(u),i.transformIntoNewTimeline(),null!=u.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=nC);const c=Kp(u.delay);i.delayNextStep(c)}e.steps.length&&(e.steps.forEach(c=>Lo(this,c,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const u=e.options&&e.options.delay?Kp(e.options.delay):0;e.steps.forEach(c=>{const f=t.createSubContext(e.options);u&&f.delayNextStep(u),Lo(this,c,f),i=Math.max(i,f.currentTimeline.currentTime),r.push(f.currentTimeline)}),r.forEach(c=>t.currentTimeline.mergeTimelineCollectedStyles(c)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return zD(t.params?WD(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const u=e.style;5==u.type?this.visitKeyframes(u,t):(t.incrementTime(r.duration),this.visitStyle(u,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.getCurrentStyleProperties().length&&r.forwardFrame();const u=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(u):r.setStyles(e.styles,u,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,u=r.duration,f=t.createSubContext().currentTimeline;f.easing=r.easing,e.styles.forEach(y=>{f.forwardTime((y.offset||0)*u),f.setStyles(y.styles,y.easing,t.errors,t.options),f.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(f),t.transformIntoNewTimeline(i+u),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},u=i.delay?Kp(i.delay):0;u&&(6===t.previousNode.type||0==r&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=nC);let c=r;const f=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=f.length;let y=null;f.forEach((b,A)=>{t.currentQueryIndex=A;const M=t.createSubContext(e.options,b);u&&M.delayNextStep(u),b===t.element&&(y=M.currentTimeline),Lo(this,e.animation,M),M.currentTimeline.applyStylesToKeyframe(),c=Math.max(c,M.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(c),y&&(t.currentTimeline.mergeTimelineCollectedStyles(y),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,u=e.timings,c=Math.abs(u.duration),f=c*(t.currentQueryTotal-1);let y=c*t.currentQueryIndex;switch(u.duration<0?"reverse":u.easing){case"reverse":y=f-y;break;case"full":y=r.currentStaggerTime}const A=t.currentTimeline;y&&A.delayNextStep(y);const M=A.currentTime;Lo(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-M+(i.startTime-r.currentTimeline.startTime)}}const nC={};class qA{constructor(e,t,r,i,u,c,f,y){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=u,this.errors=c,this.timelines=f,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=nC,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=y||new rC(this._driver,t,0),f.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=Kp(r.duration)),null!=r.delay&&(i.delay=Kp(r.delay));const u=r.params;if(u){let c=i.params;c||(c=this.options.params={}),Object.keys(u).forEach(f=>{(!t||!c.hasOwnProperty(f))&&(c[f]=WD(u[f],c,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,u=new qA(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return u.previousNode=this.previousNode,u.currentAnimateTimings=this.currentAnimateTimings,u.options=this._copyOptions(),u.updateOptions(e),u.currentQueryIndex=this.currentQueryIndex,u.currentQueryTotal=this.currentQueryTotal,u.parentContext=this,this.subContextCount++,u}transformIntoNewTimeline(e){return this.previousNode=nC,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=r?r:0)+e.delay,easing:""},u=new mV(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(u),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,u,c){let f=[];if(i&&f.push(this.element),e.length>0){e=(e=e.replace(hV,"."+this._enterClassName)).replace(pV,"."+this._leaveClassName);let b=this._driver.query(this.element,e,1!=r);0!==r&&(b=r<0?b.slice(b.length+r,b.length):b.slice(0,r)),f.push(...b)}return!u&&0==f.length&&c.push(function DL(n){return new p.vHH(3014,nn)}()),f}}class rC{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new rC(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||$c,this._currentKeyframe[t]=$c}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&(this._previousKeyframe.easing=t);const u=i&&i.params||{},c=function yV(n,e){const t={};let r;return n.forEach(i=>{"*"===i?(r=r||Object.keys(e),r.forEach(u=>{t[u]=$c})):$h(i,!1,t)}),t}(e,this._globalTimelineStyles);Object.keys(c).forEach(f=>{const y=WD(c[f],u,r);this._pendingStyles[f]=y,this._localTimelineStyles.hasOwnProperty(f)||(this._backFill[f]=this._globalTimelineStyles.hasOwnProperty(f)?this._globalTimelineStyles[f]:$c),this._updateStyle(f,y)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(r=>{this._currentKeyframe[r]=e[r]}),Object.keys(this._localTimelineStyles).forEach(r=>{this._currentKeyframe.hasOwnProperty(r)||(this._currentKeyframe[r]=this._localTimelineStyles[r])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const r=this._styleSummary[t],i=e._styleSummary[t];(!r||i.time>r.time)&&this._updateStyle(t,i.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((f,y)=>{const b=$h(f,!0);Object.keys(b).forEach(A=>{const M=b[A];"!"==M?e.add(A):M==$c&&t.add(A)}),r||(b.offset=y/this.duration),i.push(b)});const u=e.size?KD(e.values()):[],c=t.size?KD(t.values()):[];if(r){const f=i[0],y=Py(f);f.offset=0,y.offset=1,i=[f,y]}return HA(this.element,i,u,c,this.duration,this.startTime,this.easing,!1)}}class mV extends rC{constructor(e,t,r,i,u,c,f=!1){super(e,t,c.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=u,this._stretchStartingKeyframe=f,this.timings={duration:c.duration,delay:c.delay,easing:c.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const u=[],c=r+t,f=t/c,y=$h(e[0],!1);y.offset=0,u.push(y);const b=$h(e[0],!1);b.offset=vN(f),u.push(b);const A=e.length-1;for(let M=1;M<=A;M++){let F=$h(e[M],!1);F.offset=vN((t+F.offset*r)/c),u.push(F)}r=c,t=0,i="",e=u}return HA(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function vN(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class zA{}class _V extends zA{normalizePropertyName(e,t){return UA(e)}normalizeStyleValue(e,t,r,i){let u="";const c=r.toString().trim();if(vV[t]&&0!==r&&"0"!==r)if("number"==typeof r)u="px";else{const f=r.match(/^[+-]?[\d\.]+([a-z]*)$/);f&&0==f[1].length&&i.push(function hL(n,e){return new p.vHH(3005,nn)}())}return c+u}}const vV=(()=>function wV(n){const e={};return n.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function wN(n,e,t,r,i,u,c,f,y,b,A,M,F){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:u,toState:r,toStyles:c,timelines:f,queriedElements:y,preStyleProps:b,postStyleProps:A,totalTime:M,errors:F}}const WA={};class EN{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function EV(n,e,t,r,i){return n.some(u=>u(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){const i=this._stateStyles["*"],u=this._stateStyles[e],c=i?i.buildStyles(t,r):{};return u?u.buildStyles(t,r):c}build(e,t,r,i,u,c,f,y,b,A){const M=[],F=this.ast.options&&this.ast.options.params||WA,G=this.buildStyles(r,f&&f.params||WA,M),te=y&&y.params||WA,Ee=this.buildStyles(i,te,M),We=new Set,Ze=new Map,Ue=new Map,Xe="void"===i,vt={params:Object.assign(Object.assign({},F),te)},Tt=A?[]:GA(e,t,this.ast.animation,u,c,G,Ee,vt,b,M);let Ht=0;if(Tt.forEach(dr=>{Ht=Math.max(dr.duration+dr.delay,Ht)}),M.length)return wN(t,this._triggerName,r,i,Xe,G,Ee,[],[],Ze,Ue,Ht,M);Tt.forEach(dr=>{const ui=dr.element,ew=Fo(Ze,ui,{});dr.preStyleProps.forEach(vl=>ew[vl]=!0);const Hh=Fo(Ue,ui,{});dr.postStyleProps.forEach(vl=>Hh[vl]=!0),ui!==t&&We.add(ui)});const nr=KD(We.values());return wN(t,this._triggerName,r,i,Xe,G,Ee,Tt,nr,Ze,Ue,Ht)}}class bV{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r={},i=Py(this.defaultParams);return Object.keys(e).forEach(u=>{const c=e[u];null!=c&&(i[u]=c)}),this.styles.styles.forEach(u=>{if("string"!=typeof u){const c=u;Object.keys(c).forEach(f=>{let y=c[f];y.length>1&&(y=WD(y,i,t));const b=this.normalizer.normalizePropertyName(f,t);y=this.normalizer.normalizeStyleValue(f,b,y,t),r[b]=y})}}),r}}class CV{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states={},t.states.forEach(i=>{this.states[i.name]=new bV(i.style,i.options&&i.options.params||{},r)}),bN(this.states,"true","1"),bN(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new EN(e,i,this.states))}),this.fallbackTransition=function IV(n,e,t){return new EN(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(c,f)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(c=>c.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function bN(n,e,t){n.hasOwnProperty(e)?n.hasOwnProperty(t)||(n[t]=n[e]):n.hasOwnProperty(t)&&(n[e]=n[t])}const TV=new tC;class SV{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}register(e,t){const r=[],u=jA(this._driver,t,r,[]);if(r.length)throw function xL(n){return new p.vHH(3503,nn)}();this._animations[e]=u}_buildPlayer(e,t,r){const i=e.element,u=eN(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,u,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],u=this._animations[e];let c;const f=new Map;if(u?(c=GA(this._driver,t,u,FA,HD,{},{},r,TV,i),c.forEach(A=>{const M=Fo(f,A.element,{});A.postStyleProps.forEach(F=>M[F]=null)})):(i.push(function RL(){return new p.vHH(3300,nn)}()),c=[]),i.length)throw function OL(n){return new p.vHH(3504,nn)}();f.forEach((A,M)=>{Object.keys(A).forEach(F=>{A[F]=this._driver.computeStyle(M,F,$c)})});const b=jh(c.map(A=>{const M=f.get(A.element);return this._buildPlayer(A,{},M)}));return this._playersById[e]=b,b.onDestroy(()=>this.destroy(e)),this.players.push(b),b}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw function NL(n){return new p.vHH(3301,nn)}();return t}listen(e,t,r,i){const u=OA(t,"","","");return xA(this._getPlayer(e),r,u,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const u=this._getPlayer(e);switch(r){case"play":u.play();break;case"pause":u.pause();break;case"reset":u.reset();break;case"restart":u.restart();break;case"finish":u.finish();break;case"init":u.init();break;case"setPosition":u.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const DN="ng-animate-queued",KA="ng-animate-disabled",OV=[],CN={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},NV={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},pa="__ng_removed";class ZA{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function LV(n){return null!=n?n:null}(r?e.value:e),r){const u=Py(e);delete u.value,this.options=u}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const X0="void",YA=new ZA(X0);class kV{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,ga(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.hasOwnProperty(t))throw function kL(n,e){return new p.vHH(3302,nn)}();if(null==r||0==r.length)throw function PL(n){return new p.vHH(3303,nn)}();if(!function VV(n){return"start"==n||"done"==n}(r))throw function FL(n,e){return new p.vHH(3400,nn)}();const u=Fo(this._elementListeners,e,[]),c={name:t,phase:r,callback:i};u.push(c);const f=Fo(this._engine.statesByElement,e,{});return f.hasOwnProperty(t)||(ga(e,GD),ga(e,GD+"-"+t),f[t]=YA),()=>{this._engine.afterFlush(()=>{const y=u.indexOf(c);y>=0&&u.splice(y,1),this._triggers[t]||delete f[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw function LL(n){return new p.vHH(3401,nn)}();return t}trigger(e,t,r,i=!0){const u=this._getTrigger(t),c=new QA(this.id,t,e);let f=this._engine.statesByElement.get(e);f||(ga(e,GD),ga(e,GD+"-"+t),this._engine.statesByElement.set(e,f={}));let y=f[t];const b=new ZA(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&y&&b.absorbOptions(y.options),f[t]=b,y||(y=YA),b.value!==X0&&y.value===b.value){if(!function jV(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const u=t[i];if(!e.hasOwnProperty(u)||n[u]!==e[u])return!1}return!0}(y.params,b.params)){const te=[],Ee=u.matchStyles(y.value,y.params,te),We=u.matchStyles(b.value,b.params,te);te.length?this._engine.reportError(te):this._engine.afterFlush(()=>{Zp(e,Ee),_l(e,We)})}return}const F=Fo(this._engine.playersByElement,e,[]);F.forEach(te=>{te.namespaceId==this.id&&te.triggerName==t&&te.queued&&te.destroy()});let B=u.matchTransition(y.value,b.value,e,b.params),G=!1;if(!B){if(!i)return;B=u.fallbackTransition,G=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:B,fromState:y,toState:b,player:c,isFallbackTransition:G}),G||(ga(e,DN),c.onStart(()=>{Fy(e,DN)})),c.onDone(()=>{let te=this.players.indexOf(c);te>=0&&this.players.splice(te,1);const Ee=this._engine.playersByElement.get(e);if(Ee){let We=Ee.indexOf(c);We>=0&&Ee.splice(We,1)}}),this.players.push(c),F.push(c),c}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,r)=>{delete t[e]}),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,qD,!0);r.forEach(i=>{if(i[pa])return;const u=this._engine.fetchNamespacesByElement(i);u.size?u.forEach(c=>c.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const u=this._engine.statesByElement.get(e),c=new Map;if(u){const f=[];if(Object.keys(u).forEach(y=>{if(c.set(y,u[y].value),this._triggers[y]){const b=this.trigger(e,y,X0,i);b&&f.push(b)}}),f.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,c),r&&jh(f).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(u=>{const c=u.name;if(i.has(c))return;i.add(c);const y=this._triggers[c].fallbackTransition,b=r[c]||YA,A=new ZA(X0),M=new QA(this.id,c,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:c,transition:y,fromState:b,toState:A,player:M,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const u=r.players.length?r.playersByQueriedElement.get(e):[];if(u&&u.length)i=!0;else{let c=e;for(;c=c.parentNode;)if(r.statesByElement.get(c)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const u=e[pa];(!u||u===CN)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){ga(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const u=r.element,c=this._elementListeners.get(u);c&&c.forEach(f=>{if(f.name==r.triggerName){const y=OA(u,r.triggerName,r.fromState.value,r.toState.value);y._data=e,xA(r.player,f.phase,y,f.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const u=r.transition.ast.depCount,c=i.transition.ast.depCount;return 0==u||0==c?u-c:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class PV{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,u)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new kV(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement,u=r.length-1;if(u>=0){let c=!1;if(void 0!==this.driver.getParentElement){let f=this.driver.getParentElement(t);for(;f;){const y=i.get(f);if(y){const b=r.indexOf(y);r.splice(b+1,0,e),c=!0;break}f=this.driver.getParentElement(f)}}else for(let f=u;f>=0;f--)if(this.driver.containsElement(r[f].hostElement,t)){r.splice(f+1,0,e),c=!0;break}c||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r){const i=Object.keys(r);for(let u=0;u<i.length;u++){const c=r[i[u]].namespaceId;if(c){const f=this._fetchNamespace(c);f&&t.add(f)}}}return t}trigger(e,t,r,i){if(iC(t)){const u=this._fetchNamespace(e);if(u)return u.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!iC(t))return;const u=t[pa];if(u&&u.setForRemoval){u.setForRemoval=!1,u.setForMove=!0;const c=this.collectedLeaveElements.indexOf(t);c>=0&&this.collectedLeaveElements.splice(c,1)}if(e){const c=this._fetchNamespace(e);c&&c.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),ga(e,KA)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Fy(e,KA))}removeNode(e,t,r,i){if(iC(t)){const u=e?this._fetchNamespace(e):null;if(u?u.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const c=this.namespacesByHostElement.get(t);c&&c.id!==e&&c.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,u){this.collectedLeaveElements.push(t),t[pa]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:u}}listen(e,t,r,i,u){return iC(t)?this._fetchNamespace(e).listen(t,r,i,u):()=>{}}_buildInstruction(e,t,r,i,u){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,u)}destroyInnerAnimations(e){let t=this.driver.query(e,qD,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,LA,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return jh(this.players).onDone(()=>e());e()})}processLeaveNode(e){var t;const r=e[pa];if(r&&r.setForRemoval){if(e[pa]=CN,r.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(r.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,r.setForRemoval)}(null===(t=e.classList)||void 0===t?void 0:t.contains(KA))&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)ga(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?jh(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function VL(n){return new p.vHH(3402,nn)}()}_flushAnimations(e,t){const r=new tC,i=[],u=new Map,c=[],f=new Map,y=new Map,b=new Map,A=new Set;this.disabledNodes.forEach(ot=>{A.add(ot);const mt=this.driver.query(ot,".ng-animate-queued",!0);for(let At=0;At<mt.length;At++)A.add(mt[At])});const M=this.bodyNode,F=Array.from(this.statesByElement.keys()),B=SN(F,this.collectedEnterElements),G=new Map;let te=0;B.forEach((ot,mt)=>{const At=FA+te++;G.set(mt,At),ot.forEach(pn=>ga(pn,At))});const Ee=[],We=new Set,Ze=new Set;for(let ot=0;ot<this.collectedLeaveElements.length;ot++){const mt=this.collectedLeaveElements[ot],At=mt[pa];At&&At.setForRemoval&&(Ee.push(mt),We.add(mt),At.hasAnimation?this.driver.query(mt,".ng-star-inserted",!0).forEach(pn=>We.add(pn)):Ze.add(mt))}const Ue=new Map,Xe=SN(F,Array.from(We));Xe.forEach((ot,mt)=>{const At=HD+te++;Ue.set(mt,At),ot.forEach(pn=>ga(pn,At))}),e.push(()=>{B.forEach((ot,mt)=>{const At=G.get(mt);ot.forEach(pn=>Fy(pn,At))}),Xe.forEach((ot,mt)=>{const At=Ue.get(mt);ot.forEach(pn=>Fy(pn,At))}),Ee.forEach(ot=>{this.processLeaveNode(ot)})});const vt=[],Tt=[];for(let ot=this._namespaceList.length-1;ot>=0;ot--)this._namespaceList[ot].drainQueuedTransitions(t).forEach(At=>{const pn=At.player,Ci=At.element;if(vt.push(pn),this.collectedEnterElements.length){const Ms=Ci[pa];if(Ms&&Ms.setForMove){if(Ms.previousTriggersValues&&Ms.previousTriggersValues.has(At.triggerName)){const Qp=Ms.previousTriggersValues.get(At.triggerName),qh=this.statesByElement.get(At.element);qh&&qh[At.triggerName]&&(qh[At.triggerName].value=Qp)}return void pn.destroy()}}const wl=!M||!this.driver.containsElement(M,Ci),Vo=Ue.get(Ci),Gh=G.get(Ci),hr=this._buildInstruction(At,r,Gh,Vo,wl);if(hr.errors&&hr.errors.length)return void Tt.push(hr);if(wl)return pn.onStart(()=>Zp(Ci,hr.fromStyles)),pn.onDestroy(()=>_l(Ci,hr.toStyles)),void i.push(pn);if(At.isFallbackTransition)return pn.onStart(()=>Zp(Ci,hr.fromStyles)),pn.onDestroy(()=>_l(Ci,hr.toStyles)),void i.push(pn);const LN=[];hr.timelines.forEach(Ms=>{Ms.stretchStartingKeyframe=!0,this.disabledNodes.has(Ms.element)||LN.push(Ms)}),hr.timelines=LN,r.append(Ci,hr.timelines),c.push({instruction:hr,player:pn,element:Ci}),hr.queriedElements.forEach(Ms=>Fo(f,Ms,[]).push(pn)),hr.preStyleProps.forEach((Ms,Qp)=>{const qh=Object.keys(Ms);if(qh.length){let Jp=y.get(Qp);Jp||y.set(Qp,Jp=new Set),qh.forEach(XA=>Jp.add(XA))}}),hr.postStyleProps.forEach((Ms,Qp)=>{const qh=Object.keys(Ms);let Jp=b.get(Qp);Jp||b.set(Qp,Jp=new Set),qh.forEach(XA=>Jp.add(XA))})});if(Tt.length){const ot=[];Tt.forEach(mt=>{ot.push(function BL(n,e){return new p.vHH(3505,nn)}())}),vt.forEach(mt=>mt.destroy()),this.reportError(ot)}const Ht=new Map,nr=new Map;c.forEach(ot=>{const mt=ot.element;r.has(mt)&&(nr.set(mt,mt),this._beforeAnimationBuild(ot.player.namespaceId,ot.instruction,Ht))}),i.forEach(ot=>{const mt=ot.element;this._getPreviousPlayers(mt,!1,ot.namespaceId,ot.triggerName,null).forEach(pn=>{Fo(Ht,mt,[]).push(pn),pn.destroy()})});const dr=Ee.filter(ot=>MN(ot,y,b)),ui=new Map;TN(ui,this.driver,Ze,b,$c).forEach(ot=>{MN(ot,y,b)&&dr.push(ot)});const Hh=new Map;B.forEach((ot,mt)=>{TN(Hh,this.driver,new Set(ot),y,"!")}),dr.forEach(ot=>{const mt=ui.get(ot),At=Hh.get(ot);ui.set(ot,Object.assign(Object.assign({},mt),At))});const vl=[],tw=[],nw={};c.forEach(ot=>{const{element:mt,player:At,instruction:pn}=ot;if(r.has(mt)){if(A.has(mt))return At.onDestroy(()=>_l(mt,pn.toStyles)),At.disabled=!0,At.overrideTotalTime(pn.totalTime),void i.push(At);let Ci=nw;if(nr.size>1){let Vo=mt;const Gh=[];for(;Vo=Vo.parentNode;){const hr=nr.get(Vo);if(hr){Ci=hr;break}Gh.push(Vo)}Gh.forEach(hr=>nr.set(hr,Ci))}const wl=this._buildAnimation(At.namespaceId,pn,Ht,u,Hh,ui);if(At.setRealPlayer(wl),Ci===nw)vl.push(At);else{const Vo=this.playersByElement.get(Ci);Vo&&Vo.length&&(At.parentPlayer=jh(Vo)),i.push(At)}}else Zp(mt,pn.fromStyles),At.onDestroy(()=>_l(mt,pn.toStyles)),tw.push(At),A.has(mt)&&i.push(At)}),tw.forEach(ot=>{const mt=u.get(ot.element);if(mt&&mt.length){const At=jh(mt);ot.setRealPlayer(At)}}),i.forEach(ot=>{ot.parentPlayer?ot.syncPlayerEvents(ot.parentPlayer):ot.destroy()});for(let ot=0;ot<Ee.length;ot++){const mt=Ee[ot],At=mt[pa];if(Fy(mt,HD),At&&At.hasAnimation)continue;let pn=[];if(f.size){let wl=f.get(mt);wl&&wl.length&&pn.push(...wl);let Vo=this.driver.query(mt,LA,!0);for(let Gh=0;Gh<Vo.length;Gh++){let hr=f.get(Vo[Gh]);hr&&hr.length&&pn.push(...hr)}}const Ci=pn.filter(wl=>!wl.destroyed);Ci.length?BV(this,mt,Ci):this.processLeaveNode(mt)}return Ee.length=0,vl.forEach(ot=>{this.players.push(ot),ot.onDone(()=>{ot.destroy();const mt=this.players.indexOf(ot);this.players.splice(mt,1)}),ot.play()}),vl}elementContainsData(e,t){let r=!1;const i=t[pa];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,u){let c=[];if(t){const f=this.playersByQueriedElement.get(e);f&&(c=f)}else{const f=this.playersByElement.get(e);if(f){const y=!u||u==X0;f.forEach(b=>{b.queued||!y&&b.triggerName!=i||c.push(b)})}}return(r||i)&&(c=c.filter(f=>!(r&&r!=f.namespaceId||i&&i!=f.triggerName))),c}_beforeAnimationBuild(e,t,r){const u=t.element,c=t.isRemovalTransition?void 0:e,f=t.isRemovalTransition?void 0:t.triggerName;for(const y of t.timelines){const b=y.element,A=b!==u,M=Fo(r,b,[]);this._getPreviousPlayers(b,A,c,f,t.toState).forEach(B=>{const G=B.getRealPlayer();G.beforeDestroy&&G.beforeDestroy(),B.destroy(),M.push(B)})}Zp(u,t.fromStyles)}_buildAnimation(e,t,r,i,u,c){const f=t.triggerName,y=t.element,b=[],A=new Set,M=new Set,F=t.timelines.map(G=>{const te=G.element;A.add(te);const Ee=te[pa];if(Ee&&Ee.removedBeforeQueried)return new z0(G.duration,G.delay);const We=te!==y,Ze=function UV(n){const e=[];return AN(n,e),e}((r.get(te)||OV).map(Ht=>Ht.getRealPlayer())).filter(Ht=>!!Ht.element&&Ht.element===te),Ue=u.get(te),Xe=c.get(te),vt=eN(0,this._normalizer,0,G.keyframes,Ue,Xe),Tt=this._buildPlayer(G,vt,Ze);if(G.subTimeline&&i&&M.add(te),We){const Ht=new QA(e,f,te);Ht.setRealPlayer(Tt),b.push(Ht)}return Tt});b.forEach(G=>{Fo(this.playersByQueriedElement,G.element,[]).push(G),G.onDone(()=>function FV(n,e,t){let r;if(n instanceof Map){if(r=n.get(e),r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}}else if(r=n[e],r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&delete n[e]}return r}(this.playersByQueriedElement,G.element,G))}),A.forEach(G=>ga(G,cN));const B=jh(F);return B.onDestroy(()=>{A.forEach(G=>Fy(G,cN)),_l(y,t.toStyles)}),M.forEach(G=>{Fo(i,G,[]).push(B)}),B}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new z0(e.duration,e.delay)}}class QA{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new z0,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(r=>xA(e,t,void 0,r))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Fo(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function iC(n){return n&&1===n.nodeType}function IN(n,e){const t=n.style.display;return n.style.display=null!=e?e:"none",t}function TN(n,e,t,r,i){const u=[];t.forEach(y=>u.push(IN(y)));const c=[];r.forEach((y,b)=>{const A={};y.forEach(M=>{const F=A[M]=e.computeStyle(b,M,i);(!F||0==F.length)&&(b[pa]=NV,c.push(b))}),n.set(b,A)});let f=0;return t.forEach(y=>IN(y,u[f++])),c}function SN(n,e){const t=new Map;if(n.forEach(f=>t.set(f,[])),0==e.length)return t;const i=new Set(e),u=new Map;function c(f){if(!f)return 1;let y=u.get(f);if(y)return y;const b=f.parentNode;return y=t.has(b)?b:i.has(b)?1:c(b),u.set(f,y),y}return e.forEach(f=>{const y=c(f);1!==y&&t.get(y).push(f)}),t}function ga(n,e){var t;null===(t=n.classList)||void 0===t||t.add(e)}function Fy(n,e){var t;null===(t=n.classList)||void 0===t||t.remove(e)}function BV(n,e,t){jh(t).onDone(()=>n.processLeaveNode(e))}function AN(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof $R?AN(r.players,e):e.push(r)}}function MN(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(u=>i.add(u)):e.set(n,r),t.delete(n),!0}class sC{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,u)=>{},this._transitionEngine=new PV(e,t,r),this._timelineEngine=new SV(e,t,r),this._transitionEngine.onRemovalComplete=(i,u)=>this.onRemovalComplete(i,u)}registerTrigger(e,t,r,i,u){const c=e+"-"+i;let f=this._triggerCache[c];if(!f){const y=[],A=jA(this._driver,u,y,[]);if(y.length)throw function AL(n,e){return new p.vHH(3404,nn)}();f=function DV(n,e,t){return new CV(n,e,t)}(i,A,this._normalizer),this._triggerCache[c]=f}this._transitionEngine.registerTrigger(t,i,f)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[u,c]=tN(r);this._timelineEngine.command(u,t,c,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,u){if("@"==r.charAt(0)){const[c,f]=tN(r);return this._timelineEngine.listen(c,t,f,u)}return this._transitionEngine.listen(e,t,r,i,u)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let HV=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let u=n.initialStylesByElement.get(t);u||n.initialStylesByElement.set(t,u={}),this._initialStyles=u}start(){this._state<1&&(this._startStyles&&_l(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(_l(this._element,this._initialStyles),this._endStyles&&(_l(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Zp(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Zp(this._element,this._endStyles),this._endStyles=null),_l(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function JA(n){let e=null;const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=t[r];GV(i)&&(e=e||{},e[i]=n[i])}return e}function GV(n){return"display"===n||"position"===n}class xN{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,r){return e.animate(t,r)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};if(this.hasStarted()){const t=this._finalKeyframe;Object.keys(t).forEach(r=>{"offset"!=r&&(e[r]=this._finished?t[r]:gN(this.element,r))})}this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class qV{validateStyleProperty(e){return sN(e)}matchesElement(e,t){return!1}containsElement(e,t){return oN(e,t)}getParentElement(e){return kA(e)}query(e,t,r){return aN(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,u,c=[]){const y={duration:r,delay:i,fill:0==i?"both":"forwards"};u&&(y.easing=u);const b={},A=c.filter(F=>F instanceof xN);(function ZL(n,e){return 0===n||0===e})(r,i)&&A.forEach(F=>{let B=F.currentSnapshot;Object.keys(B).forEach(G=>b[G]=B[G])}),t=function YL(n,e,t){const r=Object.keys(t);if(r.length&&e.length){let u=e[0],c=[];if(r.forEach(f=>{u.hasOwnProperty(f)||c.push(f),u[f]=t[f]}),c.length)for(var i=1;i<e.length;i++){let f=e[i];c.forEach(function(y){f[y]=gN(n,y)})}}return e}(e,t=t.map(F=>$h(F,!1)),b);const M=function $V(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=JA(e[0]),e.length>1&&(r=JA(e[e.length-1]))):e&&(t=JA(e)),t||r?new HV(n,t,r):null}(e,t);return new xN(e,t,y,M)}}let zV=(()=>{class n extends AD{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:p.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?UR(t):t;return RN(this._renderer,null,r,"register",[i]),new WV(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(p.FYo),p.LFG(re))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})();class WV extends class V1{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new KV(this._id,e,t||{},this._renderer)}}class KV{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return RN(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function RN(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const ON="@.disabled";let ZV=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(u,c)=>{const f=null==c?void 0:c.parentNode(u);f&&c.removeChild(f,u)}}createRenderer(t,r){const u=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let A=this._rendererCache.get(u);return A||(A=new NN("",u,this.engine),this._rendererCache.set(u,A)),A}const c=r.id,f=r.id+"-"+this._currentId;this._currentId++,this.engine.register(f,t);const y=A=>{Array.isArray(A)?A.forEach(y):this.engine.registerTrigger(c,f,t,A.name,A)};return r.data.animation.forEach(y),new YV(this,f,u,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(u=>{const[c,f]=u;c(f)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(p.FYo),p.LFG(sC),p.LFG(p.R0b))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})();class NN{constructor(e,t,r){this.namespaceId=e,this.delegate=t,this.engine=r,this.destroyNode=this.delegate.destroyNode?i=>t.destroyNode(i):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==ON?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class YV extends NN{constructor(e,t,r,i){super(t,r,i),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==ON?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.substr(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function QV(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let u=t.substr(1),c="";return"@"!=u.charAt(0)&&([u,c]=function JV(n){const e=n.indexOf(".");return[n.substring(0,e),n.substr(e+1)]}(u)),this.engine.listen(this.namespaceId,i,u,c,f=>{this.factory.scheduleListenerCallback(f._data||-1,r,f)})}return this.delegate.listen(e,t,r)}}let XV=(()=>{class n extends sC{constructor(t,r,i){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(re),p.LFG(PA),p.LFG(zA))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})();const kN=new p.OlP("AnimationModuleType"),PN=[{provide:AD,useClass:zV},{provide:zA,useFactory:function eB(){return new _V}},{provide:sC,useClass:XV},{provide:p.FYo,useFactory:function tB(n,e,t){return new ZV(n,e,t)},deps:[bn,sC,p.R0b]}],FN=[{provide:PA,useFactory:()=>new qV},{provide:kN,useValue:"BrowserAnimations"},...PN],nB=[{provide:PA,useClass:uN},{provide:kN,useValue:"NoopAnimations"},...PN];let rB=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?nB:FN}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=p.oAB({type:n}),n.\u0275inj=p.cJS({providers:FN,imports:[qo]}),n})(),iB=(()=>{class n{static forRoot(){return{ngModule:n,providers:[ku,Fa]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=p.oAB({type:n}),n.\u0275inj=p.cJS({imports:[[yr]]}),n})(),sB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=p.oAB({type:n,bootstrap:[oL]}),n.\u0275inj=p.cJS({providers:[],imports:[[qo,as.hO.initializeApp(Va_firebase),iL,Or,lf.forRoot(),rB,iB.forRoot()]]}),n})();(0,p.G48)(),Rl().bootstrapModule(sB).catch(n=>console.error(n))},5867:(lt,Se,k)=>{k.d(Se,{Mq:()=>p.getApp,C6:()=>p.getApps});var p=k(9681);(0,p.registerVersion)("firebase","9.6.11","app")},127:(lt,Se,k)=>{k.d(Se,{Z:()=>p.Z});var p=k(3942);p.Z.registerVersion("firebase","9.6.11","app-compat")},820:(lt,Se,k)=>{k.r(Se);var p=k(5861),Y=k(3942),N=k(2090),ue=k(9681),X=k(655),ge=k(1877),re=k(4859);const Oe=function ze(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Le=function Ae(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},fe=new N.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),rt=new ge.Yd("@firebase/auth");function Ye(_,...h){rt.logLevel<=ge.in.ERROR&&rt.error(`Auth (${ue.SDK_VERSION}): ${_}`,...h)}function Ie(_,...h){throw He(_,...h)}function ve(_,...h){return He(_,...h)}function we(_,h,m){const w=Object.assign(Object.assign({},Le()),{[h]:m});return new N.LL("auth","Firebase",w).create(h,{appName:_.name})}function qe(_,h,m){if(!(h instanceof m))throw m.name!==h.constructor.name&&Ie(_,"argument-error"),we(_,"argument-error",`Type of ${h.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function He(_,...h){if("string"!=typeof _){const m=h[0],w=[...h.slice(1)];return w[0]&&(w[0].appName=_.name),_._errorFactory.create(m,...w)}return fe.create(_,...h)}function ne(_,h,...m){if(!_)throw He(h,...m)}function K(_){const h="INTERNAL ASSERTION FAILED: "+_;throw Ye(h),new Error(h)}function ie(_,h){_||K(h)}const me=new Map;function se(_){ie(_ instanceof Function,"Expected a class definition");let h=me.get(_);return h?(ie(h instanceof _,"Instance stored in cache mismatched with class"),h):(h=new _,me.set(_,h),h)}function St(){var _;return"undefined"!=typeof self&&(null===(_=self.location)||void 0===_?void 0:_.href)||""}function Xt(){return"http:"===Nn()||"https:"===Nn()}function Nn(){var _;return"undefined"!=typeof self&&(null===(_=self.location)||void 0===_?void 0:_.protocol)||null}class dn{constructor(h,m){this.shortDelay=h,this.longDelay=m,ie(m>h,"Short delay should be less than long delay!"),this.isMobile=(0,N.uI)()||(0,N.b$)()}get(){return function ct(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Xt()||(0,N.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function hn(_,h){ie(_.emulator,"Emulator should always be set here");const{url:m}=_.emulator;return h?`${m}${h.startsWith("/")?h.slice(1):h}`:m}class Ii{static initialize(h,m,w){this.fetchImpl=h,m&&(this.headersImpl=m),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void K("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void K("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void K("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const sn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Zi=new dn(3e4,6e4);function en(_,h){return _.tenantId&&!h.tenantId?Object.assign(Object.assign({},h),{tenantId:_.tenantId}):h}function Wt(_,h,m,w){return fr.apply(this,arguments)}function fr(){return(fr=(0,p.Z)(function*(_,h,m,w,S={}){return li(_,S,(0,p.Z)(function*(){let O={},z={};w&&("GET"===h?z=w:O={body:JSON.stringify(w)});const oe=(0,N.xO)(Object.assign({key:_.config.apiKey},z)).slice(1),Ve=yield _._getAdditionalHeaders();return Ve["Content-Type"]="application/json",_.languageCode&&(Ve["X-Firebase-Locale"]=_.languageCode),Ii.fetch()(Ur(_,_.config.apiHost,m,oe),Object.assign({method:h,headers:Ve,referrerPolicy:"no-referrer"},O))}))})).apply(this,arguments)}function li(_,h,m){return xs.apply(this,arguments)}function xs(){return(xs=(0,p.Z)(function*(_,h,m){_._canInitEmulator=!1;const w=Object.assign(Object.assign({},sn),h);try{const S=new Yi(_),O=yield Promise.race([m(),S.promise]);S.clearNetworkTimeout();const z=yield O.json();if("needConfirmation"in z)throw Qi(_,"account-exists-with-different-credential",z);if(O.ok&&!("errorMessage"in z))return z;{const oe=O.ok?z.errorMessage:z.error.message,[Ve,Ke]=oe.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ve)throw Qi(_,"credential-already-in-use",z);if("EMAIL_EXISTS"===Ve)throw Qi(_,"email-already-in-use",z);const Fe=w[Ve]||Ve.toLowerCase().replace(/[_\s]+/g,"-");if(Ke)throw we(_,Fe,Ke);Ie(_,Fe)}}catch(S){if(S instanceof N.ZR)throw S;Ie(_,"network-request-failed")}})).apply(this,arguments)}function Br(_,h,m,w){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,p.Z)(function*(_,h,m,w,S={}){const O=yield Wt(_,h,m,w,S);return"mfaPendingCredential"in O&&Ie(_,"multi-factor-auth-required",{_serverResponse:O}),O})).apply(this,arguments)}function Ur(_,h,m,w){const S=`${h}${m}?${w}`;return _.config.emulator?hn(_.config,S):`${_.config.apiScheme}://${S}`}class Yi{constructor(h){this.auth=h,this.timer=null,this.promise=new Promise((m,w)=>{this.timer=setTimeout(()=>w(ve(this.auth,"network-request-failed")),Zi.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Qi(_,h,m){const w={appName:_.name};m.email&&(w.email=m.email),m.phoneNumber&&(w.phoneNumber=m.phoneNumber);const S=ve(_,h,w);return S.customData._tokenResponse=m,S}function Kr(){return(Kr=(0,p.Z)(function*(_,h){return Wt(_,"POST","/v1/accounts:delete",h)})).apply(this,arguments)}function rr(_,h){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,p.Z)(function*(_,h){return Wt(_,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function ci(_,h){return io.apply(this,arguments)}function io(){return(io=(0,p.Z)(function*(_,h){return Wt(_,"POST","/v1/accounts:lookup",h)})).apply(this,arguments)}function En(_){if(_)try{const h=new Date(Number(_));if(!isNaN(h.getTime()))return h.toUTCString()}catch(h){}}function ma(){return(ma=(0,p.Z)(function*(_,h=!1){const m=(0,N.m9)(_),w=yield m.getIdToken(h),S=at(w);ne(S&&S.exp&&S.auth_time&&S.iat,m.auth,"internal-error");const O="object"==typeof S.firebase?S.firebase:void 0,z=null==O?void 0:O.sign_in_provider;return{claims:S,token:w,authTime:En(Kt(S.auth_time)),issuedAtTime:En(Kt(S.iat)),expirationTime:En(Kt(S.exp)),signInProvider:z||null,signInSecondFactor:(null==O?void 0:O.sign_in_second_factor)||null}})).apply(this,arguments)}function Kt(_){return 1e3*Number(_)}function at(_){const[h,m,w]=_.split(".");if(void 0===h||void 0===m||void 0===w)return Ye("JWT malformed, contained fewer than 3 sections"),null;try{const S=(0,N.tV)(m);return S?JSON.parse(S):(Ye("Failed to decode base64 JWT payload"),null)}catch(S){return Ye("Caught error parsing JWT payload as JSON",S),null}}function pr(_,h){return Li.apply(this,arguments)}function Li(){return(Li=(0,p.Z)(function*(_,h,m=!1){if(m)return h;try{return yield h}catch(w){throw w instanceof N.ZR&&zt(w)&&_.auth.currentUser===_&&(yield _.auth.signOut()),w}})).apply(this,arguments)}function zt({code:_}){return"auth/user-disabled"===_||"auth/user-token-expired"===_}class so{constructor(h){this.user=h,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(h){var m;if(h){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const S=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,S)}}schedule(h=!1){var m=this;if(!this.isRunning)return;const w=this.getInterval(h);this.timerId=setTimeout((0,p.Z)(function*(){yield m.iteration()}),w)}iteration(){var h=this;return(0,p.Z)(function*(){try{yield h.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===m.code&&h.schedule(!0))}h.schedule()})()}}class Ir{constructor(h,m){this.createdAt=h,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=En(this.lastLoginAt),this.creationTime=En(this.createdAt)}_copy(h){this.createdAt=h.createdAt,this.lastLoginAt=h.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function gr(_){return ht.apply(this,arguments)}function ht(){return(ht=(0,p.Z)(function*(_){var h;const m=_.auth,w=yield _.getIdToken(),S=yield pr(_,ci(m,{idToken:w}));ne(null==S?void 0:S.users.length,m,"internal-error");const O=S.users[0];_._notifyReloadListener(O);const z=(null===(h=O.providerUserInfo)||void 0===h?void 0:h.length)?Te(O.providerUserInfo):[],oe=Qe(_.providerData,z),Fe=!!_.isAnonymous&&!(_.email&&O.passwordHash||(null==oe?void 0:oe.length)),ut={uid:O.localId,displayName:O.displayName||null,photoURL:O.photoUrl||null,email:O.email||null,emailVerified:O.emailVerified||!1,phoneNumber:O.phoneNumber||null,tenantId:O.tenantId||null,providerData:oe,metadata:new Ir(O.createdAt,O.lastLoginAt),isAnonymous:Fe};Object.assign(_,ut)})).apply(this,arguments)}function jt(){return(jt=(0,p.Z)(function*(_){const h=(0,N.m9)(_);yield gr(h),yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)})).apply(this,arguments)}function Qe(_,h){return[..._.filter(w=>!h.some(S=>S.providerId===w.providerId)),...h]}function Te(_){return _.map(h=>{var{providerId:m}=h,w=(0,X._T)(h,["providerId"]);return{providerId:m,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}function ft(){return(ft=(0,p.Z)(function*(_,h){const m=yield li(_,{},(0,p.Z)(function*(){const w=(0,N.xO)({grant_type:"refresh_token",refresh_token:h}).slice(1),{tokenApiHost:S,apiKey:O}=_.config,z=Ur(_,S,"/v1/token",`key=${O}`),oe=yield _._getAdditionalHeaders();return oe["Content-Type"]="application/x-www-form-urlencoded",Ii.fetch()(z,{method:"POST",headers:oe,body:w})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class Gt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(h){ne(h.idToken,"internal-error"),ne(void 0!==h.idToken,"internal-error"),ne(void 0!==h.refreshToken,"internal-error");const m="expiresIn"in h&&void 0!==h.expiresIn?Number(h.expiresIn):function Dt(_){const h=at(_);return ne(h,"internal-error"),ne(void 0!==h.exp,"internal-error"),ne(void 0!==h.iat,"internal-error"),Number(h.exp)-Number(h.iat)}(h.idToken);this.updateTokensAndExpiration(h.idToken,h.refreshToken,m)}getToken(h,m=!1){var w=this;return(0,p.Z)(function*(){return ne(!w.accessToken||w.refreshToken,h,"user-token-expired"),m||!w.accessToken||w.isExpired?w.refreshToken?(yield w.refresh(h,w.refreshToken),w.accessToken):null:w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(h,m){var w=this;return(0,p.Z)(function*(){const{accessToken:S,refreshToken:O,expiresIn:z}=yield function nt(_,h){return ft.apply(this,arguments)}(h,m);w.updateTokensAndExpiration(S,O,Number(z))})()}updateTokensAndExpiration(h,m,w){this.refreshToken=m||null,this.accessToken=h||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(h,m){const{refreshToken:w,accessToken:S,expirationTime:O}=m,z=new Gt;return w&&(ne("string"==typeof w,"internal-error",{appName:h}),z.refreshToken=w),S&&(ne("string"==typeof S,"internal-error",{appName:h}),z.accessToken=S),O&&(ne("number"==typeof O,"internal-error",{appName:h}),z.expirationTime=O),z}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(h){this.accessToken=h.accessToken,this.refreshToken=h.refreshToken,this.expirationTime=h.expirationTime}_clone(){return Object.assign(new Gt,this.toJSON())}_performRefresh(){return K("not implemented")}}function Lt(_,h){ne("string"==typeof _||void 0===_,"internal-error",{appName:h})}class j{constructor(h){var{uid:m,auth:w,stsTokenManager:S}=h,O=(0,X._T)(h,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new so(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=w,this.stsTokenManager=S,this.accessToken=S.accessToken,this.displayName=O.displayName||null,this.email=O.email||null,this.emailVerified=O.emailVerified||!1,this.phoneNumber=O.phoneNumber||null,this.photoURL=O.photoURL||null,this.isAnonymous=O.isAnonymous||!1,this.tenantId=O.tenantId||null,this.providerData=O.providerData?[...O.providerData]:[],this.metadata=new Ir(O.createdAt||void 0,O.lastLoginAt||void 0)}getIdToken(h){var m=this;return(0,p.Z)(function*(){const w=yield pr(m,m.stsTokenManager.getToken(m.auth,h));return ne(w,m.auth,"internal-error"),m.accessToken!==w&&(m.accessToken=w,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),w})()}getIdTokenResult(h){return function Rs(_){return ma.apply(this,arguments)}(this,h)}reload(){return function Tr(_){return jt.apply(this,arguments)}(this)}_assign(h){this!==h&&(ne(this.uid===h.uid,this.auth,"internal-error"),this.displayName=h.displayName,this.photoURL=h.photoURL,this.email=h.email,this.emailVerified=h.emailVerified,this.phoneNumber=h.phoneNumber,this.isAnonymous=h.isAnonymous,this.tenantId=h.tenantId,this.providerData=h.providerData.map(m=>Object.assign({},m)),this.metadata._copy(h.metadata),this.stsTokenManager._assign(h.stsTokenManager))}_clone(h){return new j(Object.assign(Object.assign({},this),{auth:h,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(h){ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=h,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(h){this.reloadListener?this.reloadListener(h):this.reloadUserInfo=h}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(h,m=!1){var w=this;return(0,p.Z)(function*(){let S=!1;h.idToken&&h.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(h),S=!0),m&&(yield gr(w)),yield w.auth._persistUserIfCurrent(w),S&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var h=this;return(0,p.Z)(function*(){const m=yield h.getIdToken();return yield pr(h,function dt(_,h){return Kr.apply(this,arguments)}(h.auth,{idToken:m})),h.stsTokenManager.clearRefreshToken(),h.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(h=>Object.assign({},h)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(h,m){var w,S,O,z,oe,Ve,Ke,Fe;const ut=null!==(w=m.displayName)&&void 0!==w?w:void 0,xn=null!==(S=m.email)&&void 0!==S?S:void 0,br=null!==(O=m.phoneNumber)&&void 0!==O?O:void 0,ic=null!==(z=m.photoURL)&&void 0!==z?z:void 0,sc=null!==(oe=m.tenantId)&&void 0!==oe?oe:void 0,Vu=null!==(Ve=m._redirectEventId)&&void 0!==Ve?Ve:void 0,wf=null!==(Ke=m.createdAt)&&void 0!==Ke?Ke:void 0,xd=null!==(Fe=m.lastLoginAt)&&void 0!==Fe?Fe:void 0,{uid:Hi,emailVerified:oc,isAnonymous:Bu,providerData:Ef,stsTokenManager:Uu}=m;ne(Hi&&Uu,h,"internal-error");const Rd=Gt.fromJSON(this.name,Uu);ne("string"==typeof Hi,h,"internal-error"),Lt(ut,h.name),Lt(xn,h.name),ne("boolean"==typeof oc,h,"internal-error"),ne("boolean"==typeof Bu,h,"internal-error"),Lt(br,h.name),Lt(ic,h.name),Lt(sc,h.name),Lt(Vu,h.name),Lt(wf,h.name),Lt(xd,h.name);const Od=new j({uid:Hi,auth:h,email:xn,emailVerified:oc,displayName:ut,isAnonymous:Bu,photoURL:ic,phoneNumber:br,tenantId:sc,stsTokenManager:Rd,createdAt:wf,lastLoginAt:xd});return Ef&&Array.isArray(Ef)&&(Od.providerData=Ef.map(xg=>Object.assign({},xg))),Vu&&(Od._redirectEventId=Vu),Od}static _fromIdTokenResponse(h,m,w=!1){return(0,p.Z)(function*(){const S=new Gt;S.updateFromServerResponse(m);const O=new j({uid:m.localId,auth:h,stsTokenManager:S,isAnonymous:w});return yield gr(O),O})()}}const q=(()=>{class _{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,p.Z)(function*(){return!0})()}_set(m,w){var S=this;return(0,p.Z)(function*(){S.storage[m]=w})()}_get(m){var w=this;return(0,p.Z)(function*(){const S=w.storage[m];return void 0===S?null:S})()}_remove(m){var w=this;return(0,p.Z)(function*(){delete w.storage[m]})()}_addListener(m,w){}_removeListener(m,w){}}return _.type="NONE",_})();function de(_,h,m){return`firebase:${_}:${h}:${m}`}class Q{constructor(h,m,w){this.persistence=h,this.auth=m,this.userKey=w;const{config:S,name:O}=this.auth;this.fullUserKey=de(this.userKey,S.apiKey,O),this.fullPersistenceKey=de("persistence",S.apiKey,O),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(h){return this.persistence._set(this.fullUserKey,h.toJSON())}getCurrentUser(){var h=this;return(0,p.Z)(function*(){const m=yield h.persistence._get(h.fullUserKey);return m?j._fromJSON(h.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(h){var m=this;return(0,p.Z)(function*(){if(m.persistence===h)return;const w=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=h,w?m.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(h,m,w="authUser"){return(0,p.Z)(function*(){if(!m.length)return new Q(se(q),h,w);const S=(yield Promise.all(m.map(function(){var Ke=(0,p.Z)(function*(Fe){if(yield Fe._isAvailable())return Fe});return function(Fe){return Ke.apply(this,arguments)}}()))).filter(Ke=>Ke);let O=S[0]||se(q);const z=de(w,h.config.apiKey,h.name);let oe=null;for(const Ke of m)try{const Fe=yield Ke._get(z);if(Fe){const ut=j._fromJSON(h,Fe);Ke!==O&&(oe=ut),O=Ke;break}}catch(Fe){}const Ve=S.filter(Ke=>Ke._shouldAllowMigration);return O._shouldAllowMigration&&Ve.length?(O=Ve[0],oe&&(yield O._set(z,oe.toJSON())),yield Promise.all(m.map(function(){var Ke=(0,p.Z)(function*(Fe){if(Fe!==O)try{yield Fe._remove(z)}catch(ut){}});return function(Fe){return Ke.apply(this,arguments)}}())),new Q(O,h,w)):new Q(O,h,w)})()}}function Be(_){const h=_.toLowerCase();if(h.includes("opera/")||h.includes("opr/")||h.includes("opios/"))return"Opera";if(Zt(h))return"IEMobile";if(h.includes("msie")||h.includes("trident/"))return"IE";if(h.includes("edge/"))return"Edge";if(Et(h))return"Firefox";if(h.includes("silk/"))return"Silk";if(kt(h))return"Blackberry";if(gn(h))return"Webos";if(Qt(h))return"Safari";if((h.includes("chrome/")||Sr(h))&&!h.includes("edge/"))return"Chrome";if(Tn(h))return"Android";{const w=_.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==w?void 0:w.length))return w[1]}return"Other"}function Et(_=(0,N.z$)()){return/firefox\//i.test(_)}function Qt(_=(0,N.z$)()){const h=_.toLowerCase();return h.includes("safari/")&&!h.includes("chrome/")&&!h.includes("crios/")&&!h.includes("android")}function Sr(_=(0,N.z$)()){return/crios\//i.test(_)}function Zt(_=(0,N.z$)()){return/iemobile/i.test(_)}function Tn(_=(0,N.z$)()){return/android/i.test(_)}function kt(_=(0,N.z$)()){return/blackberry/i.test(_)}function gn(_=(0,N.z$)()){return/webos/i.test(_)}function sr(_=(0,N.z$)()){return/iphone|ipad|ipod/i.test(_)}function Ji(_=(0,N.z$)()){return sr(_)||Tn(_)||gn(_)||kt(_)||/windows phone/i.test(_)||Zt(_)}function _a(_,h=[]){let m;switch(_){case"Browser":m=Be((0,N.z$)());break;case"Worker":m=`${Be((0,N.z$)())}-${_}`;break;default:m=_}const w=h.length?h.join(","):"FirebaseCore-web";return`${m}/JsCore/${ue.SDK_VERSION}/${w}`}class di{constructor(h,m,w){this.app=h,this.heartbeatServiceProvider=m,this.config=w,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ft(this),this.idTokenSubscription=new Ft(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=fe,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=h.name,this.clientVersion=w.sdkClientVersion}_initializeWithPersistence(h,m){var w=this;return m&&(this._popupRedirectResolver=se(m)),this._initializationPromise=this.queue((0,p.Z)(function*(){var S,O;if(!w._deleted&&(w.persistenceManager=yield Q.create(w,h),!w._deleted)){if(null===(S=w._popupRedirectResolver)||void 0===S?void 0:S._shouldInitProactively)try{yield w._popupRedirectResolver._initialize(w)}catch(z){}yield w.initializeCurrentUser(m),w.lastNotifiedUid=(null===(O=w.currentUser)||void 0===O?void 0:O.uid)||null,!w._deleted&&(w._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var h=this;return(0,p.Z)(function*(){if(h._deleted)return;const m=yield h.assertedPersistence.getCurrentUser();if(h.currentUser||m){if(h.currentUser&&m&&h.currentUser.uid===m.uid)return h._currentUser._assign(m),void(yield h.currentUser.getIdToken());yield h._updateCurrentUser(m)}})()}initializeCurrentUser(h){var m=this;return(0,p.Z)(function*(){var w;let S=yield m.assertedPersistence.getCurrentUser();if(h&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const O=null===(w=m.redirectUser)||void 0===w?void 0:w._redirectEventId,z=null==S?void 0:S._redirectEventId,oe=yield m.tryRedirectSignIn(h);(!O||O===z)&&(null==oe?void 0:oe.user)&&(S=oe.user)}return S?S._redirectEventId?(ne(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===S._redirectEventId?m.directlySetCurrentUser(S):m.reloadAndSetCurrentUserOrClear(S)):m.reloadAndSetCurrentUserOrClear(S):m.directlySetCurrentUser(null)})()}tryRedirectSignIn(h){var m=this;return(0,p.Z)(function*(){let w=null;try{w=yield m._popupRedirectResolver._completeRedirectFn(m,h,!0)}catch(S){yield m._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(h){var m=this;return(0,p.Z)(function*(){try{yield gr(h)}catch(w){if("auth/network-request-failed"!==w.code)return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(h)})()}useDeviceLanguage(){this.languageCode=function wt(){if("undefined"==typeof navigator)return null;const _=navigator;return _.languages&&_.languages[0]||_.language||null}()}_delete(){var h=this;return(0,p.Z)(function*(){h._deleted=!0})()}updateCurrentUser(h){var m=this;return(0,p.Z)(function*(){const w=h?(0,N.m9)(h):null;return w&&ne(w.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(w&&w._clone(m))})()}_updateCurrentUser(h){var m=this;return(0,p.Z)(function*(){if(!m._deleted)return h&&ne(m.tenantId===h.tenantId,m,"tenant-id-mismatch"),m.queue((0,p.Z)(function*(){yield m.directlySetCurrentUser(h),m.notifyAuthListeners()}))})()}signOut(){var h=this;return(0,p.Z)(function*(){return(h.redirectPersistenceManager||h._popupRedirectResolver)&&(yield h._setRedirectUser(null)),h._updateCurrentUser(null)})()}setPersistence(h){var m=this;return this.queue((0,p.Z)(function*(){yield m.assertedPersistence.setPersistence(se(h))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(h){this._errorFactory=new N.LL("auth","Firebase",h())}onAuthStateChanged(h,m,w){return this.registerStateListener(this.authStateSubscription,h,m,w)}onIdTokenChanged(h,m,w){return this.registerStateListener(this.idTokenSubscription,h,m,w)}toJSON(){var h;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(h=this._currentUser)||void 0===h?void 0:h.toJSON()}}_setRedirectUser(h,m){var w=this;return(0,p.Z)(function*(){const S=yield w.getOrInitRedirectPersistenceManager(m);return null===h?S.removeCurrentUser():S.setCurrentUser(h)})()}getOrInitRedirectPersistenceManager(h){var m=this;return(0,p.Z)(function*(){if(!m.redirectPersistenceManager){const w=h&&se(h)||m._popupRedirectResolver;ne(w,m,"argument-error"),m.redirectPersistenceManager=yield Q.create(m,[se(w._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(h){var m=this;return(0,p.Z)(function*(){var w,S;return m._isInitialized&&(yield m.queue((0,p.Z)(function*(){}))),(null===(w=m._currentUser)||void 0===w?void 0:w._redirectEventId)===h?m._currentUser:(null===(S=m.redirectUser)||void 0===S?void 0:S._redirectEventId)===h?m.redirectUser:null})()}_persistUserIfCurrent(h){var m=this;return(0,p.Z)(function*(){if(h===m.currentUser)return m.queue((0,p.Z)(function*(){return m.directlySetCurrentUser(h)}))})()}_notifyListenersIfCurrent(h){h===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var h,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const w=null!==(m=null===(h=this.currentUser)||void 0===h?void 0:h.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==w&&(this.lastNotifiedUid=w,this.authStateSubscription.next(this.currentUser))}registerStateListener(h,m,w,S){if(this._deleted)return()=>{};const O="function"==typeof m?m:m.next.bind(m),z=this._isInitialized?Promise.resolve():this._initializationPromise;return ne(z,this,"internal-error"),z.then(()=>O(this.currentUser)),"function"==typeof m?h.addObserver(m,w,S):h.addObserver(m)}directlySetCurrentUser(h){var m=this;return(0,p.Z)(function*(){m.currentUser&&m.currentUser!==h&&(m._currentUser._stopProactiveRefresh(),h&&m.isProactiveRefreshEnabled&&h._startProactiveRefresh()),m.currentUser=h,h?yield m.assertedPersistence.setCurrentUser(h):yield m.assertedPersistence.removeCurrentUser()})()}queue(h){return this.operations=this.operations.then(h,h),this.operations}get assertedPersistence(){return ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(h){!h||this.frameworks.includes(h)||(this.frameworks.push(h),this.frameworks.sort(),this.clientVersion=_a(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var h=this;return(0,p.Z)(function*(){var m;const w={"X-Client-Version":h.clientVersion};h.app.options.appId&&(w["X-Firebase-gmpid"]=h.app.options.appId);const S=yield null===(m=h.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();return S&&(w["X-Firebase-Client"]=S),w})()}}function Ne(_){return(0,N.m9)(_)}class Ft{constructor(h){this.auth=h,this.observer=null,this.addObserver=(0,N.ne)(m=>this.observer=m)}get next(){return ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function mr(_){const h=_.indexOf(":");return h<0?"":_.substr(0,h+1)}function Un(_){if(!_)return null;const h=Number(_);return isNaN(h)?null:h}class on{constructor(h,m){this.providerId=h,this.signInMethod=m}toJSON(){return K("not implemented")}_getIdTokenResponse(h){return K("not implemented")}_linkToIdToken(h,m){return K("not implemented")}_getReauthenticationResolver(h){return K("not implemented")}}function kn(_,h){return Ns.apply(this,arguments)}function Ns(){return(Ns=(0,p.Z)(function*(_,h){return Wt(_,"POST","/v1/accounts:resetPassword",en(_,h))})).apply(this,arguments)}function Rt(_,h){return Bo.apply(this,arguments)}function Bo(){return(Bo=(0,p.Z)(function*(_,h){return Wt(_,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function Xi(_,h){return va.apply(this,arguments)}function va(){return(va=(0,p.Z)(function*(_,h){return Wt(_,"POST","/v1/accounts:update",en(_,h))})).apply(this,arguments)}function or(){return(or=(0,p.Z)(function*(_,h){return Br(_,"POST","/v1/accounts:signInWithPassword",en(_,h))})).apply(this,arguments)}function es(_,h){return ts.apply(this,arguments)}function ts(){return(ts=(0,p.Z)(function*(_,h){return Wt(_,"POST","/v1/accounts:sendOobCode",en(_,h))})).apply(this,arguments)}function hi(_,h){return an.apply(this,arguments)}function an(){return(an=(0,p.Z)(function*(_,h){return es(_,h)})).apply(this,arguments)}function su(_,h){return ou.apply(this,arguments)}function ou(){return(ou=(0,p.Z)(function*(_,h){return es(_,h)})).apply(this,arguments)}function Ti(_,h){return fi.apply(this,arguments)}function fi(){return(fi=(0,p.Z)(function*(_,h){return es(_,h)})).apply(this,arguments)}function Hc(_,h){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,p.Z)(function*(_,h){return es(_,h)})).apply(this,arguments)}function Zr(){return(Zr=(0,p.Z)(function*(_,h){return Br(_,"POST","/v1/accounts:signInWithEmailLink",en(_,h))})).apply(this,arguments)}function Gc(){return(Gc=(0,p.Z)(function*(_,h){return Br(_,"POST","/v1/accounts:signInWithEmailLink",en(_,h))})).apply(this,arguments)}class uu extends on{constructor(h,m,w,S=null){super("password",w),this._email=h,this._password=m,this._tenantId=S}static _fromEmailAndPassword(h,m){return new uu(h,m,"password")}static _fromEmailAndCode(h,m,w=null){return new uu(h,m,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(h){const m="string"==typeof h?JSON.parse(h):h;if((null==m?void 0:m.email)&&(null==m?void 0:m.password)){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(h){var m=this;return(0,p.Z)(function*(){switch(m.signInMethod){case"password":return function ks(_,h){return or.apply(this,arguments)}(h,{returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function au(_,h){return Zr.apply(this,arguments)}(h,{email:m._email,oobCode:m._password});default:Ie(h,"internal-error")}})()}_linkToIdToken(h,m){var w=this;return(0,p.Z)(function*(){switch(w.signInMethod){case"password":return Rt(h,{idToken:m,returnSecureToken:!0,email:w._email,password:w._password});case"emailLink":return function zh(_,h){return Gc.apply(this,arguments)}(h,{idToken:m,email:w._email,oobCode:w._password});default:Ie(h,"internal-error")}})()}_getReauthenticationResolver(h){return this._getIdTokenResponse(h)}}function jn(_,h){return qc.apply(this,arguments)}function qc(){return(qc=(0,p.Z)(function*(_,h){return Br(_,"POST","/v1/accounts:signInWithIdp",en(_,h))})).apply(this,arguments)}class ns extends on{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(h){const m=new ns(h.providerId,h.signInMethod);return h.idToken||h.accessToken?(h.idToken&&(m.idToken=h.idToken),h.accessToken&&(m.accessToken=h.accessToken),h.nonce&&!h.pendingToken&&(m.nonce=h.nonce),h.pendingToken&&(m.pendingToken=h.pendingToken)):h.oauthToken&&h.oauthTokenSecret?(m.accessToken=h.oauthToken,m.secret=h.oauthTokenSecret):Ie("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(h){const m="string"==typeof h?JSON.parse(h):h,{providerId:w,signInMethod:S}=m,O=(0,X._T)(m,["providerId","signInMethod"]);if(!w||!S)return null;const z=new ns(w,S);return z.idToken=O.idToken||void 0,z.accessToken=O.accessToken||void 0,z.secret=O.secret,z.nonce=O.nonce,z.pendingToken=O.pendingToken||null,z}_getIdTokenResponse(h){return jn(h,this.buildRequest())}_linkToIdToken(h,m){const w=this.buildRequest();return w.idToken=m,jn(h,w)}_getReauthenticationResolver(h){const m=this.buildRequest();return m.autoCreate=!1,jn(h,m)}buildRequest(){const h={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)h.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),h.postBody=(0,N.xO)(m)}return h}}function eg(_,h){return lu.apply(this,arguments)}function lu(){return(lu=(0,p.Z)(function*(_,h){return Wt(_,"POST","/v1/accounts:sendVerificationCode",en(_,h))})).apply(this,arguments)}function Fs(){return(Fs=(0,p.Z)(function*(_,h){return Br(_,"POST","/v1/accounts:signInWithPhoneNumber",en(_,h))})).apply(this,arguments)}function zc(){return(zc=(0,p.Z)(function*(_,h){const m=yield Br(_,"POST","/v1/accounts:signInWithPhoneNumber",en(_,h));if(m.temporaryProof)throw Qi(_,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const ng={USER_NOT_FOUND:"user-not-found"};function Wc(){return(Wc=(0,p.Z)(function*(_,h){return Br(_,"POST","/v1/accounts:signInWithPhoneNumber",en(_,Object.assign(Object.assign({},h),{operation:"REAUTH"})),ng)})).apply(this,arguments)}class Uo extends on{constructor(h){super("phone","phone"),this.params=h}static _fromVerification(h,m){return new Uo({verificationId:h,verificationCode:m})}static _fromTokenResponse(h,m){return new Uo({phoneNumber:h,temporaryProof:m})}_getIdTokenResponse(h){return function El(_,h){return Fs.apply(this,arguments)}(h,this._makeVerificationRequest())}_linkToIdToken(h,m){return function tg(_,h){return zc.apply(this,arguments)}(h,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(h){return function Wh(_,h){return Wc.apply(this,arguments)}(h,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:h,phoneNumber:m,verificationId:w,verificationCode:S}=this.params;return h&&m?{temporaryProof:h,phoneNumber:m}:{sessionInfo:w,code:S}}toJSON(){const h={providerId:this.providerId};return this.params.phoneNumber&&(h.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(h.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(h.verificationCode=this.params.verificationCode),this.params.verificationId&&(h.verificationId=this.params.verificationId),h}static fromJSON(h){"string"==typeof h&&(h=JSON.parse(h));const{verificationId:m,verificationCode:w,phoneNumber:S,temporaryProof:O}=h;return w||m||S||O?new Uo({verificationId:m,verificationCode:w,phoneNumber:S,temporaryProof:O}):null}}class ao{constructor(h){var m,w,S,O,z,oe;const Ve=(0,N.zd)((0,N.pd)(h)),Ke=null!==(m=Ve.apiKey)&&void 0!==m?m:null,Fe=null!==(w=Ve.oobCode)&&void 0!==w?w:null,ut=function Ly(_){switch(_){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(S=Ve.mode)&&void 0!==S?S:null);ne(Ke&&Fe&&ut,"argument-error"),this.apiKey=Ke,this.operation=ut,this.code=Fe,this.continueUrl=null!==(O=Ve.continueUrl)&&void 0!==O?O:null,this.languageCode=null!==(z=Ve.languageCode)&&void 0!==z?z:null,this.tenantId=null!==(oe=Ve.tenantId)&&void 0!==oe?oe:null}static parseLink(h){const m=function cu(_){const h=(0,N.zd)((0,N.pd)(_)).link,m=h?(0,N.zd)((0,N.pd)(h)).deep_link_id:null,w=(0,N.zd)((0,N.pd)(_)).deep_link_id;return(w?(0,N.zd)((0,N.pd)(w)).link:null)||w||m||h||_}(h);try{return new ao(m)}catch(w){return null}}}let bl=(()=>{class _{constructor(){this.providerId=_.PROVIDER_ID}static credential(m,w){return uu._fromEmailAndPassword(m,w)}static credentialWithLink(m,w){const S=ao.parseLink(w);return ne(S,"argument-error"),uu._fromEmailAndCode(m,S.code,S.tenantId)}}return _.PROVIDER_ID="password",_.EMAIL_PASSWORD_SIGN_IN_METHOD="password",_.EMAIL_LINK_SIGN_IN_METHOD="emailLink",_})();class Ls{constructor(h){this.providerId=h,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(h){this.defaultLanguageCode=h}setCustomParameters(h){return this.customParameters=h,this}getCustomParameters(){return this.customParameters}}class Yr extends Ls{constructor(){super(...arguments),this.scopes=[]}addScope(h){return this.scopes.includes(h)||this.scopes.push(h),this}getScopes(){return[...this.scopes]}}class jo extends Yr{static credentialFromJSON(h){const m="string"==typeof h?JSON.parse(h):h;return ne("providerId"in m&&"signInMethod"in m,"argument-error"),ns._fromParams(m)}credential(h){return this._credential(Object.assign(Object.assign({},h),{nonce:h.rawNonce}))}_credential(h){return ne(h.idToken||h.accessToken,"argument-error"),ns._fromParams(Object.assign(Object.assign({},h),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(h){return jo.oauthCredentialFromTaggedObject(h)}static credentialFromError(h){return jo.oauthCredentialFromTaggedObject(h.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthIdToken:m,oauthAccessToken:w,oauthTokenSecret:S,pendingToken:O,nonce:z,providerId:oe}=h;if(!w&&!S&&!m&&!O||!oe)return null;try{return new jo(oe)._credential({idToken:m,accessToken:w,nonce:z,pendingToken:O})}catch(Ve){return null}}}let uo=(()=>{class _ extends Yr{constructor(){super("facebook.com")}static credential(m){return ns._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return _.credential(m.oauthAccessToken)}catch(w){return null}}}return _.FACEBOOK_SIGN_IN_METHOD="facebook.com",_.PROVIDER_ID="facebook.com",_})(),wa=(()=>{class _ extends Yr{constructor(){super("google.com"),this.addScope("profile")}static credential(m,w){return ns._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:w})}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:w,oauthAccessToken:S}=m;if(!w&&!S)return null;try{return _.credential(w,S)}catch(O){return null}}}return _.GOOGLE_SIGN_IN_METHOD="google.com",_.PROVIDER_ID="google.com",_})(),Kc=(()=>{class _ extends Yr{constructor(){super("github.com")}static credential(m){return ns._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return _.credential(m.oauthAccessToken)}catch(w){return null}}}return _.GITHUB_SIGN_IN_METHOD="github.com",_.PROVIDER_ID="github.com",_})();class yr extends on{constructor(h,m){super(h,h),this.pendingToken=m}_getIdTokenResponse(h){return jn(h,this.buildRequest())}_linkToIdToken(h,m){const w=this.buildRequest();return w.idToken=m,jn(h,w)}_getReauthenticationResolver(h){const m=this.buildRequest();return m.autoCreate=!1,jn(h,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(h){const m="string"==typeof h?JSON.parse(h):h,{providerId:w,signInMethod:S,pendingToken:O}=m;return w&&S&&O&&w===S?new yr(w,O):null}static _create(h,m){return new yr(h,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class pi extends Ls{constructor(h){ne(h.startsWith("saml."),"argument-error"),super(h)}static credentialFromResult(h){return pi.samlCredentialFromTaggedObject(h)}static credentialFromError(h){return pi.samlCredentialFromTaggedObject(h.customData||{})}static credentialFromJSON(h){const m=yr.fromJSON(h);return ne(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{pendingToken:m,providerId:w}=h;if(!m||!w)return null;try{return yr._create(w,m)}catch(S){return null}}}let du=(()=>{class _ extends Yr{constructor(){super("twitter.com")}static credential(m,w){return ns._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:w})}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:w,oauthTokenSecret:S}=m;if(!w||!S)return null;try{return _.credential(w,S)}catch(O){return null}}}return _.TWITTER_SIGN_IN_METHOD="twitter.com",_.PROVIDER_ID="twitter.com",_})();function hu(_,h){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,p.Z)(function*(_,h){return Br(_,"POST","/v1/accounts:signUp",en(_,h))})).apply(this,arguments)}class _r{constructor(h){this.user=h.user,this.providerId=h.providerId,this._tokenResponse=h._tokenResponse,this.operationType=h.operationType}static _fromIdTokenResponse(h,m,w,S=!1){return(0,p.Z)(function*(){const O=yield j._fromIdTokenResponse(h,w,S),z=Zh(w);return new _r({user:O,providerId:z,_tokenResponse:w,operationType:m})})()}static _forOperation(h,m,w){return(0,p.Z)(function*(){yield h._updateTokensIfNecessary(w,!0);const S=Zh(w);return new _r({user:h,providerId:S,_tokenResponse:w,operationType:m})})()}}function Zh(_){return _.providerId?_.providerId:"phoneNumber"in _?"phone":null}function Zc(){return(Zc=(0,p.Z)(function*(_){var h;const m=Ne(_);if(yield m._initializationPromise,null===(h=m.currentUser)||void 0===h?void 0:h.isAnonymous)return new _r({user:m.currentUser,providerId:null,operationType:"signIn"});const w=yield hu(m,{returnSecureToken:!0}),S=yield _r._fromIdTokenResponse(m,"signIn",w,!0);return yield m._updateCurrentUser(S.user),S})).apply(this,arguments)}class pu extends N.ZR{constructor(h,m,w,S){var O;super(m.code,m.message),this.operationType=w,this.user=S,Object.setPrototypeOf(this,pu.prototype),this.customData={appName:h.name,tenantId:null!==(O=h.tenantId)&&void 0!==O?O:void 0,_serverResponse:m.customData._serverResponse,operationType:w}}static _fromErrorAndOperation(h,m,w,S){return new pu(h,m,w,S)}}function gu(_,h,m,w){return("reauthenticate"===h?m._getReauthenticationResolver(_):m._getIdTokenResponse(_)).catch(O=>{throw"auth/multi-factor-auth-required"===O.code?pu._fromErrorAndOperation(_,O,h,w):O})}function rs(_){return new Set(_.map(({providerId:h})=>h).filter(h=>!!h))}function Dl(){return(Dl=(0,p.Z)(function*(_,h){const m=(0,N.m9)(_);yield Bs(!0,m,h);const{providerUserInfo:w}=yield rr(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[h]}),S=rs(w||[]);return m.providerData=m.providerData.filter(O=>S.has(O.providerId)),S.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m})).apply(this,arguments)}function _n(_,h){return $o.apply(this,arguments)}function $o(){return($o=(0,p.Z)(function*(_,h,m=!1){const w=yield pr(_,h._linkToIdToken(_.auth,yield _.getIdToken()),m);return _r._forOperation(_,"link",w)})).apply(this,arguments)}function Bs(_,h,m){return un.apply(this,arguments)}function un(){return(un=(0,p.Z)(function*(_,h,m){yield gr(h);const S=!1===_?"provider-already-linked":"no-such-provider";ne(rs(h.providerData).has(m)===_,h.auth,S)})).apply(this,arguments)}function Yc(_,h){return lo.apply(this,arguments)}function lo(){return(lo=(0,p.Z)(function*(_,h,m=!1){const{auth:w}=_,S="reauthenticate";try{const O=yield pr(_,gu(w,S,h,_),m);ne(O.idToken,w,"internal-error");const z=at(O.idToken);ne(z,w,"internal-error");const{sub:oe}=z;return ne(_.uid===oe,w,"user-mismatch"),_r._forOperation(_,S,O)}catch(O){throw"auth/user-not-found"===(null==O?void 0:O.code)&&Ie(w,"user-mismatch"),O}})).apply(this,arguments)}function co(_,h){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,p.Z)(function*(_,h,m=!1){const w="signIn",S=yield gu(_,w,h),O=yield _r._fromIdTokenResponse(_,w,S);return m||(yield _._updateCurrentUser(O.user)),O})).apply(this,arguments)}function Pn(_,h){return ba.apply(this,arguments)}function ba(){return(ba=(0,p.Z)(function*(_,h){return co(Ne(_),h)})).apply(this,arguments)}function Si(_,h){return xr.apply(this,arguments)}function xr(){return(xr=(0,p.Z)(function*(_,h){const m=(0,N.m9)(_);return yield Bs(!1,m,h.providerId),_n(m,h)})).apply(this,arguments)}function Us(_,h){return is.apply(this,arguments)}function is(){return(is=(0,p.Z)(function*(_,h){return Yc((0,N.m9)(_),h)})).apply(this,arguments)}function mu(_,h){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,p.Z)(function*(_,h){return Br(_,"POST","/v1/accounts:signInWithCustomToken",en(_,h))})).apply(this,arguments)}function $s(){return($s=(0,p.Z)(function*(_,h){const m=Ne(_),w=yield mu(m,{token:h,returnSecureToken:!0}),S=yield _r._fromIdTokenResponse(m,"signIn",w);return yield m._updateCurrentUser(S.user),S})).apply(this,arguments)}class pt{constructor(h,m){this.factorId=h,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(h,m){return"phoneInfo"in m?yu._fromServerResponse(h,m):Ie(h,"internal-error")}}class yu extends pt{constructor(h){super("phone",h),this.phoneNumber=h.phoneInfo}static _fromServerResponse(h,m){return new yu(m)}}function Da(_,h,m){var w;ne((null===(w=m.url)||void 0===w?void 0:w.length)>0,_,"invalid-continue-uri"),ne(void 0===m.dynamicLinkDomain||m.dynamicLinkDomain.length>0,_,"invalid-dynamic-link-domain"),h.continueUrl=m.url,h.dynamicLinkDomain=m.dynamicLinkDomain,h.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(ne(m.iOS.bundleId.length>0,_,"missing-ios-bundle-id"),h.iOSBundleId=m.iOS.bundleId),m.android&&(ne(m.android.packageName.length>0,_,"missing-android-pkg-name"),h.androidInstallApp=m.android.installApp,h.androidMinimumVersionCode=m.android.minimumVersion,h.androidPackageName=m.android.packageName)}function vu(){return(vu=(0,p.Z)(function*(_,h,m){const w=(0,N.m9)(_),S={requestType:"PASSWORD_RESET",email:h};m&&Da(w,S,m),yield su(w,S)})).apply(this,arguments)}function Cl(){return(Cl=(0,p.Z)(function*(_,h,m){yield kn((0,N.m9)(_),{oobCode:h,newPassword:m})})).apply(this,arguments)}function De(){return(De=(0,p.Z)(function*(_,h){yield Xi((0,N.m9)(_),{oobCode:h})})).apply(this,arguments)}function Vt(_,h){return Tl.apply(this,arguments)}function Tl(){return(Tl=(0,p.Z)(function*(_,h){const m=(0,N.m9)(_),w=yield kn(m,{oobCode:h}),S=w.requestType;switch(ne(S,m,"internal-error"),S){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ne(w.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ne(w.mfaInfo,m,"internal-error");default:ne(w.email,m,"internal-error")}let O=null;return w.mfaInfo&&(O=pt._fromServerResponse(Ne(m),w.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.newEmail:w.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.email:w.newEmail)||null,multiFactorInfo:O},operation:S}})).apply(this,arguments)}function Ho(){return(Ho=(0,p.Z)(function*(_,h){const{data:m}=yield Vt((0,N.m9)(_),h);return m.email})).apply(this,arguments)}function Jr(){return(Jr=(0,p.Z)(function*(_,h,m){const w=Ne(_),S=yield hu(w,{returnSecureToken:!0,email:h,password:m}),O=yield _r._fromIdTokenResponse(w,"signIn",S);return yield w._updateCurrentUser(O.user),O})).apply(this,arguments)}function Qc(){return(Qc=(0,p.Z)(function*(_,h,m){const w=(0,N.m9)(_),S={requestType:"EMAIL_SIGNIN",email:h};ne(m.handleCodeInApp,w,"argument-error"),m&&Da(w,S,m),yield Ti(w,S)})).apply(this,arguments)}function Hs(){return(Hs=(0,p.Z)(function*(_,h,m){const w=(0,N.m9)(_),S=bl.credentialWithLink(h,m||St());return ne(S._tenantId===(w.tenantId||null),w,"tenant-id-mismatch"),Pn(w,S)})).apply(this,arguments)}function vr(_,h){return gi.apply(this,arguments)}function gi(){return(gi=(0,p.Z)(function*(_,h){return Wt(_,"POST","/v1/accounts:createAuthUri",en(_,h))})).apply(this,arguments)}function Gs(){return(Gs=(0,p.Z)(function*(_,h){const w={identifier:h,continueUri:Xt()?St():"http://localhost"},{signinMethods:S}=yield vr((0,N.m9)(_),w);return S||[]})).apply(this,arguments)}function xl(){return(xl=(0,p.Z)(function*(_,h){const m=(0,N.m9)(_),S={requestType:"VERIFY_EMAIL",idToken:yield _.getIdToken()};h&&Da(m.auth,S,h);const{email:O}=yield hi(m.auth,S);O!==_.email&&(yield _.reload())})).apply(this,arguments)}function Cu(){return(Cu=(0,p.Z)(function*(_,h,m){const w=(0,N.m9)(_),O={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield _.getIdToken(),newEmail:h};m&&Da(w.auth,O,m);const{email:z}=yield Hc(w.auth,O);z!==_.email&&(yield _.reload())})).apply(this,arguments)}function Rl(_,h){return Ca.apply(this,arguments)}function Ca(){return(Ca=(0,p.Z)(function*(_,h){return Wt(_,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function Ol(){return(Ol=(0,p.Z)(function*(_,{displayName:h,photoURL:m}){if(void 0===h&&void 0===m)return;const w=(0,N.m9)(_),O={idToken:yield w.getIdToken(),displayName:h,photoUrl:m,returnSecureToken:!0},z=yield pr(w,Rl(w.auth,O));w.displayName=z.displayName||null,w.photoURL=z.photoUrl||null;const oe=w.providerData.find(({providerId:Ve})=>"password"===Ve);oe&&(oe.displayName=w.displayName,oe.photoURL=w.photoURL),yield w._updateTokensIfNecessary(z)})).apply(this,arguments)}function kl(_,h,m){return ho.apply(this,arguments)}function ho(){return(ho=(0,p.Z)(function*(_,h,m){const{auth:w}=_,O={idToken:yield _.getIdToken(),returnSecureToken:!0};h&&(O.email=h),m&&(O.password=m);const z=yield pr(_,Rt(w,O));yield _._updateTokensIfNecessary(z,!0)})).apply(this,arguments)}class fo{constructor(h,m,w={}){this.isNewUser=h,this.providerId=m,this.profile=w}}class ed extends fo{constructor(h,m,w,S){super(h,m,w),this.username=S}}class td extends fo{constructor(h,m){super(h,"facebook.com",m)}}class po extends ed{constructor(h,m){super(h,"github.com",m,"string"==typeof(null==m?void 0:m.login)?null==m?void 0:m.login:null)}}class qs extends fo{constructor(h,m){super(h,"google.com",m)}}class Pl extends ed{constructor(h,m,w){super(h,"twitter.com",m,w)}}function Rr(_){const{user:h,_tokenResponse:m}=_;return h.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function Xc(_){var h,m;if(!_)return null;const{providerId:w}=_,S=_.rawUserInfo?JSON.parse(_.rawUserInfo):{},O=_.isNewUser||"identitytoolkit#SignupNewUserResponse"===_.kind;if(!w&&(null==_?void 0:_.idToken)){const z=null===(m=null===(h=at(_.idToken))||void 0===h?void 0:h.firebase)||void 0===m?void 0:m.sign_in_provider;if(z)return new fo(O,"anonymous"!==z&&"custom"!==z?z:null)}if(!w)return null;switch(w){case"facebook.com":return new td(O,S);case"github.com":return new po(O,S);case"google.com":return new qs(O,S);case"twitter.com":return new Pl(O,S,_.screenName||null);case"custom":case"anonymous":return new fo(O,null);default:return new fo(O,w,S)}}(m)}class ss{constructor(h,m){this.type=h,this.credential=m}static _fromIdtoken(h){return new ss("enroll",h)}static _fromMfaPendingCredential(h){return new ss("signin",h)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(h){var m,w;if(null==h?void 0:h.multiFactorSession){if(null===(m=h.multiFactorSession)||void 0===m?void 0:m.pendingCredential)return ss._fromMfaPendingCredential(h.multiFactorSession.pendingCredential);if(null===(w=h.multiFactorSession)||void 0===w?void 0:w.idToken)return ss._fromIdtoken(h.multiFactorSession.idToken)}return null}}class Ia{constructor(h,m,w){this.session=h,this.hints=m,this.signInResolver=w}static _fromError(h,m){const w=Ne(h),S=m.customData._serverResponse,O=(S.mfaInfo||[]).map(oe=>pt._fromServerResponse(w,oe));ne(S.mfaPendingCredential,w,"internal-error");const z=ss._fromMfaPendingCredential(S.mfaPendingCredential);return new Ia(z,O,function(){var oe=(0,p.Z)(function*(Ve){const Ke=yield Ve._process(w,z);delete S.mfaInfo,delete S.mfaPendingCredential;const Fe=Object.assign(Object.assign({},S),{idToken:Ke.idToken,refreshToken:Ke.refreshToken});switch(m.operationType){case"signIn":const ut=yield _r._fromIdTokenResponse(w,m.operationType,Fe);return yield w._updateCurrentUser(ut.user),ut;case"reauthenticate":return ne(m.user,w,"internal-error"),_r._forOperation(m.user,m.operationType,Fe);default:Ie(w,"internal-error")}});return function(Ve){return oe.apply(this,arguments)}}())}resolveSignIn(h){var m=this;return(0,p.Z)(function*(){return m.signInResolver(h)})()}}function $n(_,h){return Wt(_,"POST","/v2/accounts/mfaEnrollment:start",en(_,h))}class os{constructor(h){this.user=h,this.enrolledFactors=[],h._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(w=>pt._fromServerResponse(h.auth,w)))})}static _fromUser(h){return new os(h)}getSession(){var h=this;return(0,p.Z)(function*(){return ss._fromIdtoken(yield h.user.getIdToken())})()}enroll(h,m){var w=this;return(0,p.Z)(function*(){const S=h,O=yield w.getSession(),z=yield pr(w.user,S._process(w.user.auth,O,m));return yield w.user._updateTokensIfNecessary(z),w.user.reload()})()}unenroll(h){var m=this;return(0,p.Z)(function*(){const w="string"==typeof h?h:h.uid,S=yield m.user.getIdToken(),O=yield pr(m.user,function ig(_,h){return Wt(_,"POST","/v2/accounts/mfaEnrollment:withdraw",en(_,h))}(m.user.auth,{idToken:S,mfaEnrollmentId:w}));m.enrolledFactors=m.enrolledFactors.filter(({uid:z})=>z!==w),yield m.user._updateTokensIfNecessary(O);try{yield m.user.reload()}catch(z){if("auth/user-token-expired"!==z.code)throw z}})()}}const zo=new WeakMap,Vl="__sak";class go{constructor(h,m){this.storageRetriever=h,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(Vl,"1"),this.storage.removeItem(Vl),Promise.resolve(!0)):Promise.resolve(!1)}catch(h){return Promise.resolve(!1)}}_set(h,m){return this.storage.setItem(h,JSON.stringify(m)),Promise.resolve()}_get(h){const m=this.storage.getItem(h);return Promise.resolve(m?JSON.parse(m):null)}_remove(h){return this.storage.removeItem(h),Promise.resolve()}get storage(){return this.storageRetriever()}}const Or=(()=>{class _ extends go{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,w)=>this.onStorageEvent(m,w),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function id(){const _=(0,N.z$)();return Qt(_)||sr(_)}()&&function Zn(){try{return!(!window||window===window.top)}catch(_){return!1}}(),this.fallbackToPolling=Ji(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const w of Object.keys(this.listeners)){const S=this.storage.getItem(w),O=this.localCache[w];S!==O&&m(w,O,S)}}onStorageEvent(m,w=!1){if(!m.key)return void this.forAllChangedKeys((oe,Ve,Ke)=>{this.notifyListeners(oe,Ke)});const S=m.key;if(w?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const oe=this.storage.getItem(S);if(m.newValue!==oe)null!==m.newValue?this.storage.setItem(S,m.newValue):this.storage.removeItem(S);else if(this.localCache[S]===m.newValue&&!w)return}const O=()=>{const oe=this.storage.getItem(S);!w&&this.localCache[S]===oe||this.notifyListeners(S,oe)},z=this.storage.getItem(S);!function ya(){return(0,N.w1)()&&10===document.documentMode}()||z===m.newValue||m.newValue===m.oldValue?O():setTimeout(O,10)}notifyListeners(m,w){this.localCache[m]=w;const S=this.listeners[m];if(S)for(const O of Array.from(S))O(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,w,S)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:w,newValue:S}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(w)}_removeListener(m,w){this.listeners[m]&&(this.listeners[m].delete(w),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,w){var S=()=>super._set,O=this;return(0,p.Z)(function*(){yield S().call(O,m,w),O.localCache[m]=JSON.stringify(w)})()}_get(m){var w=()=>super._get,S=this;return(0,p.Z)(function*(){const O=yield w().call(S,m);return S.localCache[m]=JSON.stringify(O),O})()}_remove(m){var w=()=>super._remove,S=this;return(0,p.Z)(function*(){yield w().call(S,m),delete S.localCache[m]})()}}return _.type="LOCAL",_})(),us=(()=>{class _ extends go{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,w){}_removeListener(m,w){}}return _.type="SESSION",_})();let Su=(()=>{class _{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const w=this.receivers.find(O=>O.isListeningto(m));if(w)return w;const S=new _(m);return this.receivers.push(S),S}isListeningto(m){return this.eventTarget===m}handleEvent(m){var w=this;return(0,p.Z)(function*(){const S=m,{eventId:O,eventType:z,data:oe}=S.data,Ve=w.handlersMap[z];if(!(null==Ve?void 0:Ve.size))return;S.ports[0].postMessage({status:"ack",eventId:O,eventType:z});const Ke=Array.from(Ve).map(function(){var ut=(0,p.Z)(function*(xn){return xn(S.origin,oe)});return function(xn){return ut.apply(this,arguments)}}()),Fe=yield function Tu(_){return Promise.all(_.map(function(){var h=(0,p.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(w){return{fulfilled:!1,reason:w}}});return function(m){return h.apply(this,arguments)}}()))}(Ke);S.ports[0].postMessage({status:"done",eventId:O,eventType:z,response:Fe})})()}_subscribe(m,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(w)}_unsubscribe(m,w){this.handlersMap[m]&&w&&this.handlersMap[m].delete(w),(!w||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return _.receivers=[],_})();function Wo(_="",h=10){let m="";for(let w=0;w<h;w++)m+=Math.floor(10*Math.random());return _+m}class sd{constructor(h){this.target=h,this.handlers=new Set}removeMessageHandler(h){h.messageChannel&&(h.messageChannel.port1.removeEventListener("message",h.onMessage),h.messageChannel.port1.close()),this.handlers.delete(h)}_send(h,m,w=50){var S=this;return(0,p.Z)(function*(){const O="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!O)throw new Error("connection_unavailable");let z,oe;return new Promise((Ve,Ke)=>{const Fe=Wo("",20);O.port1.start();const ut=setTimeout(()=>{Ke(new Error("unsupported_event"))},w);oe={messageChannel:O,onMessage(xn){const br=xn;if(br.data.eventId===Fe)switch(br.data.status){case"ack":clearTimeout(ut),z=setTimeout(()=>{Ke(new Error("timeout"))},3e3);break;case"done":clearTimeout(z),Ve(br.data.response);break;default:clearTimeout(ut),clearTimeout(z),Ke(new Error("invalid_response"))}}},S.handlers.add(oe),O.port1.addEventListener("message",oe.onMessage),S.target.postMessage({eventType:h,eventId:Fe,data:m},[O.port2])}).finally(()=>{oe&&S.removeMessageHandler(oe)})})()}}function yn(){return window}function ls(){return void 0!==yn().WorkerGlobalScope&&"function"==typeof yn().importScripts}function mo(){return(mo=(0,p.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(_){return null}})).apply(this,arguments)}const od="firebaseLocalStorageDb",Ta="firebaseLocalStorage",Sa="fbase_key";class Ws{constructor(h){this.request=h}toPromise(){return new Promise((h,m)=>{this.request.addEventListener("success",()=>{h(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function Aa(_,h){return _.transaction([Ta],h?"readwrite":"readonly").objectStore(Ta)}function Hn(){const _=indexedDB.open(od,1);return new Promise((h,m)=>{_.addEventListener("error",()=>{m(_.error)}),_.addEventListener("upgradeneeded",()=>{const w=_.result;try{w.createObjectStore(Ta,{keyPath:Sa})}catch(S){m(S)}}),_.addEventListener("success",(0,p.Z)(function*(){const w=_.result;w.objectStoreNames.contains(Ta)?h(w):(w.close(),yield function Nr(){const _=indexedDB.deleteDatabase(od);return new Ws(_).toPromise()}(),h(yield Hn()))}))})}function Ma(_,h,m){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,p.Z)(function*(_,h,m){const w=Aa(_,!0).put({[Sa]:h,value:m});return new Ws(w).toPromise()})).apply(this,arguments)}function Zo(){return(Zo=(0,p.Z)(function*(_,h){const m=Aa(_,!1).get(h),w=yield new Ws(m).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function yo(_,h){const m=Aa(_,!0).delete(h);return new Ws(m).toPromise()}const cs=(()=>{class _{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,p.Z)(function*(){return m.db||(m.db=yield Hn()),m.db})()}_withRetries(m){var w=this;return(0,p.Z)(function*(){let S=0;for(;;)try{const O=yield w._openDb();return yield m(O)}catch(O){if(S++>3)throw O;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,p.Z)(function*(){return ls()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,p.Z)(function*(){m.receiver=Su._getInstance(function Jh(){return ls()?self:null}()),m.receiver._subscribe("keyChanged",function(){var w=(0,p.Z)(function*(S,O){return{keyProcessed:(yield m._poll()).includes(O.key)}});return function(S,O){return w.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var w=(0,p.Z)(function*(S,O){return["keyChanged"]});return function(S,O){return w.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,p.Z)(function*(){var w,S;if(m.activeServiceWorker=yield function Ul(){return mo.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new sd(m.activeServiceWorker);const O=yield m.sender._send("ping",{},800);!O||(null===(w=O[0])||void 0===w?void 0:w.fulfilled)&&(null===(S=O[0])||void 0===S?void 0:S.value.includes("keyChanged"))&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var w=this;return(0,p.Z)(function*(){if(w.sender&&w.activeServiceWorker&&function By(){var _;return(null===(_=null==navigator?void 0:navigator.serviceWorker)||void 0===_?void 0:_.controller)||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:m},w.serviceWorkerReceiverAvailable?800:50)}catch(S){}})()}_isAvailable(){return(0,p.Z)(function*(){try{if(!indexedDB)return!1;const m=yield Hn();return yield Ma(m,Vl,"1"),yield yo(m,Vl),!0}catch(m){}return!1})()}_withPendingWrite(m){var w=this;return(0,p.Z)(function*(){w.pendingWrites++;try{yield m()}finally{w.pendingWrites--}})()}_set(m,w){var S=this;return(0,p.Z)(function*(){return S._withPendingWrite((0,p.Z)(function*(){return yield S._withRetries(O=>Ma(O,m,w)),S.localCache[m]=w,S.notifyServiceWorker(m)}))})()}_get(m){var w=this;return(0,p.Z)(function*(){const S=yield w._withRetries(O=>function Mi(_,h){return Zo.apply(this,arguments)}(O,m));return w.localCache[m]=S,S})()}_remove(m){var w=this;return(0,p.Z)(function*(){return w._withPendingWrite((0,p.Z)(function*(){return yield w._withRetries(S=>yo(S,m)),delete w.localCache[m],w.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,p.Z)(function*(){const w=yield m._withRetries(z=>{const oe=Aa(z,!1).getAll();return new Ws(oe).toPromise()});if(!w)return[];if(0!==m.pendingWrites)return[];const S=[],O=new Set;for(const{fbase_key:z,value:oe}of w)O.add(z),JSON.stringify(m.localCache[z])!==JSON.stringify(oe)&&(m.notifyListeners(z,oe),S.push(z));for(const z of Object.keys(m.localCache))m.localCache[z]&&!O.has(z)&&(m.notifyListeners(z,null),S.push(z));return S})()}notifyListeners(m,w){this.localCache[m]=w;const S=this.listeners[m];if(S)for(const O of Array.from(S))O(w)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,p.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(w)}_removeListener(m,w){this.listeners[m]&&(this.listeners[m].delete(w),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return _.type="LOCAL",_})();function Xh(_,h){return Wt(_,"POST","/v2/accounts/mfaSignIn:start",en(_,h))}function ds(){return(ds=(0,p.Z)(function*(_){return(yield Wt(_,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Yo(_){return new Promise((h,m)=>{const w=document.createElement("script");w.setAttribute("src",_),w.onload=h,w.onerror=S=>{const O=ve("internal-error");O.customData=S,m(O)},w.type="text/javascript",w.charset="UTF-8",function Ra(){var _,h;return null!==(h=null===(_=document.getElementsByTagName("head"))||void 0===_?void 0:_[0])&&void 0!==h?h:document}().appendChild(w)})}function Qo(_){return`__${_}${Math.floor(1e6*Math.random())}`}const mi=1e12;class ef{constructor(h){this.auth=h,this.counter=mi,this._widgets=new Map}render(h,m){const w=this.counter;return this._widgets.set(w,new jl(h,this.auth.name,m||{})),this.counter++,w}reset(h){var m;const w=h||mi;null===(m=this._widgets.get(w))||void 0===m||m.delete(),this._widgets.delete(w)}getResponse(h){var m;return(null===(m=this._widgets.get(h||mi))||void 0===m?void 0:m.getResponse())||""}execute(h){var m=this;return(0,p.Z)(function*(){var w;return null===(w=m._widgets.get(h||mi))||void 0===w||w.execute(),""})()}}class jl{constructor(h,m,w){this.params=w,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const S="string"==typeof h?document.getElementById(h):h;ne(S,"argument-error",{appName:m}),this.container=S,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Jo(_){const h=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let w=0;w<_;w++)h.push(m.charAt(Math.floor(Math.random()*m.length)));return h.join("")}(50);const{callback:h,"expired-callback":m}=this.params;if(h)try{h(this.responseToken)}catch(w){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch(w){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Au=Qo("rcb"),ug=new dn(3e4,6e4);class lg{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!yn().grecaptcha}load(h,m=""){return ne(function cg(_){return _.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(_)}(m),h,"argument-error"),this.shouldResolveImmediately(m)?Promise.resolve(yn().grecaptcha):new Promise((w,S)=>{const O=yn().setTimeout(()=>{S(ve(h,"network-request-failed"))},ug.get());yn()[Au]=()=>{yn().clearTimeout(O),delete yn()[Au];const oe=yn().grecaptcha;if(!oe)return void S(ve(h,"internal-error"));const Ve=oe.render;oe.render=(Ke,Fe)=>{const ut=Ve(Ke,Fe);return this.counter++,ut},this.hostLanguage=m,w(oe)},Yo(`https://www.google.com/recaptcha/api.js??${(0,N.xO)({onload:Au,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(O),S(ve(h,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(h){return!!yn().grecaptcha&&(h===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class tf{load(h){return(0,p.Z)(function*(){return new ef(h)})()}clearedOneInstance(){}}const ld="recaptcha",nf={theme:"light",type:"image"};class dg{constructor(h,m=Object.assign({},nf),w){this.parameters=m,this.type=ld,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ne(w),this.isInvisible="invisible"===this.parameters.size,ne("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const S="string"==typeof h?document.getElementById(h):h;ne(S,this.auth,"argument-error"),this.container=S,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new tf:new lg,this.validateStartingState()}verify(){var h=this;return(0,p.Z)(function*(){h.assertNotDestroyed();const m=yield h.render(),w=h.getAssertedRecaptcha();return w.getResponse(m)||new Promise(O=>{const z=oe=>{!oe||(h.tokenChangeListeners.delete(z),O(oe))};h.tokenChangeListeners.add(z),h.isInvisible&&w.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(h){return Promise.reject(h)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(h=>{throw this.renderPromise=null,h})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(h=>{this.container.removeChild(h)})}validateStartingState(){ne(!this.parameters.sitekey,this.auth,"argument-error"),ne(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ne("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(h){return m=>{if(this.tokenChangeListeners.forEach(w=>w(m)),"function"==typeof h)h(m);else if("string"==typeof h){const w=yn()[h];"function"==typeof w&&w(m)}}}assertNotDestroyed(){ne(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var h=this;return(0,p.Z)(function*(){if(yield h.init(),!h.widgetId){let m=h.container;if(!h.isInvisible){const w=document.createElement("div");m.appendChild(w),m=w}h.widgetId=h.getAssertedRecaptcha().render(m,h.parameters)}return h.widgetId})()}init(){var h=this;return(0,p.Z)(function*(){ne(Xt()&&!ls(),h.auth,"internal-error"),yield function rf(){let _=null;return new Promise(h=>{"complete"!==document.readyState?(_=()=>h(),window.addEventListener("load",_)):h()}).catch(h=>{throw _&&window.removeEventListener("load",_),h})}(),h.recaptcha=yield h._recaptchaLoader.load(h.auth,h.auth.languageCode||void 0);const m=yield function ud(_){return ds.apply(this,arguments)}(h.auth);ne(m,h.auth,"internal-error"),h.parameters.sitekey=m})()}getAssertedRecaptcha(){return ne(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class vo{constructor(h,m){this.verificationId=h,this.onConfirmation=m}confirm(h){const m=Uo._fromVerification(this.verificationId,h);return this.onConfirmation(m)}}function An(){return(An=(0,p.Z)(function*(_,h,m){const w=Ne(_),S=yield Cn(w,h,(0,N.m9)(m));return new vo(S,O=>Pn(w,O))})).apply(this,arguments)}function jr(){return(jr=(0,p.Z)(function*(_,h,m){const w=(0,N.m9)(_);yield Bs(!1,w,"phone");const S=yield Cn(w.auth,h,(0,N.m9)(m));return new vo(S,O=>Si(w,O))})).apply(this,arguments)}function wo(){return(wo=(0,p.Z)(function*(_,h,m){const w=(0,N.m9)(_),S=yield Cn(w.auth,h,(0,N.m9)(m));return new vo(S,O=>Us(w,O))})).apply(this,arguments)}function Cn(_,h,m){return ln.apply(this,arguments)}function ln(){return(ln=(0,p.Z)(function*(_,h,m){var w;const S=yield m.verify();try{let O;if(ne("string"==typeof S,_,"argument-error"),ne(m.type===ld,_,"argument-error"),O="string"==typeof h?{phoneNumber:h}:h,"session"in O){const z=O.session;if("phoneNumber"in O)return ne("enroll"===z.type,_,"internal-error"),(yield $n(_,{idToken:z.credential,phoneEnrollmentInfo:{phoneNumber:O.phoneNumber,recaptchaToken:S}})).phoneSessionInfo.sessionInfo;{ne("signin"===z.type,_,"internal-error");const oe=(null===(w=O.multiFactorHint)||void 0===w?void 0:w.uid)||O.multiFactorUid;return ne(oe,_,"missing-multi-factor-info"),(yield Xh(_,{mfaPendingCredential:z.credential,mfaEnrollmentId:oe,phoneSignInInfo:{recaptchaToken:S}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:z}=yield eg(_,{phoneNumber:O.phoneNumber,recaptchaToken:S});return z}}finally{m._reset()}})).apply(this,arguments)}function ar(){return(ar=(0,p.Z)(function*(_,h){yield _n((0,N.m9)(_),h)})).apply(this,arguments)}let yt=(()=>{class _{constructor(m){this.providerId=_.PROVIDER_ID,this.auth=Ne(m)}verifyPhoneNumber(m,w){return Cn(this.auth,m,(0,N.m9)(w))}static credential(m,w){return Uo._fromVerification(m,w)}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:w,temporaryProof:S}=m;return w&&S?Uo._fromTokenResponse(w,S):null}}return _.PROVIDER_ID="phone",_.PHONE_SIGN_IN_METHOD="phone",_})();function Bi(_,h){return h?se(h):(ne(_._popupRedirectResolver,_,"argument-error"),_._popupRedirectResolver)}class Na extends on{constructor(h){super("custom","custom"),this.params=h}_getIdTokenResponse(h){return jn(h,this._buildIdpRequest())}_linkToIdToken(h,m){return jn(h,this._buildIdpRequest(m))}_getReauthenticationResolver(h){return jn(h,this._buildIdpRequest())}_buildIdpRequest(h){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return h&&(m.idToken=h),m}}function ka(_){return co(_.auth,new Na(_),_.bypassAuthState)}function dd(_){const{auth:h,user:m}=_;return ne(m,h,"internal-error"),Yc(m,new Na(_),_.bypassAuthState)}function hd(_){return $l.apply(this,arguments)}function $l(){return($l=(0,p.Z)(function*(_){const{auth:h,user:m}=_;return ne(m,h,"internal-error"),_n(m,new Na(_),_.bypassAuthState)})).apply(this,arguments)}class wr{constructor(h,m,w,S,O=!1){this.auth=h,this.resolver=w,this.user=S,this.bypassAuthState=O,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var h=this;return new Promise(function(){var m=(0,p.Z)(function*(w,S){h.pendingPromise={resolve:w,reject:S};try{h.eventManager=yield h.resolver._initialize(h.auth),yield h.onExecution(),h.eventManager.registerConsumer(h)}catch(O){h.reject(O)}});return function(w,S){return m.apply(this,arguments)}}())}onAuthEvent(h){var m=this;return(0,p.Z)(function*(){const{urlResponse:w,sessionId:S,postBody:O,tenantId:z,error:oe,type:Ve}=h;if(oe)return void m.reject(oe);const Ke={auth:m.auth,requestUri:w,sessionId:S,tenantId:z||void 0,postBody:O||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(Ve)(Ke))}catch(Fe){m.reject(Fe)}})()}onError(h){this.reject(h)}getIdpTask(h){switch(h){case"signInViaPopup":case"signInViaRedirect":return ka;case"linkViaPopup":case"linkViaRedirect":return hd;case"reauthViaPopup":case"reauthViaRedirect":return dd;default:Ie(this.auth,"internal-error")}}resolve(h){ie(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(h),this.unregisterAndCleanUp()}reject(h){ie(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(h),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Hl=new dn(2e3,1e4);function fd(){return(fd=(0,p.Z)(function*(_,h,m){const w=Ne(_);qe(_,h,Ls);const S=Bi(w,m);return new ps(w,"signInViaPopup",h,S).executeNotNull()})).apply(this,arguments)}function fs(){return(fs=(0,p.Z)(function*(_,h,m){const w=(0,N.m9)(_);qe(w.auth,h,Ls);const S=Bi(w.auth,m);return new ps(w.auth,"reauthViaPopup",h,S,w).executeNotNull()})).apply(this,arguments)}function _t(){return(_t=(0,p.Z)(function*(_,h,m){const w=(0,N.m9)(_);qe(w.auth,h,Ls);const S=Bi(w.auth,m);return new ps(w.auth,"linkViaPopup",h,S,w).executeNotNull()})).apply(this,arguments)}let ps=(()=>{class _ extends wr{constructor(m,w,S,O,z){super(m,w,O,z),this.provider=S,this.authWindow=null,this.pollId=null,_.currentPopupAction&&_.currentPopupAction.cancel(),_.currentPopupAction=this}executeNotNull(){var m=this;return(0,p.Z)(function*(){const w=yield m.execute();return ne(w,m.auth,"internal-error"),w})()}onExecution(){var m=this;return(0,p.Z)(function*(){ie(1===m.filter.length,"Popup operations only handle one event");const w=Wo();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],w),m.authWindow.associatedEvent=w,m.resolver._originValidation(m.auth).catch(S=>{m.reject(S)}),m.resolver._isIframeWebStorageSupported(m.auth,S=>{S||m.reject(ve(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(ve(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_.currentPopupAction=null}pollUserCancellation(){const m=()=>{var w,S;this.pollId=(null===(S=null===(w=this.authWindow)||void 0===w?void 0:w.window)||void 0===S?void 0:S.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(ve(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(m,Hl.get())};m()}}return _.currentPopupAction=null,_})();const kr=new Map;class pd extends wr{constructor(h,m,w=!1){super(h,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,w),this.eventId=null}execute(){var h=()=>super.execute,m=this;return(0,p.Z)(function*(){let w=kr.get(m.auth._key());if(!w){try{const O=(yield function ql(_,h){return zl.apply(this,arguments)}(m.resolver,m.auth))?yield h().call(m):null;w=()=>Promise.resolve(O)}catch(S){w=()=>Promise.reject(S)}kr.set(m.auth._key(),w)}return m.bypassAuthState||kr.set(m.auth._key(),()=>Promise.resolve(null)),w()})()}onAuthEvent(h){var m=()=>super.onAuthEvent,w=this;return(0,p.Z)(function*(){if("signInViaRedirect"===h.type)return m().call(w,h);if("unknown"!==h.type){if(h.eventId){const S=yield w.auth._redirectUserForId(h.eventId);if(S)return w.user=S,m().call(w,h);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,p.Z)(function*(){})()}cleanUp(){}}function zl(){return(zl=(0,p.Z)(function*(_,h){const m=I(h),w=C(_);if(!(yield w._isAvailable()))return!1;const S="true"===(yield w._get(m));return yield w._remove(m),S})).apply(this,arguments)}function bo(_,h){return xu.apply(this,arguments)}function xu(){return(xu=(0,p.Z)(function*(_,h){return C(_)._set(I(h),"true")})).apply(this,arguments)}function C(_){return se(_._redirectPersistence)}function I(_){return de("pendingRedirect",_.config.apiKey,_.name)}function W(){return(W=(0,p.Z)(function*(_,h,m){const w=Ne(_);qe(_,h,Ls);const S=Bi(w,m);return yield bo(S,w),S._openRedirect(w,h,"signInViaRedirect")})).apply(this,arguments)}function Je(){return(Je=(0,p.Z)(function*(_,h,m){const w=(0,N.m9)(_);qe(w.auth,h,Ls);const S=Bi(w.auth,m);yield bo(S,w.auth);const O=yield ta(w);return S._openRedirect(w.auth,h,"reauthViaRedirect",O)})).apply(this,arguments)}function Bt(){return(Bt=(0,p.Z)(function*(_,h,m){const w=(0,N.m9)(_);qe(w.auth,h,Ls);const S=Bi(w.auth,m);yield Bs(!1,w,h.providerId),yield bo(S,w.auth);const O=yield ta(w);return S._openRedirect(w.auth,h,"linkViaRedirect",O)})).apply(this,arguments)}function Ot(){return(Ot=(0,p.Z)(function*(_,h){return yield Ne(_)._initializationPromise,Mn(_,h,!1)})).apply(this,arguments)}function Mn(_,h){return Ks.apply(this,arguments)}function Ks(){return(Ks=(0,p.Z)(function*(_,h,m=!1){const w=Ne(_),S=Bi(w,h),z=yield new pd(w,S,m).execute();return z&&!m&&(delete z.user._redirectEventId,yield w._persistUserIfCurrent(z.user),yield w._setRedirectUser(null,h)),z})).apply(this,arguments)}function ta(_){return yi.apply(this,arguments)}function yi(){return(yi=(0,p.Z)(function*(_){const h=Wo(`${_.uid}:::`);return _._redirectEventId=h,yield _.auth._setRedirectUser(_),yield _.auth._persistUserIfCurrent(_),h})).apply(this,arguments)}class Zs{constructor(h){this.auth=h,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(h){this.consumers.add(h),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,h)&&(this.sendToConsumer(this.queuedRedirectEvent,h),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(h){this.consumers.delete(h)}onEvent(h){if(this.hasEventBeenHandled(h))return!1;let m=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(h,w)&&(m=!0,this.sendToConsumer(h,w),this.saveEventToCache(h))}),this.hasHandledPotentialRedirect||!function fg(_){switch(_.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return gd(_);default:return!1}}(h)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=h,m=!0)),m}sendToConsumer(h,m){var w;if(h.error&&!gd(h)){const S=(null===(w=h.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";m.onError(ve(this.auth,S))}else m.onAuthEvent(h)}isEventForConsumer(h,m){const w=null===m.eventId||!!h.eventId&&h.eventId===m.eventId;return m.filter.includes(h.type)&&w}hasEventBeenHandled(h){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ys(h))}saveEventToCache(h){this.cachedEventUids.add(Ys(h)),this.lastProcessedEventTime=Date.now()}}function Ys(_){return[_.type,_.eventId,_.sessionId,_.tenantId].filter(h=>h).join("-")}function gd({type:_,error:h}){return"unknown"===_&&"auth/no-auth-event"===(null==h?void 0:h.code)}function Wl(_){return Ru.apply(this,arguments)}function Ru(){return(Ru=(0,p.Z)(function*(_,h={}){return Wt(_,"GET","/v1/projects",h)})).apply(this,arguments)}const pg=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Uy=/^https?/;function Do(){return(Do=(0,p.Z)(function*(_){if(_.config.emulator)return;const{authorizedDomains:h}=yield Wl(_);for(const m of h)try{if(Ou(m))return}catch(w){}Ie(_,"unauthorized-domain")})).apply(this,arguments)}function Ou(_){const h=St(),{protocol:m,hostname:w}=new URL(h);if(_.startsWith("chrome-extension://")){const z=new URL(_);return""===z.hostname&&""===w?"chrome-extension:"===m&&_.replace("chrome-extension://","")===h.replace("chrome-extension://",""):"chrome-extension:"===m&&z.hostname===w}if(!Uy.test(m))return!1;if(pg.test(_))return w===_;const S=_.replace(/\./g,"\\.");return new RegExp("^(.+\\."+S+"|"+S+")$","i").test(w)}const of=new dn(3e4,6e4);function gg(){const _=yn().___jsl;if(null==_?void 0:_.H)for(const h of Object.keys(_.H))if(_.H[h].r=_.H[h].r||[],_.H[h].L=_.H[h].L||[],_.H[h].r=[..._.H[h].L],_.CP)for(let m=0;m<_.CP.length;m++)_.CP[m]=null}let Pa=null;function sw(_){return Pa=Pa||function mg(_){return new Promise((h,m)=>{var w,S,O;function z(){gg(),gapi.load("gapi.iframes",{callback:()=>{h(gapi.iframes.getContext())},ontimeout:()=>{gg(),m(ve(_,"network-request-failed"))},timeout:of.get()})}if(null===(S=null===(w=yn().gapi)||void 0===w?void 0:w.iframes)||void 0===S?void 0:S.Iframe)h(gapi.iframes.getContext());else{if(!(null===(O=yn().gapi)||void 0===O?void 0:O.load)){const oe=Qo("iframefcb");return yn()[oe]=()=>{gapi.load?z():m(ve(_,"network-request-failed"))},Yo(`https://apis.google.com/js/api.js?onload=${oe}`).catch(Ve=>m(Ve))}z()}}).catch(h=>{throw Pa=null,h})}(_),Pa}const jy=new dn(5e3,15e3),yd={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},af=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Nu(_){const h=_.config;ne(h.authDomain,_,"auth-domain-config-required");const m=h.emulator?hn(h,"emulator/auth/iframe"):`https://${_.config.authDomain}/__/auth/iframe`,w={apiKey:h.apiKey,appName:_.name,v:ue.SDK_VERSION},S=af.get(_.config.apiHost);S&&(w.eid=S);const O=_._getFrameworks();return O.length&&(w.fw=O.join(",")),`${m}?${(0,N.xO)(w).slice(1)}`}function uf(){return uf=(0,p.Z)(function*(_){const h=yield sw(_),m=yn().gapi;return ne(m,_,"internal-error"),h.open({where:document.body,url:Nu(_),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:yd,dontclear:!0},w=>new Promise(function(){var S=(0,p.Z)(function*(O,z){yield w.restyle({setHideOnLeave:!1});const oe=ve(_,"network-request-failed"),Ve=yn().setTimeout(()=>{z(oe)},jy.get());function Ke(){yn().clearTimeout(Ve),O(w)}w.ping(Ke).then(Ke,()=>{z(oe)})});return function(O,z){return S.apply(this,arguments)}}()))}),uf.apply(this,arguments)}const ow={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class La{constructor(h){this.window=h,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(h){}}}function wg(_,h,m,w,S,O){ne(_.config.authDomain,_,"auth-domain-config-required"),ne(_.config.apiKey,_,"invalid-api-key");const z={apiKey:_.config.apiKey,appName:_.name,authType:m,redirectUrl:w,v:ue.SDK_VERSION,eventId:S};if(h instanceof Ls){h.setDefaultLanguage(_.languageCode),z.providerId=h.providerId||"",(0,N.xb)(h.getCustomParameters())||(z.customParameters=JSON.stringify(h.getCustomParameters()));for(const[Ve,Ke]of Object.entries(O||{}))z[Ve]=Ke}if(h instanceof Yr){const Ve=h.getScopes().filter(Ke=>""!==Ke);Ve.length>0&&(z.scopes=Ve.join(","))}_.tenantId&&(z.tid=_.tenantId);const oe=z;for(const Ve of Object.keys(oe))void 0===oe[Ve]&&delete oe[Ve];return`${function Eg({config:_}){return _.emulator?hn(_,"emulator/auth/handler"):`https://${_.authDomain}/__/auth/handler`}(_)}?${(0,N.xO)(oe).slice(1)}`}const xi="webStorageSupport";class Yl extends class aC{constructor(h){this.factorId=h}_process(h,m,w){switch(m.type){case"enroll":return this._finalizeEnroll(h,m.credential,w);case"signin":return this._finalizeSignIn(h,m.credential);default:return K("unexpected MultiFactorSessionType")}}}{constructor(h){super("phone"),this.credential=h}static _fromCredential(h){return new Yl(h)}_finalizeEnroll(h,m,w){return function nd(_,h){return Wt(_,"POST","/v2/accounts/mfaEnrollment:finalize",en(_,h))}(h,{idToken:m,displayName:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(h,m){return function xa(_,h){return Wt(_,"POST","/v2/accounts/mfaSignIn:finalize",en(_,h))}(h,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let bg=(()=>{class _{constructor(){}static assertion(m){return Yl._fromCredential(m)}}return _.FACTOR_ID="phone",_})();var zy="@firebase/auth",Wy="0.19.12";class Ky{constructor(h){this.auth=h,this.internalListeners=new Map}getUid(){var h;return this.assertAuthConfigured(),(null===(h=this.auth.currentUser)||void 0===h?void 0:h.uid)||null}getToken(h){var m=this;return(0,p.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(h)}:null})()}addAuthTokenListener(h){if(this.assertAuthConfigured(),this.internalListeners.has(h))return;const m=this.auth.onIdTokenChanged(w=>{var S;h((null===(S=w)||void 0===S?void 0:S.stsTokenManager.accessToken)||null)});this.internalListeners.set(h,m),this.updateProactiveRefresh()}removeAuthTokenListener(h){this.assertAuthConfigured();const m=this.internalListeners.get(h);!m||(this.internalListeners.delete(h),m(),this.updateProactiveRefresh())}assertAuthConfigured(){ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function na(){return window}function Va(){return(Va=(0,p.Z)(function*(_,h,m){var w;const{BuildInfo:S}=na();ie(h.sessionId,"AuthEvent did not contain a session ID");const O=yield cw(h.sessionId),z={};return sr()?z.ibi=S.packageName:Tn()?z.apn=S.packageName:Ie(_,"operation-not-supported-in-this-environment"),S.displayName&&(z.appDisplayName=S.displayName),z.sessionId=O,wg(_,m,h.type,void 0,null!==(w=h.eventId)&&void 0!==w?w:void 0,z)})).apply(this,arguments)}function ji(){return(ji=(0,p.Z)(function*(_){const{BuildInfo:h}=na(),m={};sr()?m.iosBundleId=h.packageName:Tn()?m.androidPackageName=h.packageName:Ie(_,"operation-not-supported-in-this-environment"),yield Wl(_,m)})).apply(this,arguments)}function vd(){return(vd=(0,p.Z)(function*(_,h,m){const{cordova:w}=na();let S=()=>{};try{yield new Promise((O,z)=>{let oe=null;function Ve(){var ut;O();const xn=null===(ut=w.plugins.browsertab)||void 0===ut?void 0:ut.close;"function"==typeof xn&&xn(),"function"==typeof(null==m?void 0:m.close)&&m.close()}function Ke(){oe||(oe=window.setTimeout(()=>{z(ve(_,"redirect-cancelled-by-user"))},2e3))}function Fe(){"visible"===(null==document?void 0:document.visibilityState)&&Ke()}h.addPassiveListener(Ve),document.addEventListener("resume",Ke,!1),Tn()&&document.addEventListener("visibilitychange",Fe,!1),S=()=>{h.removePassiveListener(Ve),document.removeEventListener("resume",Ke,!1),document.removeEventListener("visibilitychange",Fe,!1),oe&&window.clearTimeout(oe)}})}finally{S()}})).apply(this,arguments)}function cw(_){return Pu.apply(this,arguments)}function Pu(){return(Pu=(0,p.Z)(function*(_){const h=Zy(_),m=yield crypto.subtle.digest("SHA-256",h);return Array.from(new Uint8Array(m)).map(S=>S.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Zy(_){if(ie(/[0-9a-zA-Z]+/.test(_),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(_);const h=new ArrayBuffer(_.length),m=new Uint8Array(h);for(let w=0;w<_.length;w++)m[w]=_.charCodeAt(w);return m}!function uw(_){(0,ue._registerComponent)(new re.wA("auth",(h,{options:m})=>{const w=h.getProvider("app").getImmediate(),S=h.getProvider("heartbeat"),{apiKey:O,authDomain:z}=w.options;return((oe,Ve)=>{ne(O&&!O.includes(":"),"invalid-api-key",{appName:oe.name}),ne(!(null==z?void 0:z.includes(":")),"argument-error",{appName:oe.name});const Ke={apiKey:O,authDomain:z,clientPlatform:_,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_a(_)},Fe=new di(oe,Ve,Ke);return function ae(_,h){const m=(null==h?void 0:h.persistence)||[],w=(Array.isArray(m)?m:[m]).map(se);(null==h?void 0:h.errorMap)&&_._updateErrorMap(h.errorMap),_._initializeWithPersistence(w,null==h?void 0:h.popupRedirectResolver)}(Fe,m),Fe})(w,S)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((h,m,w)=>{h.getProvider("auth-internal").initialize()})),(0,ue._registerComponent)(new re.wA("auth-internal",h=>{const m=Ne(h.getProvider("auth").getImmediate());return new Ky(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ue.registerVersion)(zy,Wy,function aw(_){switch(_){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(_)),(0,ue.registerVersion)(zy,Wy,"esm2017")}("Browser");class df extends Zs{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(h=>{this.resolveInialized=h})}addPassiveListener(h){this.passiveListeners.add(h)}removePassiveListener(h){this.passiveListeners.delete(h)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(h){return this.resolveInialized(),this.passiveListeners.forEach(m=>m(h)),super.onEvent(h)}initialized(){var h=this;return(0,p.Z)(function*(){yield h.initPromise})()}}function Cg(_){return Ba.apply(this,arguments)}function Ba(){return(Ba=(0,p.Z)(function*(_){const h=yield Fu()._get(ff(_));return h&&(yield Fu()._remove(ff(_))),h})).apply(this,arguments)}function wd(){const _=[],h="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let m=0;m<20;m++){const w=Math.floor(Math.random()*h.length);_.push(h.charAt(w))}return _.join("")}function Fu(){return se(Or)}function ff(_){return de("authEvent",_.config.apiKey,_.name)}function Co(_){if(!(null==_?void 0:_.includes("?")))return{};const[h,...m]=_.split("?");return(0,N.zd)(m.join("?"))}function Hr(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:ve("no-auth-event")}}function gs(){var _;return(null===(_=null==self?void 0:self.location)||void 0===_?void 0:_.protocol)||null}function Dd(_=(0,N.z$)()){return!("file:"!==gs()&&"ionic:"!==gs()||!_.toLowerCase().match(/iphone|ipad|ipod|android/))}function Ln(){try{const _=self.localStorage,h=Wo();if(_)return _.setItem(h,"1"),_.removeItem(h),!function ec(_=(0,N.z$)()){return function hw(){return(0,N.w1)()&&11===(null==document?void 0:document.documentMode)}()||function Qy(_=(0,N.z$)()){return/Edge\/\d+/.test(_)}(_)}()||(0,N.hl)()}catch(_){return Pr()&&(0,N.hl)()}return!1}function Pr(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Cd(){return(function Xl(){return"http:"===gs()||"https:"===gs()}()||(0,N.ru)()||Dd())&&!function Tg(){return(0,N.b$)()||(0,N.UG)()}()&&Ln()&&!Pr()}function ms(){return Dd()&&"undefined"!=typeof document}function ys(){return(ys=(0,p.Z)(function*(){return!!ms()&&new Promise(_=>{const h=setTimeout(()=>{_(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(h),_(!0)})})})).apply(this,arguments)}const Ri={LOCAL:"local",NONE:"none",SESSION:"session"},tc=ne,gf="persistence";function Td(_){return mf.apply(this,arguments)}function mf(){return(mf=(0,p.Z)(function*(_){yield _._initializationPromise;const h=_f(),m=de(gf,_.config.apiKey,_.name);h&&h.setItem(m,_._getPersistence())})).apply(this,arguments)}function _f(){var _;try{return(null===(_=function Id(){return"undefined"!=typeof window?window:null}())||void 0===_?void 0:_.sessionStorage)||null}catch(h){return null}}const Xy=ne;class Js{constructor(){this.browserResolver=se(class Zl{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=us,this._completeRedirectFn=Mn}_openPopup(h,m,w,S){var O=this;return(0,p.Z)(function*(){var z;ie(null===(z=O.eventManagers[h._key()])||void 0===z?void 0:z.manager,"_initialize() not called before _openPopup()");const oe=wg(h,m,w,St(),S);return function _g(_,h,m,w=500,S=600){const O=Math.max((window.screen.availHeight-S)/2,0).toString(),z=Math.max((window.screen.availWidth-w)/2,0).toString();let oe="";const Ve=Object.assign(Object.assign({},ow),{width:w.toString(),height:S.toString(),top:O,left:z}),Ke=(0,N.z$)().toLowerCase();m&&(oe=Sr(Ke)?"_blank":m),Et(Ke)&&(h=h||"http://localhost",Ve.scrollbars="yes");const Fe=Object.entries(Ve).reduce((xn,[br,ic])=>`${xn}${br}=${ic},`,"");if(function iu(_=(0,N.z$)()){var h;return sr(_)&&!!(null===(h=window.navigator)||void 0===h?void 0:h.standalone)}(Ke)&&"_self"!==oe)return function ku(_,h){const m=document.createElement("a");m.href=_,m.target=h;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(w)}(h||"",oe),new La(null);const ut=window.open(h||"",oe,Fe);ne(ut,_,"popup-blocked");try{ut.focus()}catch(xn){}return new La(ut)}(h,oe,Wo())})()}_openRedirect(h,m,w,S){var O=this;return(0,p.Z)(function*(){return yield O._originValidation(h),function Dn(_){yn().location.href=_}(wg(h,m,w,St(),S)),new Promise(()=>{})})()}_initialize(h){const m=h._key();if(this.eventManagers[m]){const{manager:S,promise:O}=this.eventManagers[m];return S?Promise.resolve(S):(ie(O,"If manager is not set, promise should be"),O)}const w=this.initAndGetManager(h);return this.eventManagers[m]={promise:w},w.catch(()=>{delete this.eventManagers[m]}),w}initAndGetManager(h){var m=this;return(0,p.Z)(function*(){const w=yield function Hy(_){return uf.apply(this,arguments)}(h),S=new Zs(h);return w.register("authEvent",O=>(ne(null==O?void 0:O.authEvent,h,"invalid-auth-event"),{status:S.onEvent(O.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[h._key()]={manager:S},m.iframes[h._key()]=w,S})()}_isIframeWebStorageSupported(h,m){this.iframes[h._key()].send(xi,{type:xi},S=>{var O;const z=null===(O=null==S?void 0:S[0])||void 0===O?void 0:O[xi];void 0!==z&&m(!!z),Ie(h,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(h){const m=h._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function md(_){return Do.apply(this,arguments)}(h)),this.originValidationPromises[m]}get _shouldInitProactively(){return Ji()||Qt()||sr()}}),this.cordovaResolver=se(class Ig{constructor(){this._redirectPersistence=us,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Mn}_initialize(h){var m=this;return(0,p.Z)(function*(){const w=h._key();let S=m.eventManagers.get(w);return S||(S=new df(h),m.eventManagers.set(w,S),m.attachCallbackListeners(h,S)),S})()}_openPopup(h){Ie(h,"operation-not-supported-in-this-environment")}_openRedirect(h,m,w,S){var O=this;return(0,p.Z)(function*(){!function cf(_){var h,m,w,S,O,z,oe,Ve,Ke,Fe;const ut=na();ne("function"==typeof(null===(h=null==ut?void 0:ut.universalLinks)||void 0===h?void 0:h.subscribe),_,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ne(void 0!==(null===(m=null==ut?void 0:ut.BuildInfo)||void 0===m?void 0:m.packageName),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ne("function"==typeof(null===(O=null===(S=null===(w=null==ut?void 0:ut.cordova)||void 0===w?void 0:w.plugins)||void 0===S?void 0:S.browsertab)||void 0===O?void 0:O.openUrl),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ne("function"==typeof(null===(Ve=null===(oe=null===(z=null==ut?void 0:ut.cordova)||void 0===z?void 0:z.plugins)||void 0===oe?void 0:oe.browsertab)||void 0===Ve?void 0:Ve.isAvailable),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ne("function"==typeof(null===(Fe=null===(Ke=null==ut?void 0:ut.cordova)||void 0===Ke?void 0:Ke.InAppBrowser)||void 0===Fe?void 0:Fe.open),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(h);const z=yield O._initialize(h);yield z.initialized(),z.resetRedirect(),function ea(){kr.clear()}(),yield O._originValidation(h);const oe=function hf(_,h,m=null){return{type:h,eventId:m,urlResponse:null,sessionId:wd(),postBody:null,tenantId:_.tenantId,error:ve(_,"no-auth-event")}}(h,w,S);yield function dw(_,h){return Fu()._set(ff(_),h)}(h,oe);const Ve=yield function lf(_,h,m){return Va.apply(this,arguments)}(h,oe,m),Ke=yield function Ql(_){const{cordova:h}=na();return new Promise(m=>{h.plugins.browsertab.isAvailable(w=>{let S=null;w?h.plugins.browsertab.openUrl(_):S=h.InAppBrowser.open(_,function oo(_=(0,N.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(_)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(_)}()?"_blank":"_system","location=yes"),m(S)})})}(Ve);return function Dg(_,h,m){return vd.apply(this,arguments)}(h,z,Ke)})()}_isIframeWebStorageSupported(h,m){throw new Error("Method not implemented.")}_originValidation(h){const m=h._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Ui(_){return ji.apply(this,arguments)}(h)),this.originValidationPromises[m]}attachCallbackListeners(h,m){const{universalLinks:w,handleOpenURL:S,BuildInfo:O}=na(),z=setTimeout((0,p.Z)(function*(){yield Cg(h),m.onEvent(Hr())}),500),oe=function(){var Fe=(0,p.Z)(function*(ut){clearTimeout(z);const xn=yield Cg(h);let br=null;xn&&(null==ut?void 0:ut.url)&&(br=function Yy(_,h){var m,w;const S=function Jl(_){const h=Co(_),m=h.link?decodeURIComponent(h.link):void 0,w=Co(m).link,S=h.deep_link_id?decodeURIComponent(h.deep_link_id):void 0;return Co(S).link||S||w||m||_}(h);if(S.includes("/__/auth/callback")){const O=Co(S),z=O.firebaseError?function Ed(_){try{return JSON.parse(_)}catch(h){return null}}(decodeURIComponent(O.firebaseError)):null,oe=null===(w=null===(m=null==z?void 0:z.code)||void 0===m?void 0:m.split("auth/"))||void 0===w?void 0:w[1],Ve=oe?ve(oe):null;return Ve?{type:_.type,eventId:_.eventId,tenantId:_.tenantId,error:Ve,urlResponse:null,sessionId:null,postBody:null}:{type:_.type,eventId:_.eventId,tenantId:_.tenantId,sessionId:_.sessionId,urlResponse:S,postBody:null}}return null}(xn,ut.url)),m.onEvent(br||Hr())});return function(xn){return Fe.apply(this,arguments)}}();void 0!==w&&"function"==typeof w.subscribe&&w.subscribe(null,oe);const Ve=S,Ke=`${O.packageName.toLowerCase()}://`;na().handleOpenURL=function(){var Fe=(0,p.Z)(function*(ut){if(ut.toLowerCase().startsWith(Ke)&&oe({url:ut}),"function"==typeof Ve)try{Ve(ut)}catch(xn){console.error(xn)}});return function(ut){return Fe.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=us,this._completeRedirectFn=Mn}_initialize(h){var m=this;return(0,p.Z)(function*(){return yield m.selectUnderlyingResolver(),m.assertedUnderlyingResolver._initialize(h)})()}_openPopup(h,m,w,S){var O=this;return(0,p.Z)(function*(){return yield O.selectUnderlyingResolver(),O.assertedUnderlyingResolver._openPopup(h,m,w,S)})()}_openRedirect(h,m,w,S){var O=this;return(0,p.Z)(function*(){return yield O.selectUnderlyingResolver(),O.assertedUnderlyingResolver._openRedirect(h,m,w,S)})()}_isIframeWebStorageSupported(h,m){this.assertedUnderlyingResolver._isIframeWebStorageSupported(h,m)}_originValidation(h){return this.assertedUnderlyingResolver._originValidation(h)}get _shouldInitProactively(){return ms()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Xy(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var h=this;return(0,p.Z)(function*(){if(h.underlyingResolver)return;const m=yield function Er(){return ys.apply(this,arguments)}();h.underlyingResolver=m?h.cordovaResolver:h.browserResolver})()}}function Sg(_){return _.unwrap()}function Sd(_){return Ag(_)}function Ag(_){const{_tokenResponse:h}=_ instanceof N.ZR?_.customData:_;if(!h)return null;if(!(_ instanceof N.ZR)&&"temporaryProof"in h&&"phoneNumber"in h)return yt.credentialFromResult(_);const m=h.providerId;if(!m||"password"===m)return null;let w;switch(m){case"google.com":w=wa;break;case"facebook.com":w=uo;break;case"github.com":w=Kc;break;case"twitter.com":w=du;break;default:const{oauthIdToken:S,oauthAccessToken:O,oauthTokenSecret:z,pendingToken:oe,nonce:Ve}=h;return O||z||S||oe?oe?m.startsWith("saml.")?yr._create(m,oe):ns._fromParams({providerId:m,signInMethod:m,pendingToken:oe,idToken:S,accessToken:O}):new jo(m).credential({idToken:S,accessToken:O,rawNonce:Ve}):null}return _ instanceof N.ZR?w.credentialFromError(_):w.credentialFromResult(_)}function Vn(_,h){return h.catch(m=>{throw m instanceof N.ZR&&function qt(_,h){var m;const w=null===(m=h.customData)||void 0===m?void 0:m._tokenResponse;if("auth/multi-factor-auth-required"===h.code)h.resolver=new t_(_,function Iu(_,h){var m;const w=(0,N.m9)(_),S=h;return ne(h.customData.operationType,w,"argument-error"),ne(null===(m=S.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,w,"argument-error"),Ia._fromError(w,S)}(_,h));else if(w){const S=Ag(h),O=h;S&&(O.credential=S,O.tenantId=w.tenantId||void 0,O.email=w.email||void 0,O.phoneNumber=w.phoneNumber||void 0)}}(_,m),m}).then(m=>{const S=m.user;return{operationType:m.operationType,credential:Sd(m),additionalUserInfo:Rr(m),user:Io.getOrCreate(S)}})}function Ad(_,h){return nc.apply(this,arguments)}function nc(){return(nc=(0,p.Z)(function*(_,h){const m=yield h;return{verificationId:m.verificationId,confirm:w=>Vn(_,m.confirm(w))}})).apply(this,arguments)}class t_{constructor(h,m){this.resolver=m,this.auth=function e_(_){return _.wrapped()}(h)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(h){return Vn(Sg(this.auth),this.resolver.resolveSignIn(h))}}class Io{constructor(h){this._delegate=h,this.multiFactor=function rd(_){const h=(0,N.m9)(_);return zo.has(h)||zo.set(h,os._fromUser(h)),zo.get(h)}(h)}static getOrCreate(h){return Io.USER_MAP.has(h)||Io.USER_MAP.set(h,new Io(h)),Io.USER_MAP.get(h)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(h){return this._delegate.getIdTokenResult(h)}getIdToken(h){return this._delegate.getIdToken(h)}linkAndRetrieveDataWithCredential(h){return this.linkWithCredential(h)}linkWithCredential(h){var m=this;return(0,p.Z)(function*(){return Vn(m.auth,Si(m._delegate,h))})()}linkWithPhoneNumber(h,m){var w=this;return(0,p.Z)(function*(){return Ad(w.auth,function Mu(_,h,m){return jr.apply(this,arguments)}(w._delegate,h,m))})()}linkWithPopup(h){var m=this;return(0,p.Z)(function*(){return Vn(m.auth,function In(_,h,m){return _t.apply(this,arguments)}(m._delegate,h,Js))})()}linkWithRedirect(h){var m=this;return(0,p.Z)(function*(){return yield Td(Ne(m.auth)),function st(_,h,m){return function Ct(_,h,m){return Bt.apply(this,arguments)}(_,h,m)}(m._delegate,h,Js)})()}reauthenticateAndRetrieveDataWithCredential(h){return this.reauthenticateWithCredential(h)}reauthenticateWithCredential(h){var m=this;return(0,p.Z)(function*(){return Vn(m.auth,Us(m._delegate,h))})()}reauthenticateWithPhoneNumber(h,m){return Ad(this.auth,function sf(_,h,m){return wo.apply(this,arguments)}(this._delegate,h,m))}reauthenticateWithPopup(h){return Vn(this.auth,function Eo(_,h,m){return fs.apply(this,arguments)}(this._delegate,h,Js))}reauthenticateWithRedirect(h){var m=this;return(0,p.Z)(function*(){return yield Td(Ne(m.auth)),function ee(_,h,m){return function xe(_,h,m){return Je.apply(this,arguments)}(_,h,m)}(m._delegate,h,Js)})()}sendEmailVerification(h){return function Ai(_,h){return xl.apply(this,arguments)}(this._delegate,h)}unlink(h){var m=this;return(0,p.Z)(function*(){return yield function Ea(_,h){return Dl.apply(this,arguments)}(m._delegate,h),m})()}updateEmail(h){return function Nl(_,h){return kl((0,N.m9)(_),h,null)}(this._delegate,h)}updatePassword(h){return function Jc(_,h){return kl((0,N.m9)(_),null,h)}(this._delegate,h)}updatePhoneNumber(h){return function cd(_,h){return ar.apply(this,arguments)}(this._delegate,h)}updateProfile(h){return function qo(_,h){return Ol.apply(this,arguments)}(this._delegate,h)}verifyBeforeUpdateEmail(h,m){return function Du(_,h,m){return Cu.apply(this,arguments)}(this._delegate,h,m)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Io.USER_MAP=new WeakMap;const rc=ne;let $i=(()=>{class _{constructor(m,w){if(this.app=m,w.isInitialized())return this._delegate=w.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:S}=m.options;rc(S,"invalid-api-key",{appName:m.name}),rc(S,"invalid-api-key",{appName:m.name});const O="undefined"!=typeof window?Js:void 0;this._delegate=w.initialize({options:{persistence:Mg(S,m.name),popupRedirectResolver:O}}),this._delegate._updateErrorMap(Oe),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Io.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(m){this._delegate.languageCode=m}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(m){this._delegate.tenantId=m}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(m,w){!function mn(_,h,m){const w=Ne(_);ne(w._canInitEmulator,w,"emulator-config-failed"),ne(/^https?:\/\//.test(h),w,"invalid-emulator-scheme");const S=!!(null==m?void 0:m.disableWarnings),O=mr(h),{host:z,port:oe}=function Os(_){const h=mr(_),m=/(\/\/)?([^?#/]+)/.exec(_.substr(h.length));if(!m)return{host:"",port:null};const w=m[2].split("@").pop()||"",S=/^(\[[^\]]+\])(:|$)/.exec(w);if(S){const O=S[1];return{host:O,port:Un(w.substr(O.length+1))}}{const[O,z]=w.split(":");return{host:O,port:Un(z)}}}(h);w.config.emulator={url:`${O}//${z}${null===oe?"":`:${oe}`}/`},w.settings.appVerificationDisabledForTesting=!0,w.emulatorConfig=Object.freeze({host:z,port:oe,protocol:O.replace(":",""),options:Object.freeze({disableWarnings:S})}),S||function Vi(){function _(){const h=document.createElement("p"),m=h.style;h.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",h.classList.add("firebase-emulator-warning"),document.body.appendChild(h)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",_):_())}()}(this._delegate,m,w)}applyActionCode(m){return function Il(_,h){return De.apply(this,arguments)}(this._delegate,m)}checkActionCode(m){return Vt(this._delegate,m)}confirmPasswordReset(m,w){return function wu(_,h,m){return Cl.apply(this,arguments)}(this._delegate,m,w)}createUserWithEmailAndPassword(m,w){var S=this;return(0,p.Z)(function*(){return Vn(S._delegate,function Go(_,h,m){return Jr.apply(this,arguments)}(S._delegate,m,w))})()}fetchProvidersForEmail(m){return this.fetchSignInMethodsForEmail(m)}fetchSignInMethodsForEmail(m){return function bu(_,h){return Gs.apply(this,arguments)}(this._delegate,m)}isSignInWithEmailLink(m){return function Ml(_,h){const m=ao.parseLink(h);return"EMAIL_SIGNIN"===(null==m?void 0:m.operation)}(0,m)}getRedirectResult(){var m=this;return(0,p.Z)(function*(){rc(Cd(),m._delegate,"operation-not-supported-in-this-environment");const w=yield function Mt(_,h){return Ot.apply(this,arguments)}(m._delegate,Js);return w?Vn(m._delegate,Promise.resolve(w)):{credential:null,user:null}})()}addFrameworkForLogging(m){!function bd(_,h){Ne(_)._logFramework(h)}(this._delegate,m)}onAuthStateChanged(m,w,S){const{next:O,error:z,complete:oe}=vf(m,w,S);return this._delegate.onAuthStateChanged(O,z,oe)}onIdTokenChanged(m,w,S){const{next:O,error:z,complete:oe}=vf(m,w,S);return this._delegate.onIdTokenChanged(O,z,oe)}sendSignInLinkToEmail(m,w){return function Al(_,h,m){return Qc.apply(this,arguments)}(this._delegate,m,w)}sendPasswordResetEmail(m,w){return function _u(_,h,m){return vu.apply(this,arguments)}(this._delegate,m,w||void 0)}setPersistence(m){var w=this;return(0,p.Z)(function*(){let S;switch(function Jy(_,h){tc(Object.values(Ri).includes(h),_,"invalid-persistence-type"),(0,N.b$)()?tc(h!==Ri.SESSION,_,"unsupported-persistence-type"):(0,N.UG)()?tc(h===Ri.NONE,_,"unsupported-persistence-type"):Pr()?tc(h===Ri.NONE||h===Ri.LOCAL&&(0,N.hl)(),_,"unsupported-persistence-type"):tc(h===Ri.NONE||Ln(),_,"unsupported-persistence-type")}(w._delegate,m),m){case Ri.SESSION:S=us;break;case Ri.LOCAL:S=(yield se(cs)._isAvailable())?cs:Or;break;case Ri.NONE:S=q;break;default:return Ie("argument-error",{appName:w._delegate.name})}return w._delegate.setPersistence(S)})()}signInAndRetrieveDataWithCredential(m){return this.signInWithCredential(m)}signInAnonymously(){return Vn(this._delegate,function fu(_){return Zc.apply(this,arguments)}(this._delegate))}signInWithCredential(m){return Vn(this._delegate,Pn(this._delegate,m))}signInWithCustomToken(m){return Vn(this._delegate,function js(_,h){return $s.apply(this,arguments)}(this._delegate,m))}signInWithEmailAndPassword(m,w){return Vn(this._delegate,function Sl(_,h,m){return Pn((0,N.m9)(_),bl.credential(h,m))}(this._delegate,m,w))}signInWithEmailLink(m,w){return Vn(this._delegate,function Eu(_,h,m){return Hs.apply(this,arguments)}(this._delegate,m,w))}signInWithPhoneNumber(m,w){return Ad(this._delegate,function hg(_,h,m){return An.apply(this,arguments)}(this._delegate,m,w))}signInWithPopup(m){var w=this;return(0,p.Z)(function*(){return rc(Cd(),w._delegate,"operation-not-supported-in-this-environment"),Vn(w._delegate,function Xo(_,h,m){return fd.apply(this,arguments)}(w._delegate,m,Js))})()}signInWithRedirect(m){var w=this;return(0,p.Z)(function*(){return rc(Cd(),w._delegate,"operation-not-supported-in-this-environment"),yield Td(w._delegate),function R(_,h,m){return function L(_,h,m){return W.apply(this,arguments)}(_,h,m)}(w._delegate,m,Js)})()}updateCurrentUser(m){return this._delegate.updateCurrentUser(m)}verifyPasswordResetCode(m){return function bn(_,h){return Ho.apply(this,arguments)}(this._delegate,m)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return _.Persistence=Ri,_})();function vf(_,h,m){let w=_;"function"!=typeof _&&({next:w,error:h,complete:m}=_);const S=w;return{next:z=>S(z&&Io.getOrCreate(z)),error:h,complete:m}}function Mg(_,h){const m=function yf(_,h){const m=_f();if(!m)return[];const w=de(gf,_,h);switch(m.getItem(w)){case Ri.NONE:return[q];case Ri.LOCAL:return[cs,us];case Ri.SESSION:return[us];default:return[]}}(_,h);if("undefined"!=typeof self&&!m.includes(cs)&&m.push(cs),"undefined"!=typeof window)for(const w of[Or,us])m.includes(w)||m.push(w);return m.includes(q)||m.push(q),m}class Md{constructor(){this.providerId="phone",this._delegate=new yt(Sg(Y.Z.auth()))}static credential(h,m){return yt.credential(h,m)}verifyPhoneNumber(h,m){return this._delegate.verifyPhoneNumber(h,m)}unwrap(){return this._delegate}}Md.PHONE_SIGN_IN_METHOD=yt.PHONE_SIGN_IN_METHOD,Md.PROVIDER_ID=yt.PROVIDER_ID;const fw=ne;class Fr{constructor(h,m,w=Y.Z.app()){var S;fw(null===(S=w.options)||void 0===S?void 0:S.apiKey,"invalid-api-key",{appName:w.name}),this._delegate=new dg(h,m,w.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function n_(_){_.INTERNAL.registerComponent(new re.wA("auth-compat",h=>{const m=h.getProvider("app-compat").getImmediate(),w=h.getProvider("auth");return new $i(m,w)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:bl,FacebookAuthProvider:uo,GithubAuthProvider:Kc,GoogleAuthProvider:wa,OAuthProvider:jo,SAMLAuthProvider:pi,PhoneAuthProvider:Md,PhoneMultiFactorGenerator:bg,RecaptchaVerifier:Fr,TwitterAuthProvider:du,Auth:$i,AuthCredential:on,Error:N.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),_.registerVersion("@firebase/auth-compat","0.2.12")}(Y.Z)},8306:(lt,Se,k)=>{k.d(Se,{y:()=>$});var p=k(2961),Y=k(727),N=k(8822),ue=k(4671);var re=k(2416),he=k(576),le=k(2806);let $=(()=>{class Ae{constructor(Le){Le&&(this._subscribe=Le)}lift(Le){const fe=new Ae;return fe.source=this,fe.operator=Le,fe}subscribe(Le,fe,be){const rt=function ze(Ae){return Ae&&Ae instanceof p.Lv||function J(Ae){return Ae&&(0,he.m)(Ae.next)&&(0,he.m)(Ae.error)&&(0,he.m)(Ae.complete)}(Ae)&&(0,Y.Nn)(Ae)}(Le)?Le:new p.Hp(Le,fe,be);return(0,le.x)(()=>{const{operator:Ye,source:Ie}=this;rt.add(Ye?Ye.call(rt,Ie):Ie?this._subscribe(rt):this._trySubscribe(rt))}),rt}_trySubscribe(Le){try{return this._subscribe(Le)}catch(fe){Le.error(fe)}}forEach(Le,fe){return new(fe=H(fe))((be,rt)=>{const Ye=new p.Hp({next:Ie=>{try{Le(Ie)}catch(ve){rt(ve),Ye.unsubscribe()}},error:rt,complete:be});this.subscribe(Ye)})}_subscribe(Le){var fe;return null===(fe=this.source)||void 0===fe?void 0:fe.subscribe(Le)}[N.L](){return this}pipe(...Le){return function ge(Ae){return 0===Ae.length?ue.y:1===Ae.length?Ae[0]:function(Le){return Ae.reduce((fe,be)=>be(fe),Le)}}(Le)(this)}toPromise(Le){return new(Le=H(Le))((fe,be)=>{let rt;this.subscribe(Ye=>rt=Ye,Ye=>be(Ye),()=>fe(rt))})}}return Ae.create=Oe=>new Ae(Oe),Ae})();function H(Ae){var Oe;return null!==(Oe=null!=Ae?Ae:re.v.Promise)&&void 0!==Oe?Oe:Promise}},7579:(lt,Se,k)=>{k.d(Se,{x:()=>re});var p=k(8306),Y=k(727);const ue=(0,k(3888).d)(le=>function(){le(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var X=k(8737),ge=k(2806);let re=(()=>{class le extends p.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(H){const J=new he(this,this);return J.operator=H,J}_throwIfClosed(){if(this.closed)throw new ue}next(H){(0,ge.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const J of this.currentObservers)J.next(H)}})}error(H){(0,ge.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=H;const{observers:J}=this;for(;J.length;)J.shift().error(H)}})}complete(){(0,ge.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:H}=this;for(;H.length;)H.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var H;return(null===(H=this.observers)||void 0===H?void 0:H.length)>0}_trySubscribe(H){return this._throwIfClosed(),super._trySubscribe(H)}_subscribe(H){return this._throwIfClosed(),this._checkFinalizedStatuses(H),this._innerSubscribe(H)}_innerSubscribe(H){const{hasError:J,isStopped:ze,observers:Ae}=this;return J||ze?Y.Lc:(this.currentObservers=null,Ae.push(H),new Y.w0(()=>{this.currentObservers=null,(0,X.P)(Ae,H)}))}_checkFinalizedStatuses(H){const{hasError:J,thrownError:ze,isStopped:Ae}=this;J?H.error(ze):Ae&&H.complete()}asObservable(){const H=new p.y;return H.source=this,H}}return le.create=($,H)=>new he($,H),le})();class he extends re{constructor($,H){super(),this.destination=$,this.source=H}next($){var H,J;null===(J=null===(H=this.destination)||void 0===H?void 0:H.next)||void 0===J||J.call(H,$)}error($){var H,J;null===(J=null===(H=this.destination)||void 0===H?void 0:H.error)||void 0===J||J.call(H,$)}complete(){var $,H;null===(H=null===($=this.destination)||void 0===$?void 0:$.complete)||void 0===H||H.call($)}_subscribe($){var H,J;return null!==(J=null===(H=this.source)||void 0===H?void 0:H.subscribe($))&&void 0!==J?J:Y.Lc}}},2961:(lt,Se,k)=>{k.d(Se,{Hp:()=>Le,Lv:()=>J});var p=k(576),Y=k(727),N=k(2416),ue=k(7849);function X(){}const ge=le("C",void 0,void 0);function le(Ie,ve,we){return{kind:Ie,value:ve,error:we}}var $=k(3410),H=k(2806);class J extends Y.w0{constructor(ve){super(),this.isStopped=!1,ve?(this.destination=ve,(0,Y.Nn)(ve)&&ve.add(this)):this.destination=Ye}static create(ve,we,qe){return new Le(ve,we,qe)}next(ve){this.isStopped?rt(function he(Ie){return le("N",Ie,void 0)}(ve),this):this._next(ve)}error(ve){this.isStopped?rt(function re(Ie){return le("E",void 0,Ie)}(ve),this):(this.isStopped=!0,this._error(ve))}complete(){this.isStopped?rt(ge,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ve){this.destination.next(ve)}_error(ve){try{this.destination.error(ve)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ze=Function.prototype.bind;function Ae(Ie,ve){return ze.call(Ie,ve)}class Oe{constructor(ve){this.partialObserver=ve}next(ve){const{partialObserver:we}=this;if(we.next)try{we.next(ve)}catch(qe){fe(qe)}}error(ve){const{partialObserver:we}=this;if(we.error)try{we.error(ve)}catch(qe){fe(qe)}else fe(ve)}complete(){const{partialObserver:ve}=this;if(ve.complete)try{ve.complete()}catch(we){fe(we)}}}class Le extends J{constructor(ve,we,qe){let He;if(super(),(0,p.m)(ve)||!ve)He={next:null!=ve?ve:void 0,error:null!=we?we:void 0,complete:null!=qe?qe:void 0};else{let ne;this&&N.v.useDeprecatedNextContext?(ne=Object.create(ve),ne.unsubscribe=()=>this.unsubscribe(),He={next:ve.next&&Ae(ve.next,ne),error:ve.error&&Ae(ve.error,ne),complete:ve.complete&&Ae(ve.complete,ne)}):He=ve}this.destination=new Oe(He)}}function fe(Ie){N.v.useDeprecatedSynchronousErrorHandling?(0,H.O)(Ie):(0,ue.h)(Ie)}function rt(Ie,ve){const{onStoppedNotification:we}=N.v;we&&$.z.setTimeout(()=>we(Ie,ve))}const Ye={closed:!0,next:X,error:function be(Ie){throw Ie},complete:X}},727:(lt,Se,k)=>{k.d(Se,{Lc:()=>ge,w0:()=>X,Nn:()=>re});var p=k(576);const N=(0,k(3888).d)(le=>function(H){le(this),this.message=H?`${H.length} errors occurred during unsubscription:\n${H.map((J,ze)=>`${ze+1}) ${J.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=H});var ue=k(8737);class X{constructor($){this.initialTeardown=$,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let $;if(!this.closed){this.closed=!0;const{_parentage:H}=this;if(H)if(this._parentage=null,Array.isArray(H))for(const Ae of H)Ae.remove(this);else H.remove(this);const{initialTeardown:J}=this;if((0,p.m)(J))try{J()}catch(Ae){$=Ae instanceof N?Ae.errors:[Ae]}const{_finalizers:ze}=this;if(ze){this._finalizers=null;for(const Ae of ze)try{he(Ae)}catch(Oe){$=null!=$?$:[],Oe instanceof N?$=[...$,...Oe.errors]:$.push(Oe)}}if($)throw new N($)}}add($){var H;if($&&$!==this)if(this.closed)he($);else{if($ instanceof X){if($.closed||$._hasParent(this))return;$._addParent(this)}(this._finalizers=null!==(H=this._finalizers)&&void 0!==H?H:[]).push($)}}_hasParent($){const{_parentage:H}=this;return H===$||Array.isArray(H)&&H.includes($)}_addParent($){const{_parentage:H}=this;this._parentage=Array.isArray(H)?(H.push($),H):H?[H,$]:$}_removeParent($){const{_parentage:H}=this;H===$?this._parentage=null:Array.isArray(H)&&(0,ue.P)(H,$)}remove($){const{_finalizers:H}=this;H&&(0,ue.P)(H,$),$ instanceof X&&$._removeParent(this)}}X.EMPTY=(()=>{const le=new X;return le.closed=!0,le})();const ge=X.EMPTY;function re(le){return le instanceof X||le&&"closed"in le&&(0,p.m)(le.remove)&&(0,p.m)(le.add)&&(0,p.m)(le.unsubscribe)}function he(le){(0,p.m)(le)?le():le.unsubscribe()}},2416:(lt,Se,k)=>{k.d(Se,{v:()=>p});const p={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(lt,Se,k)=>{k.d(Se,{E:()=>Y});const Y=new(k(8306).y)(X=>X.complete())},8996:(lt,Se,k)=>{k.d(Se,{D:()=>ve});var p=k(8421),Y=k(5363),N=k(9468),ge=k(8306),he=k(2202),le=k(576),$=k(9672);function J(we,qe){if(!we)throw new Error("Iterable cannot be null");return new ge.y(He=>{(0,$.f)(He,qe,()=>{const ne=we[Symbol.asyncIterator]();(0,$.f)(He,qe,()=>{ne.next().then(K=>{K.done?He.complete():He.next(K.value)})},0,!0)})})}var ze=k(3670),Ae=k(8239),Oe=k(1144),Le=k(6495),fe=k(2206),be=k(4532),rt=k(3260);function ve(we,qe){return qe?function Ie(we,qe){if(null!=we){if((0,ze.c)(we))return function ue(we,qe){return(0,p.Xf)(we).pipe((0,N.R)(qe),(0,Y.Q)(qe))}(we,qe);if((0,Oe.z)(we))return function re(we,qe){return new ge.y(He=>{let ne=0;return qe.schedule(function(){ne===we.length?He.complete():(He.next(we[ne++]),He.closed||this.schedule())})})}(we,qe);if((0,Ae.t)(we))return function X(we,qe){return(0,p.Xf)(we).pipe((0,N.R)(qe),(0,Y.Q)(qe))}(we,qe);if((0,fe.D)(we))return J(we,qe);if((0,Le.T)(we))return function H(we,qe){return new ge.y(He=>{let ne;return(0,$.f)(He,qe,()=>{ne=we[he.h](),(0,$.f)(He,qe,()=>{let K,ie;try{({value:K,done:ie}=ne.next())}catch(me){return void He.error(me)}ie?He.complete():He.next(K)},0,!0)}),()=>(0,le.m)(null==ne?void 0:ne.return)&&ne.return()})}(we,qe);if((0,rt.L)(we))return function Ye(we,qe){return J((0,rt.Q)(we),qe)}(we,qe)}throw(0,be.z)(we)}(we,qe):(0,p.Xf)(we)}},8421:(lt,Se,k)=>{k.d(Se,{Xf:()=>ze});var p=k(655),Y=k(1144),N=k(8239),ue=k(8306),X=k(3670),ge=k(2206),re=k(4532),he=k(6495),le=k(3260),$=k(576),H=k(7849),J=k(8822);function ze(Ie){if(Ie instanceof ue.y)return Ie;if(null!=Ie){if((0,X.c)(Ie))return function Ae(Ie){return new ue.y(ve=>{const we=Ie[J.L]();if((0,$.m)(we.subscribe))return we.subscribe(ve);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ie);if((0,Y.z)(Ie))return function Oe(Ie){return new ue.y(ve=>{for(let we=0;we<Ie.length&&!ve.closed;we++)ve.next(Ie[we]);ve.complete()})}(Ie);if((0,N.t)(Ie))return function Le(Ie){return new ue.y(ve=>{Ie.then(we=>{ve.closed||(ve.next(we),ve.complete())},we=>ve.error(we)).then(null,H.h)})}(Ie);if((0,ge.D)(Ie))return be(Ie);if((0,he.T)(Ie))return function fe(Ie){return new ue.y(ve=>{for(const we of Ie)if(ve.next(we),ve.closed)return;ve.complete()})}(Ie);if((0,le.L)(Ie))return function rt(Ie){return be((0,le.Q)(Ie))}(Ie)}throw(0,re.z)(Ie)}function be(Ie){return new ue.y(ve=>{(function Ye(Ie,ve){var we,qe,He,ne;return(0,p.mG)(this,void 0,void 0,function*(){try{for(we=(0,p.KL)(Ie);!(qe=yield we.next()).done;)if(ve.next(qe.value),ve.closed)return}catch(K){He={error:K}}finally{try{qe&&!qe.done&&(ne=we.return)&&(yield ne.call(we))}finally{if(He)throw He.error}}ve.complete()})})(Ie,ve).catch(we=>ve.error(we))})}},6451:(lt,Se,k)=>{k.d(Se,{T:()=>ge});var p=k(8189),Y=k(8421),N=k(515),ue=k(7669),X=k(8996);function ge(...re){const he=(0,ue.yG)(re),le=(0,ue._6)(re,1/0),$=re;return $.length?1===$.length?(0,Y.Xf)($[0]):(0,p.J)(le)((0,X.D)($,he)):N.E}},5403:(lt,Se,k)=>{k.d(Se,{x:()=>Y});var p=k(2961);function Y(ue,X,ge,re,he){return new N(ue,X,ge,re,he)}class N extends p.Lv{constructor(X,ge,re,he,le,$){super(X),this.onFinalize=le,this.shouldUnsubscribe=$,this._next=ge?function(H){try{ge(H)}catch(J){X.error(J)}}:super._next,this._error=he?function(H){try{he(H)}catch(J){X.error(J)}finally{this.unsubscribe()}}:super._error,this._complete=re?function(){try{re()}catch(H){X.error(H)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var X;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ge}=this;super.unsubscribe(),!ge&&(null===(X=this.onFinalize)||void 0===X||X.call(this))}}}},4004:(lt,Se,k)=>{k.d(Se,{U:()=>N});var p=k(4482),Y=k(5403);function N(ue,X){return(0,p.e)((ge,re)=>{let he=0;ge.subscribe((0,Y.x)(re,le=>{re.next(ue.call(X,le,he++))}))})}},8189:(lt,Se,k)=>{k.d(Se,{J:()=>N});var p=k(5577),Y=k(4671);function N(ue=1/0){return(0,p.z)(Y.y,ue)}},5577:(lt,Se,k)=>{k.d(Se,{z:()=>he});var p=k(4004),Y=k(8421),N=k(4482),ue=k(9672),X=k(5403),re=k(576);function he(le,$,H=1/0){return(0,re.m)($)?he((J,ze)=>(0,p.U)((Ae,Oe)=>$(J,Ae,ze,Oe))((0,Y.Xf)(le(J,ze))),H):("number"==typeof $&&(H=$),(0,N.e)((J,ze)=>function ge(le,$,H,J,ze,Ae,Oe,Le){const fe=[];let be=0,rt=0,Ye=!1;const Ie=()=>{Ye&&!fe.length&&!be&&$.complete()},ve=qe=>be<J?we(qe):fe.push(qe),we=qe=>{Ae&&$.next(qe),be++;let He=!1;(0,Y.Xf)(H(qe,rt++)).subscribe((0,X.x)($,ne=>{null==ze||ze(ne),Ae?ve(ne):$.next(ne)},()=>{He=!0},void 0,()=>{if(He)try{for(be--;fe.length&&be<J;){const ne=fe.shift();Oe?(0,ue.f)($,Oe,()=>we(ne)):we(ne)}Ie()}catch(ne){$.error(ne)}}))};return le.subscribe((0,X.x)($,ve,()=>{Ye=!0,Ie()})),()=>{null==Le||Le()}}(J,ze,le,H)))}},5363:(lt,Se,k)=>{k.d(Se,{Q:()=>ue});var p=k(9672),Y=k(4482),N=k(5403);function ue(X,ge=0){return(0,Y.e)((re,he)=>{re.subscribe((0,N.x)(he,le=>(0,p.f)(he,X,()=>he.next(le),ge),()=>(0,p.f)(he,X,()=>he.complete(),ge),le=>(0,p.f)(he,X,()=>he.error(le),ge)))})}},3099:(lt,Se,k)=>{k.d(Se,{B:()=>ge});var p=k(8996),Y=k(5698),N=k(7579),ue=k(2961),X=k(4482);function ge(he={}){const{connector:le=(()=>new N.x),resetOnError:$=!0,resetOnComplete:H=!0,resetOnRefCountZero:J=!0}=he;return ze=>{let Ae=null,Oe=null,Le=null,fe=0,be=!1,rt=!1;const Ye=()=>{null==Oe||Oe.unsubscribe(),Oe=null},Ie=()=>{Ye(),Ae=Le=null,be=rt=!1},ve=()=>{const we=Ae;Ie(),null==we||we.unsubscribe()};return(0,X.e)((we,qe)=>{fe++,!rt&&!be&&Ye();const He=Le=null!=Le?Le:le();qe.add(()=>{fe--,0===fe&&!rt&&!be&&(Oe=re(ve,J))}),He.subscribe(qe),Ae||(Ae=new ue.Hp({next:ne=>He.next(ne),error:ne=>{rt=!0,Ye(),Oe=re(Ie,$,ne),He.error(ne)},complete:()=>{be=!0,Ye(),Oe=re(Ie,H),He.complete()}}),(0,p.D)(we).subscribe(Ae))})(ze)}}function re(he,le,...$){return!0===le?(he(),null):!1===le?null:le(...$).pipe((0,Y.q)(1)).subscribe(()=>he())}},9468:(lt,Se,k)=>{k.d(Se,{R:()=>Y});var p=k(4482);function Y(N,ue=0){return(0,p.e)((X,ge)=>{ge.add(N.schedule(()=>X.subscribe(ge),ue))})}},5698:(lt,Se,k)=>{k.d(Se,{q:()=>ue});var p=k(515),Y=k(4482),N=k(5403);function ue(X){return X<=0?()=>p.E:(0,Y.e)((ge,re)=>{let he=0;ge.subscribe((0,N.x)(re,le=>{++he<=X&&(re.next(le),X<=he&&re.complete())}))})}},8505:(lt,Se,k)=>{k.d(Se,{b:()=>X});var p=k(576),Y=k(4482),N=k(5403),ue=k(4671);function X(ge,re,he){const le=(0,p.m)(ge)||re||he?{next:ge,error:re,complete:he}:ge;return le?(0,Y.e)(($,H)=>{var J;null===(J=le.subscribe)||void 0===J||J.call(le);let ze=!0;$.subscribe((0,N.x)(H,Ae=>{var Oe;null===(Oe=le.next)||void 0===Oe||Oe.call(le,Ae),H.next(Ae)},()=>{var Ae;ze=!1,null===(Ae=le.complete)||void 0===Ae||Ae.call(le),H.complete()},Ae=>{var Oe;ze=!1,null===(Oe=le.error)||void 0===Oe||Oe.call(le,Ae),H.error(Ae)},()=>{var Ae,Oe;ze&&(null===(Ae=le.unsubscribe)||void 0===Ae||Ae.call(le)),null===(Oe=le.finalize)||void 0===Oe||Oe.call(le)}))}):ue.y}},4408:(lt,Se,k)=>{k.d(Se,{o:()=>X});var p=k(727);class Y extends p.w0{constructor(re,he){super()}schedule(re,he=0){return this}}const N={setInterval(ge,re,...he){const{delegate:le}=N;return(null==le?void 0:le.setInterval)?le.setInterval(ge,re,...he):setInterval(ge,re,...he)},clearInterval(ge){const{delegate:re}=N;return((null==re?void 0:re.clearInterval)||clearInterval)(ge)},delegate:void 0};var ue=k(8737);class X extends Y{constructor(re,he){super(re,he),this.scheduler=re,this.work=he,this.pending=!1}schedule(re,he=0){if(this.closed)return this;this.state=re;const le=this.id,$=this.scheduler;return null!=le&&(this.id=this.recycleAsyncId($,le,he)),this.pending=!0,this.delay=he,this.id=this.id||this.requestAsyncId($,this.id,he),this}requestAsyncId(re,he,le=0){return N.setInterval(re.flush.bind(re,this),le)}recycleAsyncId(re,he,le=0){if(null!=le&&this.delay===le&&!1===this.pending)return he;N.clearInterval(he)}execute(re,he){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const le=this._execute(re,he);if(le)return le;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(re,he){let $,le=!1;try{this.work(re)}catch(H){le=!0,$=H||new Error("Scheduled action threw falsy error")}if(le)return this.unsubscribe(),$}unsubscribe(){if(!this.closed){const{id:re,scheduler:he}=this,{actions:le}=he;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ue.P)(le,this),null!=re&&(this.id=this.recycleAsyncId(he,re,null)),this.delay=null,super.unsubscribe()}}}},7565:(lt,Se,k)=>{k.d(Se,{v:()=>N});var p=k(6063);class Y{constructor(X,ge=Y.now){this.schedulerActionCtor=X,this.now=ge}schedule(X,ge=0,re){return new this.schedulerActionCtor(this,X).schedule(re,ge)}}Y.now=p.l.now;class N extends Y{constructor(X,ge=Y.now){super(X,ge),this.actions=[],this._active=!1,this._scheduled=void 0}flush(X){const{actions:ge}=this;if(this._active)return void ge.push(X);let re;this._active=!0;do{if(re=X.execute(X.state,X.delay))break}while(X=ge.shift());if(this._active=!1,re){for(;X=ge.shift();)X.unsubscribe();throw re}}}},4986:(lt,Se,k)=>{k.d(Se,{z:()=>N});var p=k(4408);const N=new(k(7565).v)(p.o)},6063:(lt,Se,k)=>{k.d(Se,{l:()=>p});const p={now:()=>(p.delegate||Date).now(),delegate:void 0}},3410:(lt,Se,k)=>{k.d(Se,{z:()=>p});const p={setTimeout(Y,N,...ue){const{delegate:X}=p;return(null==X?void 0:X.setTimeout)?X.setTimeout(Y,N,...ue):setTimeout(Y,N,...ue)},clearTimeout(Y){const{delegate:N}=p;return((null==N?void 0:N.clearTimeout)||clearTimeout)(Y)},delegate:void 0}},2202:(lt,Se,k)=>{k.d(Se,{h:()=>Y});const Y=function p(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(lt,Se,k)=>{k.d(Se,{L:()=>p});const p="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(lt,Se,k)=>{k.d(Se,{_6:()=>ge,jO:()=>ue,yG:()=>X});var p=k(576);function N(re){return re[re.length-1]}function ue(re){return(0,p.m)(N(re))?re.pop():void 0}function X(re){return function Y(re){return re&&(0,p.m)(re.schedule)}(N(re))?re.pop():void 0}function ge(re,he){return"number"==typeof N(re)?re.pop():he}},8737:(lt,Se,k)=>{function p(Y,N){if(Y){const ue=Y.indexOf(N);0<=ue&&Y.splice(ue,1)}}k.d(Se,{P:()=>p})},3888:(lt,Se,k)=>{function p(Y){const ue=Y(X=>{Error.call(X),X.stack=(new Error).stack});return ue.prototype=Object.create(Error.prototype),ue.prototype.constructor=ue,ue}k.d(Se,{d:()=>p})},2806:(lt,Se,k)=>{k.d(Se,{x:()=>N,O:()=>ue});var p=k(2416);let Y=null;function N(X){if(p.v.useDeprecatedSynchronousErrorHandling){const ge=!Y;if(ge&&(Y={errorThrown:!1,error:null}),X(),ge){const{errorThrown:re,error:he}=Y;if(Y=null,re)throw he}}else X()}function ue(X){p.v.useDeprecatedSynchronousErrorHandling&&Y&&(Y.errorThrown=!0,Y.error=X)}},9672:(lt,Se,k)=>{function p(Y,N,ue,X=0,ge=!1){const re=N.schedule(function(){ue(),ge?Y.add(this.schedule(null,X)):this.unsubscribe()},X);if(Y.add(re),!ge)return re}k.d(Se,{f:()=>p})},4671:(lt,Se,k)=>{function p(Y){return Y}k.d(Se,{y:()=>p})},1144:(lt,Se,k)=>{k.d(Se,{z:()=>p});const p=Y=>Y&&"number"==typeof Y.length&&"function"!=typeof Y},2206:(lt,Se,k)=>{k.d(Se,{D:()=>Y});var p=k(576);function Y(N){return Symbol.asyncIterator&&(0,p.m)(null==N?void 0:N[Symbol.asyncIterator])}},576:(lt,Se,k)=>{function p(Y){return"function"==typeof Y}k.d(Se,{m:()=>p})},3670:(lt,Se,k)=>{k.d(Se,{c:()=>N});var p=k(8822),Y=k(576);function N(ue){return(0,Y.m)(ue[p.L])}},6495:(lt,Se,k)=>{k.d(Se,{T:()=>N});var p=k(2202),Y=k(576);function N(ue){return(0,Y.m)(null==ue?void 0:ue[p.h])}},8239:(lt,Se,k)=>{k.d(Se,{t:()=>Y});var p=k(576);function Y(N){return(0,p.m)(null==N?void 0:N.then)}},3260:(lt,Se,k)=>{k.d(Se,{Q:()=>N,L:()=>ue});var p=k(655),Y=k(576);function N(X){return(0,p.FC)(this,arguments,function*(){const re=X.getReader();try{for(;;){const{value:he,done:le}=yield(0,p.qq)(re.read());if(le)return yield(0,p.qq)(void 0);yield yield(0,p.qq)(he)}}finally{re.releaseLock()}})}function ue(X){return(0,Y.m)(null==X?void 0:X.getReader)}},4482:(lt,Se,k)=>{k.d(Se,{A:()=>Y,e:()=>N});var p=k(576);function Y(ue){return(0,p.m)(null==ue?void 0:ue.lift)}function N(ue){return X=>{if(Y(X))return X.lift(function(ge){try{return ue(ge,this)}catch(re){this.error(re)}});throw new TypeError("Unable to lift unknown Observable type")}}},7849:(lt,Se,k)=>{k.d(Se,{h:()=>N});var p=k(2416),Y=k(3410);function N(ue){Y.z.setTimeout(()=>{const{onUnhandledError:X}=p.v;if(!X)throw ue;X(ue)})}},4532:(lt,Se,k)=>{function p(Y){return new TypeError(`You provided ${null!==Y&&"object"==typeof Y?"an invalid object":`'${Y}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}k.d(Se,{z:()=>p})},655:(lt,Se,k)=>{function ue(K,ie){var me={};for(var se in K)Object.prototype.hasOwnProperty.call(K,se)&&ie.indexOf(se)<0&&(me[se]=K[se]);if(null!=K&&"function"==typeof Object.getOwnPropertySymbols){var Re=0;for(se=Object.getOwnPropertySymbols(K);Re<se.length;Re++)ie.indexOf(se[Re])<0&&Object.prototype.propertyIsEnumerable.call(K,se[Re])&&(me[se[Re]]=K[se[Re]])}return me}function he(K,ie,me,se){return new(me||(me=Promise))(function(ae,St){function Xt(wt){try{ct(se.next(wt))}catch(dn){St(dn)}}function Nn(wt){try{ct(se.throw(wt))}catch(dn){St(dn)}}function ct(wt){wt.done?ae(wt.value):function Re(ae){return ae instanceof me?ae:new me(function(St){St(ae)})}(wt.value).then(Xt,Nn)}ct((se=se.apply(K,ie||[])).next())})}function fe(K){return this instanceof fe?(this.v=K,this):new fe(K)}function be(K,ie,me){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Re,se=me.apply(K,ie||[]),ae=[];return Re={},St("next"),St("throw"),St("return"),Re[Symbol.asyncIterator]=function(){return this},Re;function St(hn){se[hn]&&(Re[hn]=function(Ii){return new Promise(function(sn,Zi){ae.push([hn,Ii,sn,Zi])>1||Xt(hn,Ii)})})}function Xt(hn,Ii){try{!function Nn(hn){hn.value instanceof fe?Promise.resolve(hn.value.v).then(ct,wt):dn(ae[0][2],hn)}(se[hn](Ii))}catch(sn){dn(ae[0][3],sn)}}function ct(hn){Xt("next",hn)}function wt(hn){Xt("throw",hn)}function dn(hn,Ii){hn(Ii),ae.shift(),ae.length&&Xt(ae[0][0],ae[0][1])}}function Ye(K){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var me,ie=K[Symbol.asyncIterator];return ie?ie.call(K):(K=function J(K){var ie="function"==typeof Symbol&&Symbol.iterator,me=ie&&K[ie],se=0;if(me)return me.call(K);if(K&&"number"==typeof K.length)return{next:function(){return K&&se>=K.length&&(K=void 0),{value:K&&K[se++],done:!K}}};throw new TypeError(ie?"Object is not iterable.":"Symbol.iterator is not defined.")}(K),me={},se("next"),se("throw"),se("return"),me[Symbol.asyncIterator]=function(){return this},me);function se(ae){me[ae]=K[ae]&&function(St){return new Promise(function(Xt,Nn){!function Re(ae,St,Xt,Nn){Promise.resolve(Nn).then(function(ct){ae({value:ct,done:Xt})},St)}(Xt,Nn,(St=K[ae](St)).done,St.value)})}}}k.d(Se,{_T:()=>ue,mG:()=>he,qq:()=>fe,FC:()=>be,KL:()=>Ye})},5e3:(lt,Se,k)=>{k.d(Se,{deG:()=>lg,tb:()=>$b,AFp:()=>d0,ip1:()=>Ub,CZH:()=>ay,hGG:()=>iD,z2F:()=>py,sBO:()=>wT,Sil:()=>Sh,_Vd:()=>yp,EJc:()=>Pc,SBq:()=>gh,qLn:()=>Vn,vpe:()=>ko,tBr:()=>yi,XFs:()=>dt,OlP:()=>Fn,zs3:()=>Mo,ZZ4:()=>Nh,aQg:()=>Op,soG:()=>da,YKP:()=>Gv,h0i:()=>_h,PXZ:()=>_T,R0b:()=>ro,FiY:()=>_i,Lbi:()=>h0,g9A:()=>jb,Qsj:()=>UI,FYo:()=>_p,JOm:()=>oe,tp0:()=>Ys,Rgc:()=>wh,dDg:()=>fl,q4F:()=>Uv,GfV:()=>sl,s_b:()=>bp,ifc:()=>Kt,eFA:()=>Ap,G48:()=>E0,Gpc:()=>H,X6Q:()=>my,_c5:()=>xT,VLi:()=>zb,c2e:()=>Hb,zSh:()=>Hd,wAp:()=>bt,vHH:()=>Oe,cg1:()=>Me,kL8:()=>Cv,dqk:()=>zt,sIi:()=>Wu,CqO:()=>Xf,QGY:()=>xo,F4k:()=>Jf,RDi:()=>rs,AaK:()=>he,qOj:()=>B_,TTD:()=>uo,_Bn:()=>xc,xp6:()=>$u,uIk:()=>Hf,Tol:()=>xE,ekj:()=>hv,Suo:()=>Ib,Xpm:()=>Lt,lG2:()=>Qt,Yz7:()=>sn,cJS:()=>en,oAB:()=>Q,Yjl:()=>Sr,Y36:()=>Ga,_UZ:()=>Yf,qZA:()=>mm,TgZ:()=>Xd,EpF:()=>Xu,n5z:()=>Ra,LFG:()=>st,$8M:()=>Qo,$Z:()=>J_,NdJ:()=>eh,CRH:()=>Tb,oxw:()=>th,ALo:()=>_b,lcZ:()=>fn,xi3:()=>vb,Hsn:()=>nv,F$t:()=>vE,Q6J:()=>Jd,VKq:()=>Jt,iGM:()=>Db,Jf7:()=>_s,CHM:()=>Tl,LSH:()=>pf,YNc:()=>lE,_uU:()=>kE,Oqu:()=>Cm,hij:()=>el});var p=k(7579),Y=k(727),N=k(8306),ue=k(6451),X=k(3099);function ge(s){for(let o in s)if(s[o]===ge)return o;throw Error("Could not find renamed property on target object.")}function re(s,o){for(const a in o)o.hasOwnProperty(a)&&!s.hasOwnProperty(a)&&(s[a]=o[a])}function he(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(he).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const a=o.indexOf("\n");return-1===a?o:o.substring(0,a)}function le(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const $=ge({__forward_ref__:ge});function H(s){return s.__forward_ref__=H,s.toString=function(){return he(this())},s}function J(s){return ze(s)?s():s}function ze(s){return"function"==typeof s&&s.hasOwnProperty($)&&s.__forward_ref__===H}class Oe extends Error{constructor(o,a){super(function Le(s,o){return`NG0${Math.abs(s)}${o?": "+o:""}`}(o,a)),this.code=o}}function fe(s){return"string"==typeof s?s:null==s?"":String(s)}function be(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():fe(s)}function ve(s,o){const a=o?` in ${o}`:"";throw new Oe(-201,`No provider for ${be(s)} found${a}`)}function ct(s,o){null==s&&function wt(s,o,a,l){throw new Error(`ASSERTION ERROR: ${s}`+(null==l?"":` [Expected=> ${a} ${l} ${o} <=Actual]`))}(o,s,null,"!=")}function sn(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function en(s){return{providers:s.providers||[],imports:s.imports||[]}}function Wt(s){return fr(s,Fi)||fr(s,Yi)}function fr(s,o){return s.hasOwnProperty(o)?s[o]:null}function Br(s){return s&&(s.hasOwnProperty(Ur)||s.hasOwnProperty(Qi))?s[Ur]:null}const Fi=ge({\u0275prov:ge}),Ur=ge({\u0275inj:ge}),Yi=ge({ngInjectableDef:ge}),Qi=ge({ngInjectorDef:ge});var dt=(()=>((dt=dt||{})[dt.Default=0]="Default",dt[dt.Host=1]="Host",dt[dt.Self=2]="Self",dt[dt.SkipSelf=4]="SkipSelf",dt[dt.Optional=8]="Optional",dt))();let Kr;function Kn(s){const o=Kr;return Kr=s,o}function ci(s,o,a){const l=Wt(s);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:a&dt.Optional?null:void 0!==o?o:void ve(he(s),"Injector")}function En(s){return{toString:s}.toString()}var ir=(()=>((ir=ir||{})[ir.OnPush=0]="OnPush",ir[ir.Default=1]="Default",ir))(),Kt=(()=>{return(s=Kt||(Kt={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",Kt;var s})();const at="undefined"!=typeof globalThis&&globalThis,Dt="undefined"!=typeof window&&window,pr="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,zt=at||"undefined"!=typeof global&&global||Dt||pr,gr={},ht=[],Tr=ge({\u0275cmp:ge}),jt=ge({\u0275dir:ge}),Qe=ge({\u0275pipe:ge}),Te=ge({\u0275mod:ge}),nt=ge({\u0275fac:ge}),ft=ge({__NG_ELEMENT_ID__:ge});let Gt=0;function Lt(s){return En(()=>{const a={},l={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:a,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===ir.OnPush,directiveDefs:null,pipeDefs:null,selectors:s.selectors||ht,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||Kt.Emulated,id:"c",styles:s.styles||ht,_:null,setInput:null,schemas:s.schemas||null,tView:null},d=s.directives,g=s.features,v=s.pipes;return l.id+=Gt++,l.inputs=Et(s.inputs,a),l.outputs=Et(s.outputs),g&&g.forEach(E=>E(l)),l.directiveDefs=d?()=>("function"==typeof d?d():d).map(V):null,l.pipeDefs=v?()=>("function"==typeof v?v():v).map(q):null,l})}function V(s){return Zt(s)||function Tn(s){return s[jt]||null}(s)}function q(s){return function kt(s){return s[Qe]||null}(s)}const de={};function Q(s){return En(()=>{const o={type:s.type,bootstrap:s.bootstrap||ht,declarations:s.declarations||ht,imports:s.imports||ht,exports:s.exports||ht,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null};return null!=s.id&&(de[s.id]=s.type),o})}function Et(s,o){if(null==s)return gr;const a={};for(const l in s)if(s.hasOwnProperty(l)){let d=s[l],g=d;Array.isArray(d)&&(g=d[1],d=d[0]),a[d]=l,o&&(o[d]=g)}return a}const Qt=Lt;function Sr(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,onDestroy:s.type.prototype.ngOnDestroy||null}}function Zt(s){return s[Tr]||null}function gn(s,o){const a=s[Te]||null;if(!a&&!0===o)throw new Error(`Type ${he(s)} does not have '\u0275mod' property.`);return a}function Ti(s){return Array.isArray(s)&&"object"==typeof s[1]}function fi(s){return Array.isArray(s)&&!0===s[1]}function Hc(s){return 0!=(8&s.flags)}function Ps(s){return 2==(2&s.flags)}function au(s){return 1==(1&s.flags)}function Zr(s){return null!==s.template}function zh(s){return 0!=(512&s[2])}function Yr(s,o){return s.hasOwnProperty(nt)?s[nt]:null}class jo{constructor(o,a,l){this.previousValue=o,this.currentValue=a,this.firstChange=l}isFirstChange(){return this.firstChange}}function uo(){return wa}function wa(s){return s.type.prototype.ngOnChanges&&(s.setInput=rg),Kc}function Kc(){const s=Vs(this),o=null==s?void 0:s.current;if(o){const a=s.previous;if(a===gr)s.previous=o;else for(let l in o)a[l]=o[l];s.current=null,this.ngOnChanges(o)}}function rg(s,o,a,l){const d=Vs(s)||function pi(s,o){return s[yr]=o}(s,{previous:gr,current:null}),g=d.current||(d.current={}),v=d.previous,E=this.declaredInputs[a],D=v[E];g[E]=new jo(D&&D.currentValue,o,v===gr),s[l]=o}uo.ngInherit=!0;const yr="__ngSimpleChanges__";function Vs(s){return s[yr]||null}let gu;function rs(s){gu=s}function _n(s){return!!s.listen}const $o={createRenderer:(s,o)=>function Ea(){return void 0!==gu?gu:"undefined"!=typeof document?document:void 0}()};function un(s){for(;Array.isArray(s);)s=s[0];return s}function co(s,o){return un(o[s])}function Mr(s,o){return un(o[s.index])}function ba(s,o){return s.data[o]}function Si(s,o){return s[o]}function xr(s,o){const a=o[s];return Ti(a)?a:a[0]}function Us(s){return 4==(4&s[2])}function is(s){return 128==(128&s[2])}function Qr(s,o){return null==o?null:s[o]}function js(s){s[18]=0}function $s(s,o){s[5]+=o;let a=s,l=s[3];for(;null!==l&&(1===o&&1===a[5]||-1===o&&0===a[5]);)l[5]+=o,a=l,l=l[3]}const pt={lFrame:fo(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function wu(){return pt.bindingsEnabled}function De(){return pt.lFrame.lView}function Vt(){return pt.lFrame.tView}function Tl(s){return pt.lFrame.contextLView=s,s[8]}function bn(){let s=Ho();for(;null!==s&&64===s.type;)s=s.parent;return s}function Ho(){return pt.lFrame.currentTNode}function Jr(s,o){const a=pt.lFrame;a.currentTNode=s,a.isParent=o}function Sl(){return pt.lFrame.isParent}function Al(){pt.lFrame.isParent=!1}function Eu(){return pt.isInCheckNoChangesMode}function Hs(s){pt.isInCheckNoChangesMode=s}function vr(){const s=pt.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}function Gs(){return pt.lFrame.bindingIndex++}function Ai(s){const o=pt.lFrame,a=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,a}function Cu(s,o){const a=pt.lFrame;a.bindingIndex=a.bindingRootIndex=s,Ca(o)}function Ca(s){pt.lFrame.currentDirectiveIndex=s}function Ol(){return pt.lFrame.currentQueryIndex}function Nl(s){pt.lFrame.currentQueryIndex=s}function Jc(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function kl(s,o,a){if(a&dt.SkipSelf){let d=o,g=s;for(;!(d=d.parent,null!==d||a&dt.Host||(d=Jc(g),null===d||(g=g[15],10&d.type))););if(null===d)return!1;o=d,s=g}const l=pt.lFrame=Xc();return l.currentTNode=o,l.lView=s,!0}function ho(s){const o=Xc(),a=s[1];pt.lFrame=o,o.currentTNode=a.firstChild,o.lView=s,o.tView=a,o.contextLView=s,o.bindingIndex=a.bindingStartIndex,o.inI18n=!1}function Xc(){const s=pt.lFrame,o=null===s?null:s.child;return null===o?fo(s):o}function fo(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function ed(){const s=pt.lFrame;return pt.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const td=ed;function po(){const s=ed();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function Rr(){return pt.lFrame.selectedIndex}function zs(s){pt.lFrame.selectedIndex=s}function Sn(){const s=pt.lFrame;return ba(s.tView,s.selectedIndex)}function ss(s,o){for(let a=o.directiveStart,l=o.directiveEnd;a<l;a++){const g=s.data[a].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:E,ngAfterViewInit:D,ngAfterViewChecked:T,ngOnDestroy:x}=g;v&&(s.contentHooks||(s.contentHooks=[])).push(-a,v),E&&((s.contentHooks||(s.contentHooks=[])).push(a,E),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(a,E)),D&&(s.viewHooks||(s.viewHooks=[])).push(-a,D),T&&((s.viewHooks||(s.viewHooks=[])).push(a,T),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(a,T)),null!=x&&(s.destroyHooks||(s.destroyHooks=[])).push(a,x)}}function Ia(s,o,a){nd(s,o,3,a)}function Iu(s,o,a,l){(3&s[2])===a&&nd(s,o,a,l)}function $n(s,o){let a=s[2];(3&a)===o&&(a&=2047,a+=1,s[2]=a)}function nd(s,o,a,l){const g=null!=l?l:-1,v=o.length-1;let E=0;for(let D=void 0!==l?65535&s[18]:0;D<v;D++)if("number"==typeof o[D+1]){if(E=o[D],null!=l&&E>=l)break}else o[D]<0&&(s[18]+=65536),(E<g||-1==g)&&(ig(s,a,o,D),s[18]=(4294901760&s[18])+D+2),D++}function ig(s,o,a,l){const d=a[l]<0,g=a[l+1],E=s[d?-a[l]:a[l]];if(d){if(s[2]>>11<s[18]>>16&&(3&s[2])===o){s[2]+=2048;try{g.call(E)}finally{}}}else try{g.call(E)}finally{}}class zo{constructor(o,a,l){this.factory=o,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=l}}function Bl(s,o,a){const l=_n(s);let d=0;for(;d<a.length;){const g=a[d];if("number"==typeof g){if(0!==g)break;d++;const v=a[d++],E=a[d++],D=a[d++];l?s.setAttribute(o,E,D,v):o.setAttributeNS(v,E,D)}else{const v=g,E=a[++d];Tu(v)?l&&s.setProperty(o,v,E):l?s.setAttribute(o,v,E):o.setAttribute(v,E),d++}}return d}function us(s){return 3===s||4===s||6===s}function Tu(s){return 64===s.charCodeAt(0)}function Su(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let a=-1;for(let l=0;l<o.length;l++){const d=o[l];"number"==typeof d?a=d:0===a||Wo(s,a,d,null,-1===a||2===a?o[++l]:null)}}return s}function Wo(s,o,a,l,d){let g=0,v=s.length;if(-1===o)v=-1;else for(;g<s.length;){const E=s[g++];if("number"==typeof E){if(E===o){v=-1;break}if(E>o){v=g-1;break}}}for(;g<s.length;){const E=s[g];if("number"==typeof E)break;if(E===a){if(null===l)return void(null!==d&&(s[g+1]=d));if(l===s[g+1])return void(s[g+2]=d)}g++,null!==l&&g++,null!==d&&g++}-1!==v&&(s.splice(v,0,o),g=v+1),s.splice(g++,0,a),null!==l&&s.splice(g++,0,l),null!==d&&s.splice(g++,0,d)}function sd(s){return-1!==s}function yn(s){return 32767&s}function ls(s,o){let a=function Dn(s){return s>>16}(s),l=o;for(;a>0;)l=l[15],a--;return l}let Ul=!0;function mo(s){const o=Ul;return Ul=s,o}let og=0;function Sa(s,o){const a=Aa(s,o);if(-1!==a)return a;const l=o[1];l.firstCreatePass&&(s.injectorIndex=o.length,Ws(l.data,s),Ws(o,null),Ws(l.blueprint,null));const d=Nr(s,o),g=s.injectorIndex;if(sd(d)){const v=yn(d),E=ls(d,o),D=E[1].data;for(let T=0;T<8;T++)o[g+T]=E[v+T]|D[v+T]}return o[g+8]=d,g}function Ws(s,o){s.push(0,0,0,0,0,0,0,0,o)}function Aa(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function Nr(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let a=0,l=null,d=o;for(;null!==d;){const g=d[1],v=g.type;if(l=2===v?g.declTNode:1===v?d[6]:null,null===l)return-1;if(a++,d=d[15],-1!==l.injectorIndex)return l.injectorIndex|a<<16}return-1}function Hn(s,o,a){!function Ta(s,o,a){let l;"string"==typeof a?l=a.charCodeAt(0)||0:a.hasOwnProperty(ft)&&(l=a[ft]),null==l&&(l=a[ft]=og++);const d=255&l;o.data[s+(d>>5)]|=1<<d}(s,o,a)}function Ko(s,o,a){if(a&dt.Optional)return s;ve(o,"NodeInjector")}function Mi(s,o,a,l){if(a&dt.Optional&&void 0===l&&(l=null),0==(a&(dt.Self|dt.Host))){const d=s[9],g=Kn(void 0);try{return d?d.get(o,l,a&dt.Optional):ci(o,l,a&dt.Optional)}finally{Kn(g)}}return Ko(l,o,a)}function Zo(s,o,a,l=dt.Default,d){if(null!==s){const g=function Xh(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(ft)?s[ft]:void 0;return"number"==typeof o?o>=0?255&o:_o:o}(a);if("function"==typeof g){if(!kl(o,s,l))return l&dt.Host?Ko(d,a,l):Mi(o,a,l,d);try{const v=g(l);if(null!=v||l&dt.Optional)return v;ve(a)}finally{td()}}else if("number"==typeof g){let v=null,E=Aa(s,o),D=-1,T=l&dt.Host?o[16][6]:null;for((-1===E||l&dt.SkipSelf)&&(D=-1===E?Nr(s,o):o[E+8],-1!==D&&ud(l,!1)?(v=o[1],E=yn(D),o=ls(D,o)):E=-1);-1!==E;){const x=o[1];if(xa(g,E,x.data)){const P=ag(E,o,a,v,l,T);if(P!==yo)return P}D=o[E+8],-1!==D&&ud(l,o[1].data[E+8]===T)&&xa(g,E,o)?(v=x,E=yn(D),o=ls(D,o)):E=-1}}}return Mi(o,a,l,d)}const yo={};function _o(){return new ds(bn(),De())}function ag(s,o,a,l,d,g){const v=o[1],E=v.data[s+8],x=ad(E,v,a,null==l?Ps(E)&&Ul:l!=v&&0!=(3&E.type),d&dt.Host&&g===E);return null!==x?cs(o,v,x,E):yo}function ad(s,o,a,l,d){const g=s.providerIndexes,v=o.data,E=1048575&g,D=s.directiveStart,x=g>>20,U=d?E+x:s.directiveEnd;for(let Z=l?E:E+x;Z<U;Z++){const ye=v[Z];if(Z<D&&a===ye||Z>=D&&ye.type===a)return Z}if(d){const Z=v[D];if(Z&&Zr(Z)&&Z.type===a)return D}return null}function cs(s,o,a,l){let d=s[a];const g=o.data;if(function rd(s){return s instanceof zo}(d)){const v=d;v.resolving&&function rt(s,o){const a=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new Oe(-200,`Circular dependency in DI detected for ${s}${a}`)}(be(g[a]));const E=mo(v.canSeeViewProviders);v.resolving=!0;const D=v.injectImpl?Kn(v.injectImpl):null;kl(s,l,dt.Default);try{d=s[a]=v.factory(void 0,g,s,l),o.firstCreatePass&&a>=l.directiveStart&&function Ll(s,o,a){const{ngOnChanges:l,ngOnInit:d,ngDoCheck:g}=o.type.prototype;if(l){const v=wa(o);(a.preOrderHooks||(a.preOrderHooks=[])).push(s,v),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(s,v)}d&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-s,d),g&&((a.preOrderHooks||(a.preOrderHooks=[])).push(s,g),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(s,g))}(a,g[a],o)}finally{null!==D&&Kn(D),mo(E),v.resolving=!1,td()}}return d}function xa(s,o,a){return!!(a[o+(s>>5)]&1<<s)}function ud(s,o){return!(s&dt.Self||s&dt.Host&&o)}class ds{constructor(o,a){this._tNode=o,this._lView=a}get(o,a,l){return Zo(this._tNode,this._lView,o,l,a)}}function Ra(s){return En(()=>{const o=s.prototype.constructor,a=o[nt]||Yo(o),l=Object.prototype;let d=Object.getPrototypeOf(s.prototype).constructor;for(;d&&d!==l;){const g=d[nt]||Yo(d);if(g&&g!==a)return g;d=Object.getPrototypeOf(d)}return g=>new g})}function Yo(s){return ze(s)?()=>{const o=Yo(J(s));return o&&o()}:Yr(s)}function Qo(s){return function Ma(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const a=s.attrs;if(a){const l=a.length;let d=0;for(;d<l;){const g=a[d];if(us(g))break;if(0===g)d+=2;else if("number"==typeof g)for(d++;d<l&&"string"==typeof a[d];)d++;else{if(g===o)return a[d+1];d+=2}}}return null}(bn(),s)}const Oa="__parameters__";function Jo(s,o,a){return En(()=>{const l=function jl(s){return function(...a){if(s){const l=s(...a);for(const d in l)this[d]=l[d]}}}(o);function d(...g){if(this instanceof d)return l.apply(this,g),this;const v=new d(...g);return E.annotation=v,E;function E(D,T,x){const P=D.hasOwnProperty(Oa)?D[Oa]:Object.defineProperty(D,Oa,{value:[]})[Oa];for(;P.length<=x;)P.push(null);return(P[x]=P[x]||[]).push(v),D}}return a&&(d.prototype=Object.create(a.prototype)),d.prototype.ngMetadataName=s,d.annotationCls=d,d})}class Fn{constructor(o,a){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=sn({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}toString(){return`InjectionToken ${this._desc}`}}const lg=new Fn("AnalyzeForEntryComponents");function Cn(s,o){void 0===o&&(o=s);for(let a=0;a<s.length;a++){let l=s[a];Array.isArray(l)?(o===s&&(o=s.slice(0,a)),Cn(l,o)):o!==s&&o.push(l)}return o}function ln(s,o){s.forEach(a=>Array.isArray(a)?ln(a,o):o(a))}function cd(s,o,a){o>=s.length?s.push(a):s.splice(o,0,a)}function ar(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function yt(s,o){const a=[];for(let l=0;l<s;l++)a.push(o);return a}function wr(s,o,a){let l=Xo(s,o);return l>=0?s[1|l]=a:(l=~l,function ka(s,o,a,l){let d=s.length;if(d==o)s.push(a,l);else if(1===d)s.push(l,s[0]),s[0]=a;else{for(d--,s.push(s[d-1],s[d]);d>o;)s[d]=s[d-2],d--;s[o]=a,s[o+1]=l}}(s,l,o,a)),l}function Hl(s,o){const a=Xo(s,o);if(a>=0)return s[1|a]}function Xo(s,o){return function Eo(s,o,a){let l=0,d=s.length>>a;for(;d!==l;){const g=l+(d-l>>1),v=s[g<<a];if(o===v)return g<<a;v>o?d=g:l=g+1}return~(d<<a)}(s,o,1)}const bo={},xu="__NG_DI_FLAG__",ea="ngTempTokenPath",I=/\n/gm,L="__source",W=ge({provide:String,useValue:ge});let ee;function xe(s){const o=ee;return ee=s,o}function Je(s,o=dt.Default){if(void 0===ee)throw new Oe(203,"");return null===ee?ci(s,void 0,o):ee.get(s,o&dt.Optional?null:void 0,o)}function st(s,o=dt.Default){return(function rr(){return Kr}()||Je)(J(s),o)}const Bt=st;function Mt(s){const o=[];for(let a=0;a<s.length;a++){const l=J(s[a]);if(Array.isArray(l)){if(0===l.length)throw new Oe(900,"");let d,g=dt.Default;for(let v=0;v<l.length;v++){const E=l[v],D=Mn(E);"number"==typeof D?-1===D?d=E.token:g|=D:d=E}o.push(st(d,g))}else o.push(st(l))}return o}function Ot(s,o){return s[xu]=o,s.prototype[xu]=o,s}function Mn(s){return s[xu]}const yi=Ot(Jo("Inject",s=>({token:s})),-1),_i=Ot(Jo("Optional"),8),Ys=Ot(Jo("SkipSelf"),4);class _g{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function xi(s){return s instanceof _g?s.changingThisBreaksApplicationSecurity:s}const na=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,lf=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var Yn=(()=>((Yn=Yn||{})[Yn.NONE=0]="NONE",Yn[Yn.HTML=1]="HTML",Yn[Yn.STYLE=2]="STYLE",Yn[Yn.SCRIPT=3]="SCRIPT",Yn[Yn.URL=4]="URL",Yn[Yn.RESOURCE_URL=5]="RESOURCE_URL",Yn))();function pf(s){const o=function ec(){const s=De();return s&&s[12]}();return o?o.sanitize(Yn.URL,s)||"":function Zl(s,o){const a=function Xr(s){return s instanceof _g&&s.getTypeName()||null}(s);if(null!=a&&a!==o){if("ResourceURL"===a&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${a} (see https://g.co/ng/security#xss)`)}return a===o}(s,"URL")?xi(s):function Va(s){return(s=String(s)).match(na)||s.match(lf)?s:"unsafe:"+s}(fe(s))}const ms="__ngContext__";function Er(s,o){s[ms]=o}function Id(s){const o=function ys(s){return s[ms]||null}(s);return o?Array.isArray(o)?o:o.lView:null}function Sd(s){return s.ngOriginalError}function Ag(s,...o){s.error(...o)}class Vn{constructor(){this._console=console}handleError(o){const a=this._findOriginalError(o),l=function qt(s){return s&&s.ngErrorLogger||Ag}(o);l(this._console,"ERROR",o),a&&l(this._console,"ORIGINAL ERROR",a)}_findOriginalError(o){let a=o&&Sd(o);for(;a&&Sd(a);)a=Sd(a);return a||null}}const Fr=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(zt))();function _s(s){return s.ownerDocument.defaultView}function m(s){return s instanceof Function?s():s}var oe=(()=>((oe=oe||{})[oe.Important=1]="Important",oe[oe.DashCase=2]="DashCase",oe))();function Ke(s,o){return undefined(s,o)}function xn(s){const o=s[3];return fi(o)?o[3]:o}function sc(s){return wf(s[13])}function Vu(s){return wf(s[4])}function wf(s){for(;null!==s&&!fi(s);)s=s[4];return s}function Hi(s,o,a,l,d){if(null!=l){let g,v=!1;fi(l)?g=l:Ti(l)&&(v=!0,l=l[0]);const E=un(l);0===s&&null!==a?null==d?ra(o,a,E):Ua(o,a,E,d||null,!0):1===s&&null!==a?Ua(o,a,E,d||null,!0):2===s?function yw(s,o,a){const l=Df(s,o);l&&function gw(s,o,a,l){_n(s)?s.removeChild(o,a,l):o.removeChild(a)}(s,l,o,a)}(o,E,v):3===s&&o.destroyNode(E),null!=g&&function Ng(s,o,a,l,d){const g=a[7];g!==un(a)&&Hi(o,s,l,g,d);for(let E=10;E<a.length;E++){const D=a[E];Tf(D[1],D,s,o,l,g)}}(o,s,g,a,d)}}function Uu(s,o,a){if(_n(s))return s.createElement(o,a);{const l=null!==a?function pu(s){const o=s.toLowerCase();return"svg"===o?"http://www.w3.org/2000/svg":"math"===o?"http://www.w3.org/1998/MathML/":null}(a):null;return null===l?s.createElement(o):s.createElementNS(l,o)}}function bf(s,o){const a=s[9],l=a.indexOf(o),d=o[3];1024&o[2]&&(o[2]&=-1025,$s(d,-1)),a.splice(l,1)}function r_(s,o){if(s.length<=10)return;const a=10+o,l=s[a];if(l){const d=l[17];null!==d&&d!==s&&bf(d,l),o>0&&(s[a-1][4]=l[4]);const g=ar(s,10+o);!function Rd(s,o){Tf(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(l[1],l);const v=g[19];null!==v&&v.detachView(g[1]),l[3]=null,l[4]=null,l[2]&=-129}return l}function pw(s,o){if(!(256&o[2])){const a=o[11];_n(a)&&a.destroyNode&&Tf(s,o,a,3,null,null),function lC(s){let o=s[13];if(!o)return i_(s[1],s);for(;o;){let a=null;if(Ti(o))a=o[13];else{const l=o[10];l&&(a=l)}if(!a){for(;o&&!o[4]&&o!==s;)Ti(o)&&i_(o[1],o),o=o[3];null===o&&(o=s),Ti(o)&&i_(o[1],o),a=o&&o[4]}o=a}}(o)}}function i_(s,o){if(!(256&o[2])){o[2]&=-129,o[2]|=256,function fC(s,o){let a;if(null!=s&&null!=(a=s.destroyHooks))for(let l=0;l<a.length;l+=2){const d=o[a[l]];if(!(d instanceof zo)){const g=a[l+1];if(Array.isArray(g))for(let v=0;v<g.length;v+=2){const E=d[g[v]],D=g[v+1];try{D.call(E)}finally{}}else try{g.call(d)}finally{}}}}(s,o),function hC(s,o){const a=s.cleanup,l=o[7];let d=-1;if(null!==a)for(let g=0;g<a.length-1;g+=2)if("string"==typeof a[g]){const v=a[g+1],E="function"==typeof v?v(o):un(o[v]),D=l[d=a[g+2]],T=a[g+3];"boolean"==typeof T?E.removeEventListener(a[g],D,T):T>=0?l[d=T]():l[d=-T].unsubscribe(),g+=2}else{const v=l[d=a[g+1]];a[g].call(v)}if(null!==l){for(let g=d+1;g<l.length;g++)l[g]();o[7]=null}}(s,o),1===o[1].type&&_n(o[11])&&o[11].destroy();const a=o[17];if(null!==a&&fi(o[3])){a!==o[3]&&bf(a,o);const l=o[19];null!==l&&l.detachView(s)}}}function s_(s,o,a){return function Rg(s,o,a){let l=o;for(;null!==l&&40&l.type;)l=(o=l).parent;if(null===l)return a[0];if(2&l.flags){const d=s.data[l.directiveStart].encapsulation;if(d===Kt.None||d===Kt.Emulated)return null}return Mr(l,a)}(s,o.parent,a)}function Ua(s,o,a,l,d){_n(s)?s.insertBefore(o,a,l,d):o.insertBefore(a,l,d)}function ra(s,o,a){_n(s)?s.appendChild(o,a):o.appendChild(a)}function ac(s,o,a,l,d){null!==l?Ua(s,o,a,l,d):ra(s,o,a)}function Df(s,o){return _n(s)?s.parentNode(o):o.parentNode}function uc(s,o,a){return mw(s,o,a)}let mw=function o_(s,o,a){return 40&s.type?Mr(s,a):null};function kd(s,o,a,l){const d=s_(s,l,o),g=o[11],E=uc(l.parent||o[6],l,o);if(null!=d)if(Array.isArray(a))for(let D=0;D<a.length;D++)ac(g,d,a[D],E,!1);else ac(g,d,a,E,!1)}function Cf(s,o){if(null!==o){const a=o.type;if(3&a)return Mr(o,s);if(4&a)return If(-1,s[o.index]);if(8&a){const l=o.child;if(null!==l)return Cf(s,l);{const d=s[o.index];return fi(d)?If(-1,d):un(d)}}if(32&a)return Ke(o,s)()||un(s[o.index]);{const l=Og(s,o);return null!==l?Array.isArray(l)?l[0]:Cf(xn(s[16]),l):Cf(s,o.next)}}return null}function Og(s,o){return null!==o?s[16][6].projection[o.projection]:null}function If(s,o){const a=10+s+1;if(a<o.length){const l=o[a],d=l[1].firstChild;if(null!==d)return Cf(l,d)}return o[7]}function lc(s,o,a,l,d,g,v){for(;null!=a;){const E=l[a.index],D=a.type;if(v&&0===o&&(E&&Er(un(E),l),a.flags|=4),64!=(64&a.flags))if(8&D)lc(s,o,a.child,l,d,g,!1),Hi(o,s,d,E,g);else if(32&D){const T=Ke(a,l);let x;for(;x=T();)Hi(o,s,d,x,g);Hi(o,s,d,E,g)}else 16&D?_w(s,o,l,a,d,g):Hi(o,s,d,E,g);a=v?a.projectionNext:a.next}}function Tf(s,o,a,l,d,g){lc(a,l,s.firstChild,o,d,g,!1)}function _w(s,o,a,l,d,g){const v=a[16],D=v[6].projection[l.projection];if(Array.isArray(D))for(let T=0;T<D.length;T++)Hi(o,s,d,D[T],g);else lc(s,o,D,v[3],d,g,!0)}function kg(s,o,a){_n(s)?s.setAttribute(o,"style",a):o.style.cssText=a}function Pg(s,o,a){_n(s)?""===a?s.removeAttribute(o,"class"):s.setAttribute(o,"class",a):o.className=a}function u_(s,o,a){let l=s.length;for(;;){const d=s.indexOf(o,a);if(-1===d)return d;if(0===d||s.charCodeAt(d-1)<=32){const g=o.length;if(d+g===l||s.charCodeAt(d+g)<=32)return d}a=d+1}}const Fg="ng-template";function mC(s,o,a){let l=0;for(;l<s.length;){let d=s[l++];if(a&&"class"===d){if(d=s[l],-1!==u_(d.toLowerCase(),o,0))return!0}else if(1===d){for(;l<s.length&&"string"==typeof(d=s[l++]);)if(d.toLowerCase()===o)return!0;return!1}}return!1}function vw(s){return 4===s.type&&s.value!==Fg}function yC(s,o,a){return o===(4!==s.type||a?s.value:Fg)}function ww(s,o,a){let l=4;const d=s.attrs||[],g=function Ew(s){for(let o=0;o<s.length;o++)if(us(s[o]))return o;return s.length}(d);let v=!1;for(let E=0;E<o.length;E++){const D=o[E];if("number"!=typeof D){if(!v)if(4&l){if(l=2|1&l,""!==D&&!yC(s,D,a)||""===D&&1===o.length){if(Gi(l))return!1;v=!0}}else{const T=8&l?D:o[++E];if(8&l&&null!==s.attrs){if(!mC(s.attrs,T,a)){if(Gi(l))return!1;v=!0}continue}const P=_C(8&l?"class":D,d,vw(s),a);if(-1===P){if(Gi(l))return!1;v=!0;continue}if(""!==T){let U;U=P>g?"":d[P+1].toLowerCase();const Z=8&l?U:null;if(Z&&-1!==u_(Z,T,0)||2&l&&T!==U){if(Gi(l))return!1;v=!0}}}}else{if(!v&&!Gi(l)&&!Gi(D))return!1;if(v&&Gi(D))continue;v=!1,l=D|1&l}}return Gi(l)||v}function Gi(s){return 0==(1&s)}function _C(s,o,a,l){if(null===o)return-1;let d=0;if(l||!a){let g=!1;for(;d<o.length;){const v=o[d];if(v===s)return d;if(3===v||6===v)g=!0;else{if(1===v||2===v){let E=o[++d];for(;"string"==typeof E;)E=o[++d];continue}if(4===v)break;if(0===v){d+=4;continue}}d+=g?1:2}return-1}return function bw(s,o){let a=s.indexOf(4);if(a>-1)for(a++;a<s.length;){const l=s[a];if("number"==typeof l)return-1;if(l===o)return a;a++}return-1}(o,s)}function Lg(s,o,a=!1){for(let l=0;l<o.length;l++)if(ww(s,o[l],a))return!0;return!1}function wC(s,o){e:for(let a=0;a<o.length;a++){const l=o[a];if(s.length===l.length){for(let d=0;d<s.length;d++)if(s[d]!==l[d])continue e;return!0}}return!1}function Dw(s,o){return s?":not("+o.trim()+")":o}function EC(s){let o=s[0],a=1,l=2,d="",g=!1;for(;a<s.length;){let v=s[a];if("string"==typeof v)if(2&l){const E=s[++a];d+="["+v+(E.length>0?'="'+E+'"':"")+"]"}else 8&l?d+="."+v:4&l&&(d+=" "+v);else""!==d&&!Gi(v)&&(o+=Dw(g,d),d=""),l=v,g=g||!Gi(l);a++}return""!==d&&(o+=Dw(g,d)),o}const Pt={};function $u(s){Cw(Vt(),De(),Rr()+s,Eu())}function Cw(s,o,a,l){if(!l)if(3==(3&o[2])){const g=s.preOrderCheckHooks;null!==g&&Ia(o,g,a)}else{const g=s.preOrderHooks;null!==g&&Iu(o,g,0,a)}zs(a)}function Vg(s,o){return s<<17|o<<2}function To(s){return s>>17&32767}function c_(s){return 2|s}function vs(s){return(131068&s)>>2}function Mf(s,o){return-131069&s|o<<2}function Bg(s){return 1|s}function Nw(s,o){const a=s.contentQueries;if(null!==a)for(let l=0;l<a.length;l+=2){const d=a[l],g=a[l+1];if(-1!==g){const v=s.data[g];Nl(d),v.contentQueries(2,o[g],g)}}}function Of(s,o,a,l,d,g,v,E,D,T){const x=o.blueprint.slice();return x[0]=d,x[2]=140|l,js(x),x[3]=x[15]=s,x[8]=a,x[10]=v||s&&s[10],x[11]=E||s&&s[11],x[12]=D||s&&s[12]||null,x[9]=T||s&&s[9]||null,x[6]=g,x[16]=2==o.type?s[16]:x,x}function Ud(s,o,a,l,d){let g=s.data[o];if(null===g)g=function w_(s,o,a,l,d){const g=Ho(),v=Sl(),D=s.data[o]=function PC(s,o,a,l,d,g){return{type:a,index:l,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:d,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?g:g&&g.parent,a,o,l,d);return null===s.firstChild&&(s.firstChild=D),null!==g&&(v?null==g.child&&null!==D.parent&&(g.child=D):null===g.next&&(g.next=D)),D}(s,o,a,l,d),function xl(){return pt.lFrame.inI18n}()&&(g.flags|=64);else if(64&g.type){g.type=a,g.value=l,g.attrs=d;const v=function Go(){const s=pt.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}();g.injectorIndex=null===v?-1:v.injectorIndex}return Jr(g,!0),g}function jd(s,o,a,l){if(0===a)return-1;const d=o.length;for(let g=0;g<a;g++)o.push(l),s.blueprint.push(l),s.data.push(null);return d}function Nf(s,o,a){ho(o);try{const l=s.viewQuery;null!==l&&Zg(1,l,a);const d=s.template;null!==d&&E_(s,o,d,1,a),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&Nw(s,o),s.staticViewQueries&&Zg(2,s.viewQuery,a);const g=s.components;null!==g&&function kw(s,o){for(let a=0;a<o.length;a++)zC(s,o[a])}(o,g)}catch(l){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),l}finally{o[2]&=-5,po()}}function cc(s,o,a,l){const d=o[2];if(256==(256&d))return;ho(o);const g=Eu();try{js(o),function bu(s){return pt.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==a&&E_(s,o,a,2,l);const v=3==(3&d);if(!g)if(v){const T=s.preOrderCheckHooks;null!==T&&Ia(o,T,null)}else{const T=s.preOrderHooks;null!==T&&Iu(o,T,0,null),$n(o,0)}if(function GC(s){for(let o=sc(s);null!==o;o=Vu(o)){if(!o[2])continue;const a=o[9];for(let l=0;l<a.length;l++){const d=a[l],g=d[3];0==(1024&d[2])&&$s(g,1),d[2]|=1024}}}(o),function HC(s){for(let o=sc(s);null!==o;o=Vu(o))for(let a=10;a<o.length;a++){const l=o[a],d=l[1];is(l)&&cc(d,l,d.template,l[8])}}(o),null!==s.contentQueries&&Nw(s,o),!g)if(v){const T=s.contentCheckHooks;null!==T&&Ia(o,T)}else{const T=s.contentHooks;null!==T&&Iu(o,T,1),$n(o,1)}!function RC(s,o){const a=s.hostBindingOpCodes;if(null!==a)try{for(let l=0;l<a.length;l++){const d=a[l];if(d<0)zs(~d);else{const g=d,v=a[++l],E=a[++l];Cu(v,g),E(2,o[g])}}}finally{zs(-1)}}(s,o);const E=s.components;null!==E&&function OC(s,o){for(let a=0;a<o.length;a++)qC(s,o[a])}(o,E);const D=s.viewQuery;if(null!==D&&Zg(2,D,l),!g)if(v){const T=s.viewCheckHooks;null!==T&&Ia(o,T)}else{const T=s.viewHooks;null!==T&&Iu(o,T,2),$n(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),g||(o[2]&=-73),1024&o[2]&&(o[2]&=-1025,$s(o[3],-1))}finally{po()}}function lM(s,o,a,l){const d=o[10],g=!Eu(),v=Us(o);try{g&&!v&&d.begin&&d.begin(),v&&Nf(s,o,l),cc(s,o,a,l)}finally{g&&!v&&d.end&&d.end()}}function E_(s,o,a,l,d){const g=Rr(),v=2&l;try{zs(-1),v&&o.length>20&&Cw(s,o,20,Eu()),a(l,d)}finally{zs(g)}}function $g(s,o,a){!wu()||(function kf(s,o,a,l){const d=a.directiveStart,g=a.directiveEnd;s.firstCreatePass||Sa(a,o),Er(l,o);const v=a.initialInputs;for(let E=d;E<g;E++){const D=s.data[E],T=Zr(D);T&&A_(o,a,D);const x=cs(o,s,E,a);Er(x,o),null!==v&&Hw(0,E-d,x,D,0,v),T&&(xr(a.index,o)[8]=x)}}(s,o,a,Mr(a,o)),128==(128&a.flags)&&function I_(s,o,a){const l=a.directiveStart,d=a.directiveEnd,v=a.index,E=function Rl(){return pt.lFrame.currentDirectiveIndex}();try{zs(v);for(let D=l;D<d;D++){const T=s.data[D],x=o[D];Ca(D),(null!==T.hostBindings||0!==T.hostVars||null!==T.hostAttrs)&&dc(T,x)}}finally{zs(-1),Ca(E)}}(s,o,a))}function Hg(s,o,a=Mr){const l=o.localNames;if(null!==l){let d=o.index+1;for(let g=0;g<l.length;g+=2){const v=l[g+1],E=-1===v?a(o,s):s[v];s[d++]=E}}}function Pw(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=Gg(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function Gg(s,o,a,l,d,g,v,E,D,T){const x=20+l,P=x+d,U=function NC(s,o){const a=[];for(let l=0;l<o;l++)a.push(l<s?null:Pt);return a}(x,P),Z="function"==typeof T?T():T;return U[1]={type:s,blueprint:U,template:a,queries:null,viewQuery:E,declTNode:o,data:U.slice().fill(null,x),bindingStartIndex:x,expandoStartIndex:P,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:D,consts:Z,incompleteFirstPass:!1}}function qg(s,o,a,l){const d=qw(o);null===a?d.push(l):(d.push(a),s.firstCreatePass&&zw(s).push(l,d.length-1))}function Vw(s,o,a){for(let l in s)if(s.hasOwnProperty(l)){const d=s[l];(a=null===a?{}:a).hasOwnProperty(l)?a[l].push(o,d):a[l]=[o,d]}return a}function Ni(s,o,a,l){let d=!1;if(wu()){const g=function UC(s,o,a){const l=s.directiveRegistry;let d=null;if(l)for(let g=0;g<l.length;g++){const v=l[g];Lg(a,v.selectors,!1)&&(d||(d=[]),Hn(Sa(a,o),s,v.type),Zr(v)?(jw(s,a),d.unshift(v)):d.push(v))}return d}(s,o,a),v=null===l?null:{"":-1};if(null!==g){d=!0,T_(a,s.data.length,g.length);for(let x=0;x<g.length;x++){const P=g[x];P.providersResolver&&P.providersResolver(P)}let E=!1,D=!1,T=jd(s,o,g.length,null);for(let x=0;x<g.length;x++){const P=g[x];a.mergedAttrs=Su(a.mergedAttrs,P.hostAttrs),S_(s,a,o,T,P),jC(T,P,v),null!==P.contentQueries&&(a.flags|=8),(null!==P.hostBindings||null!==P.hostAttrs||0!==P.hostVars)&&(a.flags|=128);const U=P.type.prototype;!E&&(U.ngOnChanges||U.ngOnInit||U.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(a.index),E=!0),!D&&(U.ngOnChanges||U.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(a.index),D=!0),T++}!function FC(s,o){const l=o.directiveEnd,d=s.data,g=o.attrs,v=[];let E=null,D=null;for(let T=o.directiveStart;T<l;T++){const x=d[T],P=x.inputs,U=null===g||vw(o)?null:$C(P,g);v.push(U),E=Vw(P,T,E),D=Vw(x.outputs,T,D)}null!==E&&(E.hasOwnProperty("class")&&(o.flags|=16),E.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=v,o.inputs=E,o.outputs=D}(s,a)}v&&function $w(s,o,a){if(o){const l=s.localNames=[];for(let d=0;d<o.length;d+=2){const g=a[o[d+1]];if(null==g)throw new Oe(-301,!1);l.push(o[d],g)}}}(a,l,v)}return a.mergedAttrs=Su(a.mergedAttrs,a.attrs),d}function Bw(s,o,a,l,d,g){const v=g.hostBindings;if(v){let E=s.hostBindingOpCodes;null===E&&(E=s.hostBindingOpCodes=[]);const D=~o.index;(function Uw(s){let o=s.length;for(;o>0;){const a=s[--o];if("number"==typeof a&&a<0)return a}return 0})(E)!=D&&E.push(D),E.push(l,d,v)}}function dc(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function jw(s,o){o.flags|=2,(s.components||(s.components=[])).push(o.index)}function jC(s,o,a){if(a){if(o.exportAs)for(let l=0;l<o.exportAs.length;l++)a[o.exportAs[l]]=s;Zr(o)&&(a[""]=s)}}function T_(s,o,a){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+a,s.providerIndexes=o}function S_(s,o,a,l,d){s.data[l]=d;const g=d.factory||(d.factory=Yr(d.type)),v=new zo(g,Zr(d),null);s.blueprint[l]=v,a[l]=v,Bw(s,o,0,l,jd(s,a,d.hostVars,Pt),d)}function A_(s,o,a){const l=Mr(o,s),d=Pw(a),g=s[10],v=Wg(s,Of(s,d,null,a.onPush?64:16,l,o,g,g.createRenderer(l,a),null,null));s[o.index]=v}function ja(s,o,a,l,d,g){const v=Mr(s,o);!function $a(s,o,a,l,d,g,v){if(null==g)_n(s)?s.removeAttribute(o,d,a):o.removeAttribute(d);else{const E=null==v?fe(g):v(g,l||"",d);_n(s)?s.setAttribute(o,d,E,a):a?o.setAttributeNS(a,d,E):o.setAttribute(d,E)}}(o[11],v,g,s.value,a,l,d)}function Hw(s,o,a,l,d,g){const v=g[o];if(null!==v){const E=l.setInput;for(let D=0;D<v.length;){const T=v[D++],x=v[D++],P=v[D++];null!==E?l.setInput(a,P,T,x):a[x]=P}}}function $C(s,o){let a=null,l=0;for(;l<o.length;){const d=o[l];if(0!==d)if(5!==d){if("number"==typeof d)break;s.hasOwnProperty(d)&&(null===a&&(a=[]),a.push(d,s[d],o[l+1])),l+=2}else l+=2;else l+=4}return a}function $d(s,o,a,l){return new Array(s,!0,!1,o,null,0,l,a,null,null)}function qC(s,o){const a=xr(o,s);if(is(a)){const l=a[1];80&a[2]?cc(l,a,l.template,a[8]):a[5]>0&&zg(a)}}function zg(s){for(let l=sc(s);null!==l;l=Vu(l))for(let d=10;d<l.length;d++){const g=l[d];if(1024&g[2]){const v=g[1];cc(v,g,v.template,g[8])}else g[5]>0&&zg(g)}const a=s[1].components;if(null!==a)for(let l=0;l<a.length;l++){const d=xr(a[l],s);is(d)&&d[5]>0&&zg(d)}}function zC(s,o){const a=xr(o,s),l=a[1];(function WC(s,o){for(let a=o.length;a<s.blueprint.length;a++)o.push(s.blueprint[a])})(l,a),Nf(l,a,a[8])}function Wg(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function Pf(s){for(;s;){s[2]|=64;const o=xn(s);if(zh(s)&&!o)return s;s=o}return null}function Kg(s,o,a){const l=o[10];l.begin&&l.begin();try{cc(s,o,s.template,a)}catch(d){throw Kw(o,d),d}finally{l.end&&l.end()}}function Gw(s){!function M_(s){for(let o=0;o<s.components.length;o++){const a=s.components[o],l=Id(a),d=l[1];lM(d,l,d.template,a)}}(s[8])}function Zg(s,o,a){Nl(0),o(s,a)}const YC=(()=>Promise.resolve(null))();function qw(s){return s[7]||(s[7]=[])}function zw(s){return s.cleanup||(s.cleanup=[])}function Kw(s,o){const a=s[9],l=a?a.get(Vn,null):null;l&&l.handleError(o)}function Gr(s,o,a,l,d){for(let g=0;g<a.length;){const v=a[g++],E=a[g++],D=o[v],T=s.data[v];null!==T.setInput?T.setInput(D,d,l,E):D[E]=d}}function Ao(s,o,a){const l=co(o,s);!function Bu(s,o,a){_n(s)?s.setValue(o,a):o.textContent=a}(s[11],l,a)}function Yg(s,o,a){let l=a?s.styles:null,d=a?s.classes:null,g=0;if(null!==o)for(let v=0;v<o.length;v++){const E=o[v];"number"==typeof E?g=E:1==g?d=le(d,E):2==g&&(l=le(l,E+": "+o[++v]+";"))}a?s.styles=l:s.stylesWithoutHost=l,a?s.classes=d:s.classesWithoutHost=d}const _e=new Fn("INJECTOR",-1);class Gu{get(o,a=bo){if(a===bo){const l=new Error(`NullInjectorError: No provider for ${he(o)}!`);throw l.name="NullInjectorError",l}return a}}const Hd=new Fn("Set Injector scope."),Xs={},Yt={};let x_;function ia(){return void 0===x_&&(x_=new Gu),x_}function it(s,o=null,a=null,l){const d=Qg(s,o,a,l);return d._resolveInjectorDefTypes(),d}function Qg(s,o=null,a=null,l){return new Nt(s,a,o||ia(),l)}class Nt{constructor(o,a,l,d=null){this.parent=l,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const g=[];a&&ln(a,E=>this.processProvider(E,o,a)),ln([o],E=>this.processInjectorType(E,[],g)),this.records.set(_e,qu(void 0,this));const v=this.records.get(Hd);this.scope=null!=v?v.value:null,this.source=d||("object"==typeof o?null:he(o))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(o=>o.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(o,a=bo,l=dt.Default){this.assertNotDestroyed();const d=xe(this),g=Kn(void 0);try{if(!(l&dt.SkipSelf)){let E=this.records.get(o);if(void 0===E){const D=function eI(s){return"function"==typeof s||"object"==typeof s&&s instanceof Fn}(o)&&Wt(o);E=D&&this.injectableDefInScope(D)?qu(Gd(o),Xs):null,this.records.set(o,E)}if(null!=E)return this.hydrate(o,E)}return(l&dt.Self?ia():this.parent).get(o,a=l&dt.Optional&&a===bo?null:a)}catch(v){if("NullInjectorError"===v.name){if((v[ea]=v[ea]||[]).unshift(he(o)),d)throw v;return function Ks(s,o,a,l){const d=s[ea];throw o[L]&&d.unshift(o[L]),s.message=function ta(s,o,a,l=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.substr(2):s;let d=he(o);if(Array.isArray(o))d=o.map(he).join(" -> ");else if("object"==typeof o){let g=[];for(let v in o)if(o.hasOwnProperty(v)){let E=o[v];g.push(v+":"+("string"==typeof E?JSON.stringify(E):he(E)))}d=`{${g.join(", ")}}`}return`${a}${l?"("+l+")":""}[${d}]: ${s.replace(I,"\n  ")}`}("\n"+s.message,d,a,l),s.ngTokenPath=d,s[ea]=null,s}(v,o,"R3InjectorError",this.source)}throw v}finally{Kn(g),xe(d)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(o=>this.get(o))}toString(){const o=[];return this.records.forEach((l,d)=>o.push(he(d))),`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Oe(205,!1)}processInjectorType(o,a,l){if(!(o=J(o)))return!1;let d=Br(o);const g=null==d&&o.ngModule||void 0,v=void 0===g?o:g,E=-1!==l.indexOf(v);if(void 0!==g&&(d=Br(g)),null==d)return!1;if(null!=d.imports&&!E){let x;l.push(v);try{ln(d.imports,P=>{this.processInjectorType(P,a,l)&&(void 0===x&&(x=[]),x.push(P))})}finally{}if(void 0!==x)for(let P=0;P<x.length;P++){const{ngModule:U,providers:Z}=x[P];ln(Z,ye=>this.processProvider(ye,U,Z||ht))}}this.injectorDefTypes.add(v);const D=Yr(v)||(()=>new v);this.records.set(v,qu(D,Xs));const T=d.providers;if(null!=T&&!E){const x=o;ln(T,P=>this.processProvider(P,x,T))}return void 0!==g&&void 0!==o.providers}processProvider(o,a,l){let d=Qn(o=J(o))?o:J(o&&o.provide);const g=function Ff(s,o,a){return Yw(s)?qu(void 0,s.useValue):qu(Zw(s),Xs)}(o);if(Qn(o)||!0!==o.multi)this.records.get(d);else{let v=this.records.get(d);v||(v=qu(void 0,Xs,!0),v.factory=()=>Mt(v.multi),this.records.set(d,v)),d=o,v.multi.push(o)}this.records.set(d,g)}hydrate(o,a){return a.value===Xs&&(a.value=Yt,a.value=a.factory()),"object"==typeof a.value&&a.value&&function zu(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(a.value)&&this.onDestroy.add(a.value),a.value}injectableDefInScope(o){if(!o.providedIn)return!1;const a=J(o.providedIn);return"string"==typeof a?"any"===a||a===this.scope:this.injectorDefTypes.has(a)}}function Gd(s){const o=Wt(s),a=null!==o?o.factory:Yr(s);if(null!==a)return a;if(s instanceof Fn)throw new Oe(204,!1);if(s instanceof Function)return function R_(s){const o=s.length;if(o>0)throw yt(o,"?"),new Oe(204,!1);const a=function li(s){const o=s&&(s[Fi]||s[Yi]);if(o){const a=function xs(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),o}return null}(s);return null!==a?()=>a.factory(s):()=>new s}(s);throw new Oe(204,!1)}function Zw(s,o,a){let l;if(Qn(s)){const d=J(s);return Yr(d)||Gd(d)}if(Yw(s))l=()=>J(s.useValue);else if(function XC(s){return!(!s||!s.useFactory)}(s))l=()=>s.useFactory(...Mt(s.deps||[]));else if(function JC(s){return!(!s||!s.useExisting)}(s))l=()=>st(J(s.useExisting));else{const d=J(s&&(s.useClass||s.provide));if(!function ti(s){return!!s.deps}(s))return Yr(d)||Gd(d);l=()=>new d(...Mt(s.deps))}return l}function qu(s,o,a=!1){return{factory:s,value:o,multi:a?[]:void 0}}function Yw(s){return null!==s&&"object"==typeof s&&W in s}function Qn(s){return"function"==typeof s}let Mo=(()=>{class s{static create(a,l){var d;if(Array.isArray(a))return it({name:""},l,a,"");{const g=null!==(d=a.name)&&void 0!==d?d:"";return it({name:g},a.parent,a.providers,g)}}}return s.THROW_IF_NOT_FOUND=bo,s.NULL=new Gu,s.\u0275prov=sn({token:s,providedIn:"any",factory:()=>st(_e)}),s.__NG_ELEMENT_ID__=-1,s})();function V_(s,o){ss(Id(s)[1],bn())}function B_(s){let o=function nE(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),a=!0;const l=[s];for(;o;){let d;if(Zr(s))d=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new Oe(903,"");d=o.\u0275dir}if(d){if(a){l.push(d);const v=s;v.inputs=rm(s.inputs),v.declaredInputs=rm(s.declaredInputs),v.outputs=rm(s.outputs);const E=d.hostBindings;E&&wi(s,E);const D=d.viewQuery,T=d.contentQueries;if(D&&aI(s,D),T&&uI(s,T),re(s.inputs,d.inputs),re(s.declaredInputs,d.declaredInputs),re(s.outputs,d.outputs),Zr(d)&&d.data.animation){const x=s.data;x.animation=(x.animation||[]).concat(d.data.animation)}}const g=d.features;if(g)for(let v=0;v<g.length;v++){const E=g[v];E&&E.ngInherit&&E(s),E===B_&&(a=!1)}}o=Object.getPrototypeOf(o)}!function U_(s){let o=0,a=null;for(let l=s.length-1;l>=0;l--){const d=s[l];d.hostVars=o+=d.hostVars,d.hostAttrs=Su(d.hostAttrs,a=Su(a,d.hostAttrs))}}(l)}function rm(s){return s===gr?{}:s===ht?[]:s}function aI(s,o){const a=s.viewQuery;s.viewQuery=a?(l,d)=>{o(l,d),a(l,d)}:o}function uI(s,o){const a=s.contentQueries;s.contentQueries=a?(l,d,g)=>{o(l,d,g),a(l,d,g)}:o}function wi(s,o){const a=s.hostBindings;s.hostBindings=a?(l,d)=>{o(l,d),a(l,d)}:o}let im=null;function qd(){if(!im){const s=zt.Symbol;if(s&&s.iterator)im=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<o.length;++a){const l=o[a];"entries"!==l&&"size"!==l&&Map.prototype[l]===Map.prototype.entries&&(im=l)}}}return im}function Wu(s){return!!jf(s)&&(Array.isArray(s)||!(s instanceof Map)&&qd()in s)}function jf(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function eo(s,o,a){return s[o]=a}function ni(s,o,a){return!Object.is(s[o],a)&&(s[o]=a,!0)}function Hf(s,o,a,l){const d=De();return ni(d,Gs(),o)&&(Vt(),ja(Sn(),d,s,o,a,l)),Hf}function lE(s,o,a,l,d,g,v,E){const D=De(),T=Vt(),x=s+20,P=T.firstCreatePass?function uE(s,o,a,l,d,g,v,E,D){const T=o.consts,x=Ud(o,s,4,v||null,Qr(T,E));Ni(o,a,x,Qr(T,D)),ss(o,x);const P=x.tViews=Gg(2,x,l,d,g,o.directiveRegistry,o.pipeRegistry,null,o.schemas,T);return null!==o.queries&&(o.queries.template(o,x),P.queries=o.queries.embeddedTView(x)),x}(x,T,D,o,a,l,d,g,v):T.data[x];Jr(P,!1);const U=D[11].createComment("");kd(T,D,U,P),Er(U,D),Wg(D,D[x]=$d(U,D,U,P)),au(P)&&$g(T,D,P),null!=v&&Hg(D,P,E)}function Ga(s,o=dt.Default){const a=De();return null===a?st(s,o):Zo(bn(),a,J(s),o)}function J_(){throw new Error("invalid")}function Jd(s,o,a){const l=De();return ni(l,Gs(),o)&&function qi(s,o,a,l,d,g,v,E){const D=Mr(o,a);let x,T=o.inputs;!E&&null!=T&&(x=T[l])?(Gr(s,a,x,l,d),Ps(o)&&function LC(s,o){const a=xr(o,s);16&a[2]||(a[2]|=64)}(a,o.index)):3&o.type&&(l=function D_(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(l),d=null!=v?v(d,o.value||"",l):d,_n(g)?g.setProperty(D,l,d):Tu(l)||(D.setProperty?D.setProperty(l,d):D[l]=d))}(Vt(),Sn(),l,s,o,l[11],a,!1),Jd}function mc(s,o,a,l,d){const v=d?"class":"style";Gr(s,a,o.inputs[v],v,l)}function Xd(s,o,a,l){const d=De(),g=Vt(),v=20+s,E=d[11],D=d[v]=Uu(E,o,function Vy(){return pt.lFrame.currentNamespace}()),T=g.firstCreatePass?function yc(s,o,a,l,d,g,v){const E=o.consts,T=Ud(o,s,2,d,Qr(E,g));return Ni(o,a,T,Qr(E,v)),null!==T.attrs&&Yg(T,T.attrs,!1),null!==T.mergedAttrs&&Yg(T,T.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,T),T}(v,g,d,0,o,a,l):g.data[v];Jr(T,!0);const x=T.mergedAttrs;null!==x&&Bl(E,D,x);const P=T.classes;null!==P&&Pg(E,D,P);const U=T.styles;return null!==U&&kg(E,D,U),64!=(64&T.flags)&&kd(g,d,D,T),0===function Da(){return pt.lFrame.elementDepthCount}()&&Er(D,d),function _u(){pt.lFrame.elementDepthCount++}(),au(T)&&($g(g,d,T),function b_(s,o,a){if(Hc(o)){const d=o.directiveEnd;for(let g=o.directiveStart;g<d;g++){const v=s.data[g];v.contentQueries&&v.contentQueries(1,a[g],g)}}}(g,T,d)),null!==l&&Hg(d,T),Xd}function mm(){let s=bn();Sl()?Al():(s=s.parent,Jr(s,!1));const o=s;!function vu(){pt.lFrame.elementDepthCount--}();const a=Vt();return a.firstCreatePass&&(ss(a,s),Hc(s)&&a.queries.elementEnd(s)),null!=o.classesWithoutHost&&function Qh(s){return 0!=(16&s.flags)}(o)&&mc(a,o,De(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function sg(s){return 0!=(32&s.flags)}(o)&&mc(a,o,De(),o.stylesWithoutHost,!1),mm}function Yf(s,o,a,l){return Xd(s,o,a,l),mm(),Yf}function Xu(){return De()}function xo(s){return!!s&&"function"==typeof s.then}function Jf(s){return!!s&&"function"==typeof s.subscribe}const Xf=Jf;function eh(s,o,a,l){const d=De(),g=Vt(),v=bn();return function ep(s,o,a,l,d,g,v,E){const D=au(l),x=s.firstCreatePass&&zw(s),P=o[8],U=qw(o);let Z=!0;if(3&l.type||E){const je=Mr(l,o),tt=E?E(je):je,Ce=U.length,gt=E?Ut=>E(un(Ut[l.index])):l.index;if(_n(a)){let Ut=null;if(!E&&D&&(Ut=function Bn(s,o,a,l){const d=s.cleanup;if(null!=d)for(let g=0;g<d.length-1;g+=2){const v=d[g];if(v===a&&d[g+1]===l){const E=o[7],D=d[g+2];return E.length>D?E[D]:null}"string"==typeof v&&(g+=2)}return null}(s,o,d,l.index)),null!==Ut)(Ut.__ngLastListenerFn__||Ut).__ngNextListenerFn__=g,Ut.__ngLastListenerFn__=g,Z=!1;else{g=tv(l,o,P,g,!1);const cn=a.listen(tt,d,g);U.push(g,cn),x&&x.push(d,gt,Ce,Ce+1)}}else g=tv(l,o,P,g,!0),tt.addEventListener(d,g,v),U.push(g),x&&x.push(d,gt,Ce,v)}else g=tv(l,o,P,g,!1);const ye=l.outputs;let Pe;if(Z&&null!==ye&&(Pe=ye[d])){const je=Pe.length;if(je)for(let tt=0;tt<je;tt+=2){const Cs=o[Pe[tt]][Pe[tt+1]].subscribe(g),Vc=U.length;U.push(g,Cs),x&&x.push(d,l.index,Vc,-(Vc+1))}}}(g,d,d[11],v,s,o,!!a,l),eh}function _E(s,o,a,l){try{return!1!==a(l)}catch(d){return Kw(s,d),!1}}function tv(s,o,a,l,d){return function g(v){if(v===Function)return l;const E=2&s.flags?xr(s.index,o):o;0==(32&o[2])&&Pf(E);let D=_E(o,0,l,v),T=g.__ngNextListenerFn__;for(;T;)D=_E(o,0,T,v)&&D,T=T.__ngNextListenerFn__;return d&&!1===D&&(v.preventDefault(),v.returnValue=!1),D}}function th(s=1){return function qs(s){return(pt.lFrame.contextLView=function Pl(s,o){for(;s>0;)o=o[15],s--;return o}(s,pt.lFrame.contextLView))[8]}(s)}function tp(s,o){let a=null;const l=function vC(s){const o=s.attrs;if(null!=o){const a=o.indexOf(5);if(0==(1&a))return o[a+1]}return null}(s);for(let d=0;d<o.length;d++){const g=o[d];if("*"!==g){if(null===l?Lg(s,g,!0):wC(l,g))return d}else a=d}return a}function vE(s){const o=De()[16][6];if(!o.projection){const l=o.projection=yt(s?s.length:1,null),d=l.slice();let g=o.child;for(;null!==g;){const v=s?tp(g,s):0;null!==v&&(d[v]?d[v].projectionNext=g:l[v]=g,d[v]=g),g=g.next}}}function nv(s,o=0,a){const l=De(),d=Vt(),g=Ud(d,20+s,16,null,a||null);null===g.projection&&(g.projection=o),Al(),64!=(64&g.flags)&&function gC(s,o,a){_w(o[11],0,o,a,s_(s,a,o),uc(a.parent||o[6],a,o))}(d,l,g)}function CE(s,o,a,l,d){const g=s[a+1],v=null===o;let E=l?To(g):vs(g),D=!1;for(;0!==E&&(!1===D||v);){const x=s[E+1];IE(s[E],o)&&(D=!0,s[E+1]=l?Bg(x):c_(x)),E=l?To(x):vs(x)}D&&(s[a+1]=l?c_(g):Bg(g))}function IE(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&Xo(s,o)>=0}const Dr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function _m(s){return s.substring(Dr.key,Dr.keyEnd)}function uv(s,o){const a=Dr.textEnd;return a===o?-1:(o=Dr.keyEnd=function vm(s,o,a){for(;o<a&&s.charCodeAt(o)>32;)o++;return o}(s,Dr.key=o,a),rh(s,o,a))}function rh(s,o,a){for(;o<a&&s.charCodeAt(o)<=32;)o++;return o}function hv(s,o){return function Ro(s,o,a,l){const d=De(),g=Vt(),v=Ai(2);g.firstUpdatePass&&pv(g,s,v,l),o!==Pt&&ni(d,v,o)&&Dm(g,g.data[Rr()],d,d[11],s,d[v+1]=function mv(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=he(xi(s)))),s}(o,a),l,v)}(s,o,null,!0),hv}function xE(s){!function Oo(s,o,a,l){const d=Vt(),g=Ai(2);d.firstUpdatePass&&pv(d,null,g,l);const v=De();if(a!==Pt&&ni(v,g,a)){const E=d.data[Rr()];if(ap(E,l)&&!fv(d,g)){let D=l?E.classesWithoutHost:E.stylesWithoutHost;null!==D&&(a=le(D,a||"")),mc(d,E,v,a,l)}else!function NE(s,o,a,l,d,g,v,E){d===Pt&&(d=ht);let D=0,T=0,x=0<d.length?d[0]:null,P=0<g.length?g[0]:null;for(;null!==x||null!==P;){const U=D<d.length?d[D+1]:void 0,Z=T<g.length?g[T+1]:void 0;let Pe,ye=null;x===P?(D+=2,T+=2,U!==Z&&(ye=P,Pe=Z)):null===P||null!==x&&x<P?(D+=2,ye=x):(T+=2,ye=P,Pe=Z),null!==ye&&Dm(s,o,a,l,ye,Pe,v,E),x=D<d.length?d[D]:null,P=T<g.length?g[T]:null}}(d,E,v,v[11],v[g+1],v[g+1]=function gv(s,o,a){if(null==a||""===a)return ht;const l=[],d=xi(a);if(Array.isArray(d))for(let g=0;g<d.length;g++)s(l,d[g],!0);else if("object"==typeof d)for(const g in d)d.hasOwnProperty(g)&&s(l,g,d[g]);else"string"==typeof d&&o(l,d);return l}(s,o,a),l,g)}}(wr,sa,s,!0)}function sa(s,o){for(let a=function TE(s){return function AE(s){Dr.key=0,Dr.keyEnd=0,Dr.value=0,Dr.valueEnd=0,Dr.textEnd=s.length}(s),uv(s,rh(s,0,Dr.textEnd))}(o);a>=0;a=uv(o,a))wr(s,_m(o),!0)}function fv(s,o){return o>=s.expandoStartIndex}function pv(s,o,a,l){const d=s.data;if(null===d[a+1]){const g=d[Rr()],v=fv(s,a);ap(g,l)&&null===o&&!v&&(o=!1),o=function RE(s,o,a,l){const d=function qo(s){const o=pt.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}(s);let g=l?o.residualClasses:o.residualStyles;if(null===d)0===(l?o.classBindings:o.styleBindings)&&(a=ip(a=bm(null,s,o,a,l),o.attrs,l),g=null);else{const v=o.directiveStylingLast;if(-1===v||s[v]!==d)if(a=bm(d,s,o,a,l),null===g){let D=function Em(s,o,a){const l=a?o.classBindings:o.styleBindings;if(0!==vs(l))return s[To(l)]}(s,o,l);void 0!==D&&Array.isArray(D)&&(D=bm(null,s,o,D[1],l),D=ip(D,o.attrs,l),function OE(s,o,a,l){s[To(a?o.classBindings:o.styleBindings)]=l}(s,o,l,D))}else g=function Wa(s,o,a){let l;const d=o.directiveEnd;for(let g=1+o.directiveStylingLast;g<d;g++)l=ip(l,s[g].hostAttrs,a);return ip(l,o.attrs,a)}(s,o,l)}return void 0!==g&&(l?o.residualClasses=g:o.residualStyles=g),a}(d,g,o,l),function yI(s,o,a,l,d,g){let v=g?o.classBindings:o.styleBindings,E=To(v),D=vs(v);s[l]=a;let x,T=!1;if(Array.isArray(a)){const P=a;x=P[1],(null===x||Xo(P,x)>0)&&(T=!0)}else x=a;if(d)if(0!==D){const U=To(s[E+1]);s[l+1]=Vg(U,E),0!==U&&(s[U+1]=Mf(s[U+1],l)),s[E+1]=function Af(s,o){return 131071&s|o<<17}(s[E+1],l)}else s[l+1]=Vg(E,0),0!==E&&(s[E+1]=Mf(s[E+1],l)),E=l;else s[l+1]=Vg(D,0),0===E?E=l:s[D+1]=Mf(s[D+1],l),D=l;T&&(s[l+1]=c_(s[l+1])),CE(s,x,l,!0),CE(s,x,l,!1),function DE(s,o,a,l,d){const g=d?s.residualClasses:s.residualStyles;null!=g&&"string"==typeof o&&Xo(g,o)>=0&&(a[l+1]=Bg(a[l+1]))}(o,x,s,l,g),v=Vg(E,D),g?o.classBindings=v:o.styleBindings=v}(d,g,o,a,v,l)}}function bm(s,o,a,l,d){let g=null;const v=a.directiveEnd;let E=a.directiveStylingLast;for(-1===E?E=a.directiveStart:E++;E<v&&(g=o[E],l=ip(l,g.hostAttrs,d),g!==s);)E++;return null!==s&&(a.directiveStylingLast=E),l}function ip(s,o,a){const l=a?1:2;let d=-1;if(null!==o)for(let g=0;g<o.length;g++){const v=o[g];"number"==typeof v?d=v:d===l&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),wr(s,v,!!a||o[++g]))}return void 0===s?null:s}function Dm(s,o,a,l,d,g,v,E){if(!(3&o.type))return;const D=s.data,T=D[E+1];op(function Tw(s){return 1==(1&s)}(T)?sp(D,o,a,d,vs(T),v):void 0)||(op(g)||function Pd(s){return 2==(2&s)}(T)&&(g=sp(D,null,a,d,E,v)),function Sf(s,o,a,l,d){const g=_n(s);if(o)d?g?s.addClass(a,l):a.classList.add(l):g?s.removeClass(a,l):a.classList.remove(l);else{let v=-1===l.indexOf("-")?void 0:oe.DashCase;if(null==d)g?s.removeStyle(a,l,v):a.style.removeProperty(l);else{const E="string"==typeof d&&d.endsWith("!important");E&&(d=d.slice(0,-10),v|=oe.Important),g?s.setStyle(a,l,d,v):a.style.setProperty(l,d,E?"important":"")}}}(l,v,co(Rr(),a),d,g))}function sp(s,o,a,l,d,g){const v=null===o;let E;for(;d>0;){const D=s[d],T=Array.isArray(D),x=T?D[1]:D,P=null===x;let U=a[d+1];U===Pt&&(U=P?ht:void 0);let Z=P?Hl(U,l):x===l?U:void 0;if(T&&!op(Z)&&(Z=Hl(D,l)),op(Z)&&(E=Z,v))return E;const ye=s[d+1];d=v?To(ye):vs(ye)}if(null!==o){let D=g?o.residualClasses:o.residualStyles;null!=D&&(E=Hl(D,l))}return E}function op(s){return void 0!==s}function ap(s,o){return 0!=(s.flags&(o?16:32))}function kE(s,o=""){const a=De(),l=Vt(),d=s+20,g=l.firstCreatePass?Ud(l,d,1,o,null):l.data[d],v=a[d]=function oc(s,o){return _n(s)?s.createText(o):s.createTextNode(o)}(a[11],o);kd(l,a,v,g),Jr(g,!1)}function Cm(s){return el("",s,""),Cm}function el(s,o,a){const l=De(),d=function Wd(s,o,a,l){return ni(s,Gs(),a)?o+fe(a)+l:Pt}(l,s,o,a);return d!==Pt&&Ao(l,Rr(),d),el}const et=void 0;var DI=["en",[["a","p"],["AM","PM"],et],[["AM","PM"],et,et],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],et,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],et,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",et,"{1} 'at' {0}",et],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function xt(s){const a=Math.floor(Math.abs(s)),l=s.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===l?1:5}];let Ge={};function Me(s){const o=function CI(s){return s.toLowerCase().replace(/_/g,"-")}(s);let a=GE(o);if(a)return a;const l=o.split("-")[0];if(a=GE(l),a)return a;if("en"===l)return DI;throw new Error(`Missing locale data for the locale "${s}".`)}function Cv(s){return Me(s)[bt.PluralCase]}function GE(s){return s in Ge||(Ge[s]=zt.ng&&zt.ng.common&&zt.ng.common.locales&&zt.ng.common.locales[s]),Ge[s]}var bt=(()=>((bt=bt||{})[bt.LocaleId=0]="LocaleId",bt[bt.DayPeriodsFormat=1]="DayPeriodsFormat",bt[bt.DayPeriodsStandalone=2]="DayPeriodsStandalone",bt[bt.DaysFormat=3]="DaysFormat",bt[bt.DaysStandalone=4]="DaysStandalone",bt[bt.MonthsFormat=5]="MonthsFormat",bt[bt.MonthsStandalone=6]="MonthsStandalone",bt[bt.Eras=7]="Eras",bt[bt.FirstDayOfWeek=8]="FirstDayOfWeek",bt[bt.WeekendRange=9]="WeekendRange",bt[bt.DateFormat=10]="DateFormat",bt[bt.TimeFormat=11]="TimeFormat",bt[bt.DateTimeFormat=12]="DateTimeFormat",bt[bt.NumberSymbols=13]="NumberSymbols",bt[bt.NumberFormats=14]="NumberFormats",bt[bt.CurrencyCode=15]="CurrencyCode",bt[bt.CurrencySymbol=16]="CurrencySymbol",bt[bt.CurrencyName=17]="CurrencyName",bt[bt.Currencies=18]="Currencies",bt[bt.Directionality=19]="Directionality",bt[bt.PluralCase=20]="PluralCase",bt[bt.ExtraData=21]="ExtraData",bt))();const Rm="en-US";let Ec=Rm;function No(s,o,a,l,d){if(s=J(s),Array.isArray(s))for(let g=0;g<s.length;g++)No(s[g],o,a,l,d);else{const g=Vt(),v=De();let E=Qn(s)?s:J(s.provide),D=Zw(s);const T=bn(),x=1048575&T.providerIndexes,P=T.directiveStart,U=T.providerIndexes>>20;if(Qn(s)||!s.multi){const Z=new zo(D,d,Ga),ye=fh(E,o,d?x:x+U,P);-1===ye?(Hn(Sa(T,v),g,E),Bm(g,s,o.length),o.push(E),T.directiveStart++,T.directiveEnd++,d&&(T.providerIndexes+=1048576),a.push(Z),v.push(Z)):(a[ye]=Z,v[ye]=Z)}else{const Z=fh(E,o,x+U,P),ye=fh(E,o,x,x+U),Pe=Z>=0&&a[Z],je=ye>=0&&a[ye];if(d&&!je||!d&&!Pe){Hn(Sa(T,v),g,E);const tt=function Fv(s,o,a,l,d){const g=new zo(s,a,Ga);return g.multi=[],g.index=o,g.componentProviders=0,Mc(g,d,l&&!a),g}(d?Pv:Um,a.length,d,l,D);!d&&je&&(a[ye].providerFactory=tt),Bm(g,s,o.length,0),o.push(E),T.directiveStart++,T.directiveEnd++,d&&(T.providerIndexes+=1048576),a.push(tt),v.push(tt)}else Bm(g,s,Z>-1?Z:ye,Mc(a[d?ye:Z],D,!d&&l));!d&&l&&je&&a[ye].componentProviders++}}}function Bm(s,o,a,l){const d=Qn(o),g=function Jg(s){return!!s.useClass}(o);if(d||g){const D=(g?J(o.useClass):o).prototype.ngOnDestroy;if(D){const T=s.destroyHooks||(s.destroyHooks=[]);if(!d&&o.multi){const x=T.indexOf(a);-1===x?T.push(a,[l,D]):T[x+1].push(l,D)}else T.push(a,D)}}}function Mc(s,o,a){return a&&s.componentProviders++,s.multi.push(o)-1}function fh(s,o,a,l){for(let d=a;d<l;d++)if(o[d]===s)return d;return-1}function Um(s,o,a,l){return gp(this.multi,[])}function Pv(s,o,a,l){const d=this.multi;let g;if(this.providerFactory){const v=this.providerFactory.componentProviders,E=cs(a,a[1],this.providerFactory.index,l);g=E.slice(0,v),gp(d,g);for(let D=v;D<E.length;D++)g.push(E[D])}else g=[],gp(d,g);return g}function gp(s,o){for(let a=0;a<s.length;a++)o.push((0,s[a])());return o}function xc(s,o=[]){return a=>{a.providersResolver=(l,d)=>function ob(s,o,a){const l=Vt();if(l.firstCreatePass){const d=Zr(s);No(a,l.data,l.blueprint,d,!0),No(o,l.data,l.blueprint,d,!1)}}(l,d?d(s):s,o)}}class Lv{}class Bv{resolveComponentFactory(o){throw function mp(s){const o=Error(`No component factory found for ${he(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let yp=(()=>{class s{}return s.NULL=new Bv,s})();function ub(){return ph(bn(),De())}function ph(s,o){return new gh(Mr(s,o))}let gh=(()=>{class s{constructor(a){this.nativeElement=a}}return s.__NG_ELEMENT_ID__=ub,s})();function lb(s){return s instanceof gh?s.nativeElement:s}class _p{}let UI=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function cb(){const s=De(),a=xr(bn().index,s);return function jI(s){return s[11]}(Ti(a)?a:s)}(),s})(),mh=(()=>{class s{}return s.\u0275prov=sn({token:s,providedIn:"root",factory:()=>null}),s})();class sl{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const Uv=new sl("13.2.7"),Xa={};function vp(s,o,a,l,d=!1){for(;null!==a;){const g=o[a.index];if(null!==g&&l.push(un(g)),fi(g))for(let E=10;E<g.length;E++){const D=g[E],T=D[1].firstChild;null!==T&&vp(D[1],D,T,l)}const v=a.type;if(8&v)vp(s,o,a.child,l);else if(32&v){const E=Ke(a,o);let D;for(;D=E();)l.push(D)}else if(16&v){const E=Og(o,a);if(Array.isArray(E))l.push(...E);else{const D=xn(o[16]);vp(D[1],D,E,l,!0)}}a=d?a.projectionNext:a.next}return l}class ua{constructor(o,a){this._lView=o,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,a=o[1];return vp(a,o,a.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(fi(o)){const a=o[8],l=a?a.indexOf(this):-1;l>-1&&(r_(o,l),ar(a,l))}this._attachedToViewContainer=!1}pw(this._lView[1],this._lView)}onDestroy(o){qg(this._lView[1],this._lView,null,o)}markForCheck(){Pf(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Kg(this._lView[1],this._lView,this.context)}checkNoChanges(){!function pM(s,o,a){Hs(!0);try{Kg(s,o,a)}finally{Hs(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Oe(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function xg(s,o){Tf(s,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new Oe(902,"");this._appRef=o}}class db extends ua{constructor(o){super(o),this._view=o}detectChanges(){Gw(this._view)}checkNoChanges(){!function ZC(s){Hs(!0);try{Gw(s)}finally{Hs(!1)}}(this._view)}get context(){return null}}class jv extends yp{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const a=Zt(o);return new er(a,this.ngModule)}}function yh(s){const o=[];for(let a in s)s.hasOwnProperty(a)&&o.push({propName:s[a],templateName:a});return o}class er extends Lv{constructor(o,a){super(),this.componentDef=o,this.ngModule=a,this.componentType=o.type,this.selector=function l_(s){return s.map(EC).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!a}get inputs(){return yh(this.componentDef.inputs)}get outputs(){return yh(this.componentDef.outputs)}create(o,a,l,d){const g=(d=d||this.ngModule)?function HI(s,o){return{get:(a,l,d)=>{const g=s.get(a,Xa,d);return g!==Xa||l===Xa?g:o.get(a,l,d)}}}(o,d.injector):o,v=g.get(_p,$o),E=g.get(mh,null),D=v.createRenderer(null,this.componentDef),T=this.componentDef.selectors[0][0]||"div",x=l?function Lw(s,o,a){if(_n(s))return s.selectRootElement(o,a===Kt.ShadowDom);let l="string"==typeof o?s.querySelector(o):o;return l.textContent="",l}(D,l,this.componentDef.encapsulation):Uu(v.createRenderer(null,this.componentDef),T,function $I(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(T)),P=this.componentDef.onPush?576:528,U=function nm(s,o){return{components:[],scheduler:s||Fr,clean:YC,playerHandler:o||null,flags:0}}(),Z=Gg(0,null,null,1,0,null,null,null,null,null),ye=Of(null,Z,U,P,null,null,v,D,E,g);let Pe,je;ho(ye);try{const tt=function L_(s,o,a,l,d,g){const v=a[1];a[20]=s;const D=Ud(v,20,2,"#host",null),T=D.mergedAttrs=o.hostAttrs;null!==T&&(Yg(D,T,!0),null!==s&&(Bl(d,s,T),null!==D.classes&&Pg(d,s,D.classes),null!==D.styles&&kg(d,s,D.styles)));const x=l.createRenderer(s,o),P=Of(a,Pw(o),null,o.onPush?64:16,a[20],D,l,x,g||null,null);return v.firstCreatePass&&(Hn(Sa(D,a),v,o.type),jw(v,D),T_(D,a.length,1)),Wg(a,P),a[20]=P}(x,this.componentDef,ye,v,D);if(x)if(l)Bl(D,x,["ng-version",Uv.full]);else{const{attrs:Ce,classes:gt}=function ju(s){const o=[],a=[];let l=1,d=2;for(;l<s.length;){let g=s[l];if("string"==typeof g)2===d?""!==g&&o.push(g,s[++l]):8===d&&a.push(g);else{if(!Gi(d))break;d=g}l++}return{attrs:o,classes:a}}(this.componentDef.selectors[0]);Ce&&Bl(D,x,Ce),gt&&gt.length>0&&Pg(D,x,gt.join(" "))}if(je=ba(Z,20),void 0!==a){const Ce=je.projection=[];for(let gt=0;gt<this.ngContentSelectors.length;gt++){const Ut=a[gt];Ce.push(null!=Ut?Array.from(Ut):null)}}Pe=function Vf(s,o,a,l,d){const g=a[1],v=function BC(s,o,a){const l=bn();s.firstCreatePass&&(a.providersResolver&&a.providersResolver(a),S_(s,l,o,jd(s,o,1,null),a));const d=cs(o,s,l.directiveStart,l);Er(d,o);const g=Mr(l,o);return g&&Er(g,o),d}(g,a,o);if(l.components.push(v),s[8]=v,d&&d.forEach(D=>D(v,o)),o.contentQueries){const D=bn();o.contentQueries(1,v,D.directiveStart)}const E=bn();return!g.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(zs(E.index),Bw(a[1],E,0,E.directiveStart,E.directiveEnd,o),dc(o,v)),v}(tt,this.componentDef,ye,U,[V_]),Nf(Z,ye,null)}finally{po()}return new GI(this.componentType,Pe,ph(je,ye),ye,je)}}class GI extends class to{}{constructor(o,a,l,d,g){super(),this.location=l,this._rootLView=d,this._tNode=g,this.instance=a,this.hostView=this.changeDetectorRef=new db(d),this.componentType=o}get injector(){return new ds(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}class _h{}class Gv{}const Rc=new Map;class Gm extends _h{constructor(o,a){super(),this._parent=a,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new jv(this);const l=gn(o);this._bootstrapComponents=m(l.bootstrap),this._r3Injector=Qg(o,a,[{provide:_h,useValue:this},{provide:yp,useValue:this.componentFactoryResolver}],he(o)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(o)}get(o,a=Mo.THROW_IF_NOT_FOUND,l=dt.Default){return o===Mo||o===_h||o===_e?this:this._r3Injector.get(o,a,l)}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class zv extends Gv{constructor(o){super(),this.moduleType=o,null!==gn(o)&&function hb(s){const o=new Set;!function a(l){const d=gn(l,!0),g=d.id;null!==g&&(function ol(s,o,a){if(o&&o!==a)throw new Error(`Duplicate module registered for ${s} - ${he(o)} vs ${he(o.name)}`)}(g,Rc.get(g),l),Rc.set(g,l));const v=m(d.imports);for(const E of v)o.has(E)||(o.add(E),a(E))}(s)}(o)}create(o){return new Gm(this.moduleType,o)}}function Jt(s,o,a,l){return mb(De(),vr(),s,o,a,l)}function la(s,o){const a=s[o];return a===Pt?void 0:a}function mb(s,o,a,l,d,g){const v=o+a;return ni(s,v,d)?eo(s,v+1,g?l.call(g,d):l(d)):la(s,v+1)}function Ds(s,o,a,l,d,g,v){const E=o+a;return function fc(s,o,a,l){const d=ni(s,o,a);return ni(s,o+1,l)||d}(s,E,d,g)?eo(s,E+2,v?l.call(v,d,g):l(d,g)):la(s,E+2)}function _b(s,o){const a=Vt();let l;const d=s+20;a.firstCreatePass?(l=function zI(s,o){if(o)for(let a=o.length-1;a>=0;a--){const l=o[a];if(s===l.name)return l}}(o,a.pipeRegistry),a.data[d]=l,l.onDestroy&&(a.destroyHooks||(a.destroyHooks=[])).push(d,l.onDestroy)):l=a.data[d];const g=l.factory||(l.factory=Yr(l.type)),v=Kn(Ga);try{const E=mo(!1),D=g();return mo(E),function lm(s,o,a,l){a>=s.data.length&&(s.data[a]=null,s.blueprint[a]=null),o[a]=l}(a,De(),d,D),D}finally{Kn(v)}}function fn(s,o,a){const l=s+20,d=De(),g=Si(d,l);return ul(d,l)?mb(d,vr(),o,g.transform,a,g):g.transform(a)}function vb(s,o,a,l){const d=s+20,g=De(),v=Si(g,d);return ul(g,d)?Ds(g,vr(),o,v.transform,a,l,v):v.transform(a,l)}function ul(s,o){return s[1].data[o].pure}function Km(s){return o=>{setTimeout(s,void 0,o)}}const ko=class wb extends p.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,a,l){var d,g,v;let E=o,D=a||(()=>null),T=l;if(o&&"object"==typeof o){const P=o;E=null===(d=P.next)||void 0===d?void 0:d.bind(P),D=null===(g=P.error)||void 0===g?void 0:g.bind(P),T=null===(v=P.complete)||void 0===v?void 0:v.bind(P)}this.__isAsync&&(D=Km(D),E&&(E=Km(E)),T&&(T=Km(T)));const x=super.subscribe({next:E,error:D,complete:T});return o instanceof Y.w0&&o.add(x),x}};function WI(){return this._results[qd()]()}class Zm{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=qd(),l=Zm.prototype;l[a]||(l[a]=WI)}get changes(){return this._changes||(this._changes=new ko)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,a){return this._results.reduce(o,a)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,a){const l=this;l.dirty=!1;const d=Cn(o);(this._changesDetected=!function wo(s,o,a){if(s.length!==o.length)return!1;for(let l=0;l<s.length;l++){let d=s[l],g=o[l];if(a&&(d=a(d),g=a(g)),g!==d)return!1}return!0}(l._results,d,a))&&(l._results=d,l.length=d.length,l.last=d[this.length-1],l.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let wh=(()=>{class s{}return s.__NG_ELEMENT_ID__=YI,s})();const KI=wh,ZI=class extends KI{constructor(o,a,l){super(),this._declarationLView=o,this._declarationTContainer=a,this.elementRef=l}createEmbeddedView(o){const a=this._declarationTContainer.tViews,l=Of(this._declarationLView,a,o,16,null,a.declTNode,null,null,null,null);l[17]=this._declarationLView[this._declarationTContainer.index];const g=this._declarationLView[19];return null!==g&&(l[19]=g.createEmbeddedView(a)),Nf(a,l,o),new ua(l)}};function YI(){return ll(bn(),De())}function ll(s,o){return 4&s.type?new ZI(o,s,ph(s,o)):null}let bp=(()=>{class s{}return s.__NG_ELEMENT_ID__=QI,s})();function QI(){return Po(bn(),De())}const zr=bp,Ym=class extends zr{constructor(o,a,l){super(),this._lContainer=o,this._hostTNode=a,this._hostLView=l}get element(){return ph(this._hostTNode,this._hostLView)}get injector(){return new ds(this._hostTNode,this._hostLView)}get parentInjector(){const o=Nr(this._hostTNode,this._hostLView);if(sd(o)){const a=ls(o,this._hostLView),l=yn(o);return new ds(a[1].data[l+8],a)}return new ds(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const a=Wv(this._lContainer);return null!==a&&a[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,a,l){const d=o.createEmbeddedView(a||{});return this.insert(d,l),d}createComponent(o,a,l,d,g){const v=o&&!function jr(s){return"function"==typeof s}(o);let E;if(v)E=a;else{const P=a||{};E=P.index,l=P.injector,d=P.projectableNodes,g=P.ngModuleRef}const D=v?o:new er(Zt(o)),T=l||this.parentInjector;if(!g&&null==D.ngModule){const U=(v?T:this.parentInjector).get(_h,null);U&&(g=U)}const x=D.create(T,d,void 0,g);return this.insert(x.hostView,E),x}insert(o,a){const l=o._lView,d=l[1];if(function mu(s){return fi(s[3])}(l)){const x=this.indexOf(o);if(-1!==x)this.detach(x);else{const P=l[3],U=new Ym(P,P[6],P[3]);U.detach(U.indexOf(o))}}const g=this._adjustIndex(a),v=this._lContainer;!function cC(s,o,a,l){const d=10+l,g=a.length;l>0&&(a[d-1][4]=o),l<g-10?(o[4]=a[d],cd(a,10+l,o)):(a.push(o),o[4]=null),o[3]=a;const v=o[17];null!==v&&a!==v&&function dC(s,o){const a=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===a?s[9]=[o]:a.push(o)}(v,o);const E=o[19];null!==E&&E.insertView(s),o[2]|=128}(d,l,v,g);const E=If(g,v),D=l[11],T=Df(D,v[7]);return null!==T&&function Od(s,o,a,l,d,g){l[0]=d,l[6]=o,Tf(s,l,a,1,d,g)}(d,v[6],D,l,T,E),o.attachToViewContainerRef(),cd(Oc(v),g,o),o}move(o,a){return this.insert(o,a)}indexOf(o){const a=Wv(this._lContainer);return null!==a?a.indexOf(o):-1}remove(o){const a=this._adjustIndex(o,-1),l=r_(this._lContainer,a);l&&(ar(Oc(this._lContainer),a),pw(l[1],l))}detach(o){const a=this._adjustIndex(o,-1),l=r_(this._lContainer,a);return l&&null!=ar(Oc(this._lContainer),a)?new ua(l):null}_adjustIndex(o,a=0){return null==o?this.length+a:o}};function Wv(s){return s[8]}function Oc(s){return s[8]||(s[8]=[])}function Po(s,o){let a;const l=o[s.index];if(fi(l))a=l;else{let d;if(8&s.type)d=un(l);else{const g=o[11];d=g.createComment("");const v=Mr(s,o);Ua(g,Df(g,v),d,function pC(s,o){return _n(s)?s.nextSibling(o):o.nextSibling}(g,v),!1)}o[s.index]=a=$d(l,o,d,s),Wg(o,a)}return new Ym(a,s,o)}class Jm{constructor(o){this.queryList=o,this.matches=null}clone(){return new Jm(this.queryList)}setDirty(){this.queryList.setDirty()}}class Xm{constructor(o=[]){this.queries=o}createEmbeddedView(o){const a=o.queries;if(null!==a){const l=null!==o.contentQueries?o.contentQueries[0]:a.length,d=[];for(let g=0;g<l;g++){const v=a.getByIndex(g);d.push(this.queries[v.indexInDeclarationView].clone())}return new Xm(d)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let a=0;a<this.queries.length;a++)null!==Ab(o,a).matches&&this.queries[a].setDirty()}}class Zv{constructor(o,a,l=null){this.predicate=o,this.flags=a,this.read=l}}class Yv{constructor(o=[]){this.queries=o}elementStart(o,a){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(o,a)}elementEnd(o){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(o)}embeddedTView(o){let a=null;for(let l=0;l<this.length;l++){const d=null!==a?a.length:0,g=this.getByIndex(l).embeddedTView(o,d);g&&(g.indexInDeclarationView=l,null!==a?a.push(g):a=[g])}return null!==a?new Yv(a):null}template(o,a){for(let l=0;l<this.queries.length;l++)this.queries[l].template(o,a)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class Qv{constructor(o,a=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(o,a){this.isApplyingToNode(a)&&this.matchTNode(o,a)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,a){this.elementStart(o,a)}embeddedTView(o,a){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,a),new Qv(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let l=o.parent;for(;null!==l&&8&l.type&&l.index!==a;)l=l.parent;return a===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(o,a){const l=this.metadata.predicate;if(Array.isArray(l))for(let d=0;d<l.length;d++){const g=l[d];this.matchTNodeWithReadOption(o,a,Dp(a,g)),this.matchTNodeWithReadOption(o,a,ad(a,o,g,!1,!1))}else l===wh?4&a.type&&this.matchTNodeWithReadOption(o,a,-1):this.matchTNodeWithReadOption(o,a,ad(a,o,l,!1,!1))}matchTNodeWithReadOption(o,a,l){if(null!==l){const d=this.metadata.read;if(null!==d)if(d===gh||d===bp||d===wh&&4&a.type)this.addMatch(a.index,-2);else{const g=ad(a,o,d,!1,!1);null!==g&&this.addMatch(a.index,g)}else this.addMatch(a.index,l)}}addMatch(o,a){null===this.matches?this.matches=[o,a]:this.matches.push(o,a)}}function Dp(s,o){const a=s.localNames;if(null!==a)for(let l=0;l<a.length;l+=2)if(a[l]===o)return a[l+1];return null}function JI(s,o,a,l){return-1===a?function Jv(s,o){return 11&s.type?ph(s,o):4&s.type?ll(s,o):null}(o,s):-2===a?function bb(s,o,a){return a===gh?ph(o,s):a===wh?ll(o,s):a===bp?Po(o,s):void 0}(s,o,l):cs(s,s[1],a,o)}function Xv(s,o,a,l){const d=o[19].queries[l];if(null===d.matches){const g=s.data,v=a.matches,E=[];for(let D=0;D<v.length;D+=2){const T=v[D];E.push(T<0?null:JI(o,g[T],v[D+1],a.metadata.read))}d.matches=E}return d.matches}function ey(s,o,a,l){const d=s.queries.getByIndex(a),g=d.matches;if(null!==g){const v=Xv(s,o,d,a);for(let E=0;E<g.length;E+=2){const D=g[E];if(D>0)l.push(v[E/2]);else{const T=g[E+1],x=o[-D];for(let P=10;P<x.length;P++){const U=x[P];U[17]===U[3]&&ey(U[1],U,T,l)}if(null!==x[9]){const P=x[9];for(let U=0;U<P.length;U++){const Z=P[U];ey(Z[1],Z,T,l)}}}}}return l}function Db(s){const o=De(),a=Vt(),l=Ol();Nl(l+1);const d=Ab(a,l);if(s.dirty&&Us(o)===(2==(2&d.metadata.flags))){if(null===d.matches)s.reset([]);else{const g=d.crossesNgTemplate?ey(a,o,l,[]):Xv(a,o,d,l);s.reset(g,lb),s.notifyOnChanges()}return!0}return!1}function Ib(s,o,a,l){const d=Vt();if(d.firstCreatePass){const g=bn();(function Sb(s,o,a){null===s.queries&&(s.queries=new Yv),s.queries.track(new Qv(o,a))})(d,new Zv(o,a,l),g.index),function XI(s,o){const a=s.contentQueries||(s.contentQueries=[]);o!==(a.length?a[a.length-1]:-1)&&a.push(s.queries.length-1,o)}(d,s),2==(2&a)&&(d.staticContentQueries=!0)}!function Nc(s,o,a){const l=new Zm(4==(4&a));qg(s,o,l,l.destroy),null===o[19]&&(o[19]=new Xm),o[19].queries.push(new Jm(l))}(d,De(),a)}function Tb(){return function Eh(s,o){return s[19].queries[o].queryList}(De(),Ol())}function Ab(s,o){return s.queries.getByIndex(o)}function Th(...s){}const Ub=new Fn("Application Initializer");let ay=(()=>{class s{constructor(a){this.appInits=a,this.resolve=Th,this.reject=Th,this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,d)=>{this.resolve=l,this.reject=d})}runInitializers(){if(this.initialized)return;const a=[],l=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let d=0;d<this.appInits.length;d++){const g=this.appInits[d]();if(xo(g))a.push(g);else if(Xf(g)){const v=new Promise((E,D)=>{g.subscribe({complete:E,error:D})});a.push(v)}}Promise.all(a).then(()=>{l()}).catch(d=>{this.reject(d)}),0===a.length&&l(),this.initialized=!0}}return s.\u0275fac=function(a){return new(a||s)(st(Ub,8))},s.\u0275prov=sn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const d0=new Fn("AppId",{providedIn:"root",factory:function uy(){return`${eu()}${eu()}${eu()}`}});function eu(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const jb=new Fn("Platform Initializer"),h0=new Fn("Platform ID"),$b=new Fn("appBootstrapListener");let Hb=(()=>{class s{log(a){console.log(a)}warn(a){console.warn(a)}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=sn({token:s,factory:s.\u0275fac}),s})();const da=new Fn("LocaleId",{providedIn:"root",factory:()=>Bt(da,dt.Optional|dt.SkipSelf)||function Tp(){return"undefined"!=typeof $localize&&$localize.locale||Rm}()}),Pc=new Fn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class f0{constructor(o,a){this.ngModuleFactory=o,this.componentFactories=a}}let Sh=(()=>{class s{compileModuleSync(a){return new zv(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const l=this.compileModuleSync(a),g=m(gn(a).declarations).reduce((v,E)=>{const D=Zt(E);return D&&v.push(new er(D)),v},[]);return new f0(l,g)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=sn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const Sp=(()=>Promise.resolve(0))();function Ah(s){"undefined"==typeof Zone?Sp.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class ro{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ko(!1),this.onMicrotaskEmpty=new ko(!1),this.onStable=new ko(!1),this.onError=new ko(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!l&&a,d.shouldCoalesceRunChangeDetection=l,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function cy(){let s=zt.requestAnimationFrame,o=zt.cancelAnimationFrame;if("undefined"!=typeof Zone&&s&&o){const a=s[Zone.__symbol__("OriginalDelegate")];a&&(s=a);const l=o[Zone.__symbol__("OriginalDelegate")];l&&(o=l)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function p0(s){const o=()=>{!function hy(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(zt,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,fy(s),s.isCheckStableRunning=!0,dy(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),fy(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,l,d,g,v,E)=>{try{return tu(s),a.invokeTask(d,g,v,E)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||s.shouldCoalesceRunChangeDetection)&&o(),Fc(s)}},onInvoke:(a,l,d,g,v,E,D)=>{try{return tu(s),a.invoke(d,g,v,E,D)}finally{s.shouldCoalesceRunChangeDetection&&o(),Fc(s)}},onHasTask:(a,l,d,g)=>{a.hasTask(d,g),l===d&&("microTask"==g.change?(s._hasPendingMicrotasks=g.microTask,fy(s),dy(s)):"macroTask"==g.change&&(s.hasPendingMacrotasks=g.macroTask))},onHandleError:(a,l,d,g)=>(a.handleError(d,g),s.runOutsideAngular(()=>s.onError.emit(g)),!1)})}(d)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ro.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(ro.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(o,a,l){return this._inner.run(o,a,l)}runTask(o,a,l,d){const g=this._inner,v=g.scheduleEventTask("NgZoneEvent: "+d,o,zi,Th,Th);try{return g.runTask(v,a,l)}finally{g.cancelTask(v)}}runGuarded(o,a,l){return this._inner.runGuarded(o,a,l)}runOutsideAngular(o){return this._outer.run(o)}}const zi={};function dy(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function fy(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function tu(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function Fc(s){s._nesting--,dy(s)}class Gb{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ko,this.onMicrotaskEmpty=new ko,this.onStable=new ko,this.onError=new ko}run(o,a,l){return o.apply(a,l)}runGuarded(o,a,l){return o.apply(a,l)}runOutsideAngular(o){return o()}runTask(o,a,l,d){return o.apply(a,l)}}let fl=(()=>{class s{constructor(a){this._ngZone=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ro.assertNotInAngularZone(),Ah(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Ah(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(a)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,l,d){let g=-1;l&&l>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==g),a(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:a,timeoutId:g,updateCb:d})}whenStable(a,l,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,l,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(a,l,d){return[]}}return s.\u0275fac=function(a){return new(a||s)(st(ro))},s.\u0275prov=sn({token:s,factory:s.\u0275fac}),s})(),qb=(()=>{class s{constructor(){this._applications=new Map,ha.addToWindow(this)}registerApplication(a,l){this._applications.set(a,l)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,l=!0){return ha.findTestabilityInTree(this,a,l)}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=sn({token:s,factory:s.\u0275fac}),s})();class Mh{addToWindow(o){}findTestabilityInTree(o,a,l){return null}}function zb(s){ha=s}let oi,ha=new Mh;const Wb=new Fn("AllowMultipleToken");class _T{constructor(o,a){this.name=o,this.token=a}}function Ap(s,o,a=[]){const l=`Platform: ${o}`,d=new Fn(l);return(g=[])=>{let v=Zb();if(!v||v.injector.get(Wb,!1))if(s)s(a.concat(g).concat({provide:d,useValue:!0}));else{const E=a.concat(g).concat({provide:d,useValue:!0},{provide:Hd,useValue:"platform"});!function vT(s){if(oi&&!oi.destroyed&&!oi.injector.get(Wb,!1))throw new Oe(400,"");oi=s.get(m0);const o=s.get(jb,null);o&&o.forEach(a=>a())}(Mo.create({providers:E,name:l}))}return function Kb(s){const o=Zb();if(!o)throw new Oe(401,"");return o}()}}function Zb(){return oi&&!oi.destroyed?oi:null}let m0=(()=>{class s{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,l){const E=function Lc(s,o){let a;return a="noop"===s?new Gb:("zone.js"===s?void 0:s)||new ro({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==o?void 0:o.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==o?void 0:o.ngZoneRunCoalescing)}),a}(l?l.ngZone:void 0,{ngZoneEventCoalescing:l&&l.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:l&&l.ngZoneRunCoalescing||!1}),D=[{provide:ro,useValue:E}];return E.run(()=>{const T=Mo.create({providers:D,parent:this.injector,name:a.moduleType.name}),x=a.create(T),P=x.injector.get(Vn,null);if(!P)throw new Oe(402,"");return E.runOutsideAngular(()=>{const U=E.onError.subscribe({next:Z=>{P.handleError(Z)}});x.onDestroy(()=>{_0(this._modules,x),U.unsubscribe()})}),function Mp(s,o,a){try{const l=a();return xo(l)?l.catch(d=>{throw o.runOutsideAngular(()=>s.handleError(d)),d}):l}catch(l){throw o.runOutsideAngular(()=>s.handleError(l)),l}}(P,E,()=>{const U=x.injector.get(ay);return U.runInitializers(),U.donePromise.then(()=>(function zE(s){ct(s,"Expected localeId to be defined"),"string"==typeof s&&(Ec=s.toLowerCase().replace(/_/g,"-"))}(x.injector.get(da,Rm)||Rm),this._moduleDoBootstrap(x),x))})})}bootstrapModule(a,l=[]){const d=y0({},l);return function g0(s,o,a){const l=new zv(a);return Promise.resolve(l)}(0,0,a).then(g=>this.bootstrapModuleFactory(g,d))}_moduleDoBootstrap(a){const l=a.injector.get(py);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(d=>l.bootstrap(d));else{if(!a.instance.ngDoBootstrap)throw new Oe(403,"");a.instance.ngDoBootstrap(l)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Oe(404,"");this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(a){return new(a||s)(st(Mo))},s.\u0275prov=sn({token:s,factory:s.\u0275fac}),s})();function y0(s,o){return Array.isArray(o)?o.reduce(y0,s):Object.assign(Object.assign({},s),o)}let py=(()=>{class s{constructor(a,l,d,g,v){this._zone=a,this._injector=l,this._exceptionHandler=d,this._componentFactoryResolver=g,this._initStatus=v,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const E=new N.y(T=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{T.next(this._stable),T.complete()})}),D=new N.y(T=>{let x;this._zone.runOutsideAngular(()=>{x=this._zone.onStable.subscribe(()=>{ro.assertNotInAngularZone(),Ah(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,T.next(!0))})})});const P=this._zone.onUnstable.subscribe(()=>{ro.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{T.next(!1)}))});return()=>{x.unsubscribe(),P.unsubscribe()}});this.isStable=(0,ue.T)(E,D.pipe((0,X.B)()))}bootstrap(a,l){if(!this._initStatus.done)throw new Oe(405,"");let d;d=a instanceof Lv?a:this._componentFactoryResolver.resolveComponentFactory(a),this.componentTypes.push(d.componentType);const g=function yT(s){return s.isBoundToModule}(d)?void 0:this._injector.get(_h),E=d.create(Mo.NULL,[],l||d.selector,g),D=E.location.nativeElement,T=E.injector.get(fl,null),x=T&&E.injector.get(qb);return T&&x&&x.registerApplication(D,T),E.onDestroy(()=>{this.detachView(E.hostView),_0(this.components,E),x&&x.unregisterApplication(D)}),this._loadComponent(E),E}tick(){if(this._runningTick)throw new Oe(101,"");try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const l=a;this._views.push(l),l.attachToAppRef(this)}detachView(a){const l=a;_0(this._views,l),l.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a),this._injector.get($b,[]).concat(this._bootstrapListeners).forEach(d=>d(a))}ngOnDestroy(){this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return s.\u0275fac=function(a){return new(a||s)(st(ro),st(Mo),st(Vn),st(yp),st(ay))},s.\u0275prov=sn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function _0(s,o){const a=s.indexOf(o);a>-1&&s.splice(a,1)}let gy=!0,xh=!1;function my(){return xh=!0,gy}function E0(){if(xh)throw new Error("Cannot enable prod mode after platform setup.");gy=!1}let wT=(()=>{class s{}return s.__NG_ELEMENT_ID__=Qb,s})();function Qb(s){return function Jb(s,o,a){if(Ps(s)&&!a){const l=xr(s.index,o);return new ua(l,l)}return 47&s.type?new ua(o[16],o):null}(bn(),De(),16==(16&s))}class tD{constructor(){}supports(o){return Wu(o)}create(o){return new IT(o)}}const CT=(s,o)=>o;class IT{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||CT}forEachItem(o){let a;for(a=this._itHead;null!==a;a=a._next)o(a)}forEachOperation(o){let a=this._itHead,l=this._removalsHead,d=0,g=null;for(;a||l;){const v=!l||a&&a.currentIndex<A0(l,d,g)?a:l,E=A0(v,d,g),D=v.currentIndex;if(v===l)d--,l=l._nextRemoved;else if(a=a._next,null==v.previousIndex)d++;else{g||(g=[]);const T=E-d,x=D-d;if(T!=x){for(let U=0;U<T;U++){const Z=U<g.length?g[U]:g[U]=0,ye=Z+U;x<=ye&&ye<T&&(g[U]=Z+1)}g[v.previousIndex]=x-T}}E!==D&&o(v,E,D)}}forEachPreviousItem(o){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachMovedItem(o){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}forEachIdentityChange(o){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)o(a)}diff(o){if(null==o&&(o=[]),!Wu(o))throw new Oe(900,"");return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let d,g,v,a=this._itHead,l=!1;if(Array.isArray(o)){this.length=o.length;for(let E=0;E<this.length;E++)g=o[E],v=this._trackByFn(E,g),null!==a&&Object.is(a.trackById,v)?(l&&(a=this._verifyReinsertion(a,g,v,E)),Object.is(a.item,g)||this._addIdentityChange(a,g)):(a=this._mismatch(a,g,v,E),l=!0),a=a._next}else d=0,function $_(s,o){if(Array.isArray(s))for(let a=0;a<s.length;a++)o(s[a]);else{const a=s[qd()]();let l;for(;!(l=a.next()).done;)o(l.value)}}(o,E=>{v=this._trackByFn(d,E),null!==a&&Object.is(a.trackById,v)?(l&&(a=this._verifyReinsertion(a,E,v,d)),Object.is(a.item,E)||this._addIdentityChange(a,E)):(a=this._mismatch(a,E,v,d),l=!0),a=a._next,d++}),this.length=d;return this._truncate(a),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,a,l,d){let g;return null===o?g=this._itTail:(g=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._reinsertAfter(o,g,d)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(l,d))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._moveAfter(o,g,d)):o=this._addAfter(new TT(a,l),g,d),o}_verifyReinsertion(o,a,l,d){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==g?o=this._reinsertAfter(g,o._prev,d):o.currentIndex!=d&&(o.currentIndex=d,this._addToMoves(o,d)),o}_truncate(o){for(;null!==o;){const a=o._next;this._addToRemovals(this._unlink(o)),o=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,a,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const d=o._prevRemoved,g=o._nextRemoved;return null===d?this._removalsHead=g:d._nextRemoved=g,null===g?this._removalsTail=d:g._prevRemoved=d,this._insertAfter(o,a,l),this._addToMoves(o,l),o}_moveAfter(o,a,l){return this._unlink(o),this._insertAfter(o,a,l),this._addToMoves(o,l),o}_addAfter(o,a,l){return this._insertAfter(o,a,l),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,a,l){const d=null===a?this._itHead:a._next;return o._next=d,o._prev=a,null===d?this._itTail=o:d._prev=o,null===a?this._itHead=o:a._next=o,null===this._linkedRecords&&(this._linkedRecords=new vy),this._linkedRecords.put(o),o.currentIndex=l,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const a=o._prev,l=o._next;return null===a?this._itHead=l:a._next=l,null===l?this._itTail=a:l._prev=a,o}_addToMoves(o,a){return o.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new vy),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,a){return o.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class TT{constructor(o,a){this.item=o,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class ST{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,a){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===a||a<=l.currentIndex)&&Object.is(l.trackById,o))return l;return null}remove(o){const a=o._prevDup,l=o._nextDup;return null===a?this._head=l:a._nextDup=l,null===l?this._tail=a:l._prevDup=a,null===this._head}}class vy{constructor(){this.map=new Map}put(o){const a=o.trackById;let l=this.map.get(a);l||(l=new ST,this.map.set(a,l)),l.add(o)}get(o,a){const d=this.map.get(o);return d?d.get(o,a):null}remove(o){const a=o.trackById;return this.map.get(a).remove(o)&&this.map.delete(a),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function A0(s,o,a){const l=s.previousIndex;if(null===l)return l;let d=0;return a&&l<a.length&&(d=a[l]),l+o+d}class M0{constructor(){}supports(o){return o instanceof Map||jf(o)}create(){return new x0}}class x0{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let a;for(a=this._mapHead;null!==a;a=a._next)o(a)}forEachPreviousItem(o){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)o(a)}forEachChangedItem(o){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}diff(o){if(o){if(!(o instanceof Map||jf(o)))throw new Oe(900,"")}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(o,(l,d)=>{if(a&&a.key===d)this._maybeAddToChanges(a,l),this._appendAfter=a,a=a._next;else{const g=this._getOrCreateRecordForKey(d,l);a=this._insertBeforeOrAppend(a,g)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let l=a;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,a){if(o){const l=o._prev;return a._next=o,a._prev=l,o._prev=a,l&&(l._next=a),o===this._mapHead&&(this._mapHead=a),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(o,a){if(this._records.has(o)){const d=this._records.get(o);this._maybeAddToChanges(d,a);const g=d._prev,v=d._next;return g&&(g._next=v),v&&(v._prev=g),d._next=null,d._prev=null,d}const l=new wy(o);return this._records.set(o,l),l.currentValue=a,this._addToAdditions(l),l}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,a){Object.is(a,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=a,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,a){o instanceof Map?o.forEach(a):Object.keys(o).forEach(l=>a(o[l],l))}}class wy{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Oh(){return new Nh([new tD])}let Nh=(()=>{class s{constructor(a){this.factories=a}static create(a,l){if(null!=l){const d=l.factories.slice();a=a.concat(d)}return new s(a)}static extend(a){return{provide:s,useFactory:l=>s.create(a,l||Oh()),deps:[[s,new Ys,new _i]]}}find(a){const l=this.factories.find(d=>d.supports(a));if(null!=l)return l;throw new Oe(901,"")}}return s.\u0275prov=sn({token:s,providedIn:"root",factory:Oh}),s})();function Ey(){return new Op([new M0])}let Op=(()=>{class s{constructor(a){this.factories=a}static create(a,l){if(l){const d=l.factories.slice();a=a.concat(d)}return new s(a)}static extend(a){return{provide:s,useFactory:l=>s.create(a,l||Ey()),deps:[[s,new Ys,new _i]]}}find(a){const l=this.factories.find(g=>g.supports(a));if(l)return l;throw new Oe(901,"")}}return s.\u0275prov=sn({token:s,providedIn:"root",factory:Ey}),s})();const xT=Ap(null,"core",[{provide:h0,useValue:"unknown"},{provide:m0,deps:[Mo]},{provide:qb,deps:[]},{provide:Hb,deps:[]}]);let iD=(()=>{class s{constructor(a){}}return s.\u0275fac=function(a){return new(a||s)(st(py))},s.\u0275mod=Q({type:s}),s.\u0275inj=en({}),s})()},3942:(lt,Se,k)=>{k.d(Se,{Z:()=>Oe});var p=k(2090),Y=k(4859),N=k(9681),ue=k(1877);class X{constructor(fe,be){this._delegate=fe,this.firebase=be,(0,N._addComponent)(fe,new Y.wA("app-compat",()=>this,"PUBLIC")),this.container=fe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(fe){this._delegate.automaticDataCollectionEnabled=fe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(fe=>{this._delegate.checkDestroyed(),fe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,N.deleteApp)(this._delegate)))}_getService(fe,be=N._DEFAULT_ENTRY_NAME){var rt;this._delegate.checkDestroyed();const Ye=this._delegate.container.getProvider(fe);return!Ye.isInitialized()&&"EXPLICIT"===(null===(rt=Ye.getComponent())||void 0===rt?void 0:rt.instantiationMode)&&Ye.initialize(),Ye.getImmediate({identifier:be})}_removeServiceInstance(fe,be=N._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(fe).clearInstance(be)}_addComponent(fe){(0,N._addComponent)(this._delegate,fe)}_addOrOverwriteComponent(fe){(0,N._addOrOverwriteComponent)(this._delegate,fe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const re=new p.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),$=function le(){const Le=function he(Le){const fe={},be={__esModule:!0,initializeApp:function Ie(He,ne={}){const K=N.initializeApp(He,ne);if((0,p.r3)(fe,K.name))return fe[K.name];const ie=new Le(K,be);return fe[K.name]=ie,ie},app:Ye,registerVersion:N.registerVersion,setLogLevel:N.setLogLevel,onLog:N.onLog,apps:null,SDK_VERSION:N.SDK_VERSION,INTERNAL:{registerComponent:function we(He){const ne=He.name,K=ne.replace("-compat","");if(N._registerComponent(He)&&"PUBLIC"===He.type){const ie=(me=Ye())=>{if("function"!=typeof me[K])throw re.create("invalid-app-argument",{appName:ne});return me[K]()};void 0!==He.serviceProps&&(0,p.ZB)(ie,He.serviceProps),be[K]=ie,Le.prototype[K]=function(...me){return this._getService.bind(this,ne).apply(this,He.multipleInstances?me:[])}}return"PUBLIC"===He.type?be[K]:null},removeApp:function rt(He){delete fe[He]},useAsService:function qe(He,ne){return"serverAuth"===ne?null:ne},modularAPIs:N}};function Ye(He){if(!(0,p.r3)(fe,He=He||N._DEFAULT_ENTRY_NAME))throw re.create("no-app",{appName:He});return fe[He]}return be.default=be,Object.defineProperty(be,"apps",{get:function ve(){return Object.keys(fe).map(He=>fe[He])}}),Ye.App=Le,be}(X);return Le.INTERNAL=Object.assign(Object.assign({},Le.INTERNAL),{createFirebaseNamespace:le,extendNamespace:function fe(be){(0,p.ZB)(Le,be)},createSubscribe:p.ne,ErrorFactory:p.LL,deepExtend:p.ZB}),Le}(),H=new ue.Yd("@firebase/app-compat");if((0,p.jU)()&&void 0!==self.firebase){H.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Le=self.firebase.SDK_VERSION;Le&&Le.indexOf("LITE")>=0&&H.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Oe=$;!function Ae(Le){(0,N.registerVersion)("@firebase/app-compat","0.1.22",Le)}()},9681:(lt,Se,k)=>{k.r(Se),k.d(Se,{FirebaseError:()=>ue.ZR,SDK_VERSION:()=>Br,_DEFAULT_ENTRY_NAME:()=>Nn,_addComponent:()=>hn,_addOrOverwriteComponent:()=>Ii,_apps:()=>wt,_clearComponents:()=>Wt,_components:()=>dn,_getProvider:()=>Zi,_registerComponent:()=>sn,_removeServiceInstance:()=>en,deleteApp:()=>Qi,getApp:()=>Ur,getApps:()=>Yi,initializeApp:()=>Fi,onLog:()=>rr,registerVersion:()=>Kr,setLogLevel:()=>Kn});var p=k(5861),Y=k(4859),N=k(1877),ue=k(2090);class X{constructor(Te){this.container=Te}getPlatformInfoString(){return this.container.getProviders().map(nt=>{if(function ge(Qe){const Te=Qe.getComponent();return"VERSION"===(null==Te?void 0:Te.type)}(nt)){const ft=nt.getImmediate();return`${ft.library}/${ft.version}`}return null}).filter(nt=>nt).join(" ")}}const re="@firebase/app",le=new N.Yd("@firebase/app"),Nn="[DEFAULT]",ct={[re]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},wt=new Map,dn=new Map;function hn(Qe,Te){try{Qe.container.addComponent(Te)}catch(nt){le.debug(`Component ${Te.name} failed to register with FirebaseApp ${Qe.name}`,nt)}}function Ii(Qe,Te){Qe.container.addOrOverwriteComponent(Te)}function sn(Qe){const Te=Qe.name;if(dn.has(Te))return le.debug(`There were multiple attempts to register component ${Te}.`),!1;dn.set(Te,Qe);for(const nt of wt.values())hn(nt,Qe);return!0}function Zi(Qe,Te){const nt=Qe.container.getProvider("heartbeat").getImmediate({optional:!0});return nt&&nt.triggerHeartbeat(),Qe.container.getProvider(Te)}function en(Qe,Te,nt=Nn){Zi(Qe,Te).clearInstance(nt)}function Wt(){dn.clear()}const li=new ue.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class xs{constructor(Te,nt,ft){this._isDeleted=!1,this._options=Object.assign({},Te),this._config=Object.assign({},nt),this._name=nt.name,this._automaticDataCollectionEnabled=nt.automaticDataCollectionEnabled,this._container=ft,this.container.addComponent(new Y.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Te){this.checkDestroyed(),this._automaticDataCollectionEnabled=Te}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Te){this._isDeleted=Te}checkDestroyed(){if(this.isDeleted)throw li.create("app-deleted",{appName:this._name})}}const Br="9.6.11";function Fi(Qe,Te={}){"object"!=typeof Te&&(Te={name:Te});const nt=Object.assign({name:Nn,automaticDataCollectionEnabled:!1},Te),ft=nt.name;if("string"!=typeof ft||!ft)throw li.create("bad-app-name",{appName:String(ft)});const Gt=wt.get(ft);if(Gt){if((0,ue.vZ)(Qe,Gt.options)&&(0,ue.vZ)(nt,Gt.config))return Gt;throw li.create("duplicate-app",{appName:ft})}const Lt=new Y.H0(ft);for(const V of dn.values())Lt.addComponent(V);const j=new xs(Qe,nt,Lt);return wt.set(ft,j),j}function Ur(Qe=Nn){const Te=wt.get(Qe);if(!Te)throw li.create("no-app",{appName:Qe});return Te}function Yi(){return Array.from(wt.values())}function Qi(Qe){return dt.apply(this,arguments)}function dt(){return(dt=(0,p.Z)(function*(Qe){const Te=Qe.name;wt.has(Te)&&(wt.delete(Te),yield Promise.all(Qe.container.getProviders().map(nt=>nt.delete())),Qe.isDeleted=!0)})).apply(this,arguments)}function Kr(Qe,Te,nt){var ft;let Gt=null!==(ft=ct[Qe])&&void 0!==ft?ft:Qe;nt&&(Gt+=`-${nt}`);const Lt=Gt.match(/\s|\//),j=Te.match(/\s|\//);if(Lt||j){const V=[`Unable to register library "${Gt}" with version "${Te}":`];return Lt&&V.push(`library name "${Gt}" contains illegal characters (whitespace or "/")`),Lt&&j&&V.push("and"),j&&V.push(`version name "${Te}" contains illegal characters (whitespace or "/")`),void le.warn(V.join(" "))}sn(new Y.wA(`${Gt}-version`,()=>({library:Gt,version:Te}),"VERSION"))}function rr(Qe,Te){if(null!==Qe&&"function"!=typeof Qe)throw li.create("invalid-log-argument");(0,N.Am)(Qe,Te)}function Kn(Qe){(0,N.Ub)(Qe)}const En="firebase-heartbeat-store";let ir=null;function Rs(){return ir||(ir=(0,ue.X3)("firebase-heartbeat-database",1,(Qe,Te)=>{0===Te&&Qe.createObjectStore(En)}).catch(Qe=>{throw li.create("storage-open",{originalErrorMessage:Qe.message})})),ir}function Kt(){return(Kt=(0,p.Z)(function*(Qe){try{return(yield Rs()).transaction(En).objectStore(En).get(pr(Qe))}catch(Te){throw li.create("storage-get",{originalErrorMessage:Te.message})}})).apply(this,arguments)}function at(Qe,Te){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,p.Z)(function*(Qe,Te){try{const ft=(yield Rs()).transaction(En,"readwrite");return yield ft.objectStore(En).put(Te,pr(Qe)),ft.complete}catch(nt){throw li.create("storage-set",{originalErrorMessage:nt.message})}})).apply(this,arguments)}function pr(Qe){return`${Qe.name}!${Qe.options.appId}`}class so{constructor(Te){this.container=Te,this._heartbeatsCache=null;const nt=this.container.getProvider("app").getImmediate();this._storage=new ht(nt),this._heartbeatsCachePromise=this._storage.read().then(ft=>(this._heartbeatsCache=ft,ft))}triggerHeartbeat(){var Te=this;return(0,p.Z)(function*(){const ft=Te.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Gt=Ir();if(null===Te._heartbeatsCache&&(Te._heartbeatsCache=yield Te._heartbeatsCachePromise),Te._heartbeatsCache.lastSentHeartbeatDate!==Gt&&!Te._heartbeatsCache.heartbeats.some(Lt=>Lt.date===Gt))return Te._heartbeatsCache.heartbeats.push({date:Gt,agent:ft}),Te._heartbeatsCache.heartbeats=Te._heartbeatsCache.heartbeats.filter(Lt=>{const j=new Date(Lt.date).valueOf();return Date.now()-j<=2592e6}),Te._storage.overwrite(Te._heartbeatsCache)})()}getHeartbeatsHeader(){var Te=this;return(0,p.Z)(function*(){if(null===Te._heartbeatsCache&&(yield Te._heartbeatsCachePromise),null===Te._heartbeatsCache||0===Te._heartbeatsCache.heartbeats.length)return"";const nt=Ir(),{heartbeatsToSend:ft,unsentEntries:Gt}=function gr(Qe,Te=1024){const nt=[];let ft=Qe.slice();for(const Gt of Qe){const Lt=nt.find(j=>j.agent===Gt.agent);if(Lt){if(Lt.dates.push(Gt.date),Tr(nt)>Te){Lt.dates.pop();break}}else if(nt.push({agent:Gt.agent,dates:[Gt.date]}),Tr(nt)>Te){nt.pop();break}ft=ft.slice(1)}return{heartbeatsToSend:nt,unsentEntries:ft}}(Te._heartbeatsCache.heartbeats),Lt=(0,ue.L)(JSON.stringify({version:2,heartbeats:ft}));return Te._heartbeatsCache.lastSentHeartbeatDate=nt,Gt.length>0?(Te._heartbeatsCache.heartbeats=Gt,yield Te._storage.overwrite(Te._heartbeatsCache)):(Te._heartbeatsCache.heartbeats=[],Te._storage.overwrite(Te._heartbeatsCache)),Lt})()}}function Ir(){return(new Date).toISOString().substring(0,10)}class ht{constructor(Te){this.app=Te,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,p.Z)(function*(){return!!(0,ue.hl)()&&(0,ue.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Te=this;return(0,p.Z)(function*(){return(yield Te._canUseIndexedDBPromise)&&(yield function ma(Qe){return Kt.apply(this,arguments)}(Te.app))||{heartbeats:[]}})()}overwrite(Te){var nt=this;return(0,p.Z)(function*(){var ft;if(yield nt._canUseIndexedDBPromise){const Lt=yield nt.read();return at(nt.app,{lastSentHeartbeatDate:null!==(ft=Te.lastSentHeartbeatDate)&&void 0!==ft?ft:Lt.lastSentHeartbeatDate,heartbeats:Te.heartbeats})}})()}add(Te){var nt=this;return(0,p.Z)(function*(){var ft;if(yield nt._canUseIndexedDBPromise){const Lt=yield nt.read();return at(nt.app,{lastSentHeartbeatDate:null!==(ft=Te.lastSentHeartbeatDate)&&void 0!==ft?ft:Lt.lastSentHeartbeatDate,heartbeats:[...Lt.heartbeats,...Te.heartbeats]})}})()}}function Tr(Qe){return(0,ue.L)(JSON.stringify({version:2,heartbeats:Qe})).length}!function jt(Qe){sn(new Y.wA("platform-logger",Te=>new X(Te),"PRIVATE")),sn(new Y.wA("heartbeat",Te=>new so(Te),"PRIVATE")),Kr(re,"0.7.21",Qe),Kr(re,"0.7.21","esm2017"),Kr("fire-js","")}("")},4859:(lt,Se,k)=>{k.d(Se,{wA:()=>N,H0:()=>he});var p=k(5861),Y=k(2090);class N{constructor($,H,J){this.name=$,this.instanceFactory=H,this.type=J,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode($){return this.instantiationMode=$,this}setMultipleInstances($){return this.multipleInstances=$,this}setServiceProps($){return this.serviceProps=$,this}setInstanceCreatedCallback($){return this.onInstanceCreated=$,this}}const ue="[DEFAULT]";class X{constructor($,H){this.name=$,this.container=H,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get($){const H=this.normalizeInstanceIdentifier($);if(!this.instancesDeferred.has(H)){const J=new Y.BH;if(this.instancesDeferred.set(H,J),this.isInitialized(H)||this.shouldAutoInitialize())try{const ze=this.getOrInitializeService({instanceIdentifier:H});ze&&J.resolve(ze)}catch(ze){}}return this.instancesDeferred.get(H).promise}getImmediate($){var H;const J=this.normalizeInstanceIdentifier(null==$?void 0:$.identifier),ze=null!==(H=null==$?void 0:$.optional)&&void 0!==H&&H;if(!this.isInitialized(J)&&!this.shouldAutoInitialize()){if(ze)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:J})}catch(Ae){if(ze)return null;throw Ae}}getComponent(){return this.component}setComponent($){if($.name!==this.name)throw Error(`Mismatching Component ${$.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=$,this.shouldAutoInitialize()){if(function re(le){return"EAGER"===le.instantiationMode}($))try{this.getOrInitializeService({instanceIdentifier:ue})}catch(H){}for(const[H,J]of this.instancesDeferred.entries()){const ze=this.normalizeInstanceIdentifier(H);try{const Ae=this.getOrInitializeService({instanceIdentifier:ze});J.resolve(Ae)}catch(Ae){}}}}clearInstance($=ue){this.instancesDeferred.delete($),this.instancesOptions.delete($),this.instances.delete($)}delete(){var $=this;return(0,p.Z)(function*(){const H=Array.from($.instances.values());yield Promise.all([...H.filter(J=>"INTERNAL"in J).map(J=>J.INTERNAL.delete()),...H.filter(J=>"_delete"in J).map(J=>J._delete())])})()}isComponentSet(){return null!=this.component}isInitialized($=ue){return this.instances.has($)}getOptions($=ue){return this.instancesOptions.get($)||{}}initialize($={}){const{options:H={}}=$,J=this.normalizeInstanceIdentifier($.instanceIdentifier);if(this.isInitialized(J))throw Error(`${this.name}(${J}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ze=this.getOrInitializeService({instanceIdentifier:J,options:H});for(const[Ae,Oe]of this.instancesDeferred.entries())J===this.normalizeInstanceIdentifier(Ae)&&Oe.resolve(ze);return ze}onInit($,H){var J;const ze=this.normalizeInstanceIdentifier(H),Ae=null!==(J=this.onInitCallbacks.get(ze))&&void 0!==J?J:new Set;Ae.add($),this.onInitCallbacks.set(ze,Ae);const Oe=this.instances.get(ze);return Oe&&$(Oe,ze),()=>{Ae.delete($)}}invokeOnInitCallbacks($,H){const J=this.onInitCallbacks.get(H);if(J)for(const ze of J)try{ze($,H)}catch(Ae){}}getOrInitializeService({instanceIdentifier:$,options:H={}}){let J=this.instances.get($);if(!J&&this.component&&(J=this.component.instanceFactory(this.container,{instanceIdentifier:(le=$,le===ue?void 0:le),options:H}),this.instances.set($,J),this.instancesOptions.set($,H),this.invokeOnInitCallbacks(J,$),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,$,J)}catch(ze){}var le;return J||null}normalizeInstanceIdentifier($=ue){return this.component?this.component.multipleInstances?$:ue:$}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class he{constructor($){this.name=$,this.providers=new Map}addComponent($){const H=this.getProvider($.name);if(H.isComponentSet())throw new Error(`Component ${$.name} has already been registered with ${this.name}`);H.setComponent($)}addOrOverwriteComponent($){this.getProvider($.name).isComponentSet()&&this.providers.delete($.name),this.addComponent($)}getProvider($){if(this.providers.has($))return this.providers.get($);const H=new X($,this);return this.providers.set($,H),H}getProviders(){return Array.from(this.providers.values())}}},1877:(lt,Se,k)=>{k.d(Se,{in:()=>Y,Yd:()=>re,Ub:()=>he,Am:()=>le});const p=[];var Y=(()=>{return($=Y||(Y={}))[$.DEBUG=0]="DEBUG",$[$.VERBOSE=1]="VERBOSE",$[$.INFO=2]="INFO",$[$.WARN=3]="WARN",$[$.ERROR=4]="ERROR",$[$.SILENT=5]="SILENT",Y;var $})();const N={debug:Y.DEBUG,verbose:Y.VERBOSE,info:Y.INFO,warn:Y.WARN,error:Y.ERROR,silent:Y.SILENT},ue=Y.INFO,X={[Y.DEBUG]:"log",[Y.VERBOSE]:"log",[Y.INFO]:"info",[Y.WARN]:"warn",[Y.ERROR]:"error"},ge=($,H,...J)=>{if(H<$.logLevel)return;const ze=(new Date).toISOString(),Ae=X[H];if(!Ae)throw new Error(`Attempted to log a message with an invalid logType (value: ${H})`);console[Ae](`[${ze}]  ${$.name}:`,...J)};class re{constructor(H){this.name=H,this._logLevel=ue,this._logHandler=ge,this._userLogHandler=null,p.push(this)}get logLevel(){return this._logLevel}set logLevel(H){if(!(H in Y))throw new TypeError(`Invalid value "${H}" assigned to \`logLevel\``);this._logLevel=H}setLogLevel(H){this._logLevel="string"==typeof H?N[H]:H}get logHandler(){return this._logHandler}set logHandler(H){if("function"!=typeof H)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=H}get userLogHandler(){return this._userLogHandler}set userLogHandler(H){this._userLogHandler=H}debug(...H){this._userLogHandler&&this._userLogHandler(this,Y.DEBUG,...H),this._logHandler(this,Y.DEBUG,...H)}log(...H){this._userLogHandler&&this._userLogHandler(this,Y.VERBOSE,...H),this._logHandler(this,Y.VERBOSE,...H)}info(...H){this._userLogHandler&&this._userLogHandler(this,Y.INFO,...H),this._logHandler(this,Y.INFO,...H)}warn(...H){this._userLogHandler&&this._userLogHandler(this,Y.WARN,...H),this._logHandler(this,Y.WARN,...H)}error(...H){this._userLogHandler&&this._userLogHandler(this,Y.ERROR,...H),this._logHandler(this,Y.ERROR,...H)}}function he($){p.forEach(H=>{H.setLogLevel($)})}function le($,H){for(const J of p){let ze=null;H&&H.level&&(ze=N[H.level]),J.userLogHandler=null===$?null:(Ae,Oe,...Le)=>{const fe=Le.map(be=>{if(null==be)return null;if("string"==typeof be)return be;if("number"==typeof be||"boolean"==typeof be)return be.toString();if(be instanceof Error)return be.message;try{return JSON.stringify(be)}catch(rt){return null}}).filter(be=>be).join(" ");Oe>=(null!=ze?ze:Ae.logLevel)&&$({level:Y[Oe].toLowerCase(),message:fe,args:Le,type:Ae.name})}}}},5861:(lt,Se,k)=>{function p(N,ue,X,ge,re,he,le){try{var $=N[he](le),H=$.value}catch(J){return void X(J)}$.done?ue(H):Promise.resolve(H).then(ge,re)}function Y(N){return function(){var ue=this,X=arguments;return new Promise(function(ge,re){var he=N.apply(ue,X);function le(H){p(he,ge,re,le,$,"next",H)}function $(H){p(he,ge,re,le,$,"throw",H)}le(void 0)})}}k.d(Se,{Z:()=>Y})}},lt=>{lt(lt.s=5155)}]);